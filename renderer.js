/*! For license information please see renderer.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{var __webpack_modules__={8089:(e,t,n)=>{"use strict";n.d(t,{R_:()=>v});var r=n(2974),o=n(9323),i=2,s=.16,a=.05,l=.05,c=.15,u=5,h=4,d=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function p(e){var t=e.r,n=e.g,o=e.b,i=(0,r.py)(t,n,o);return{h:360*i.h,s:i.s,v:i.v}}function f(e){var t=e.r,n=e.g,o=e.b;return"#".concat((0,r.vq)(t,n,o,!1))}function g(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-i*t:Math.round(e.h)+i*t:n?Math.round(e.h)+i*t:Math.round(e.h)-i*t)<0?r+=360:r>=360&&(r-=360),r}function m(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-s*t:t===h?e.s+s:e.s+a*t)>1&&(r=1),n&&t===u&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function _(e,t,n){var r;return(r=n?e.v+l*t:e.v-c*t)>1&&(r=1),Number(r.toFixed(2))}function v(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=(0,o.uA)(e),i=u;i>0;i-=1){var s=p(r),a=f((0,o.uA)({h:g(s,i,!0),s:m(s,i,!0),v:_(s,i,!0)}));n.push(a)}n.push(f(r));for(var l=1;l<=h;l+=1){var c=p(r),v=f((0,o.uA)({h:g(c,l),s:m(c,l),v:_(c,l)}));n.push(v)}return"dark"===t.theme?d.map((function(e){var r,i,s,a=e.index,l=e.opacity;return f((r=(0,o.uA)(t.backgroundColor||"#141414"),i=(0,o.uA)(n[a]),s=100*l/100,{r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b}))})):n}var b={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},E={},y={};Object.keys(b).forEach((function(e){E[e]=v(b[e]),E[e].primary=E[e][5],y[e]=v(b[e],{theme:"dark",backgroundColor:"#141414"}),y[e].primary=y[e][5]}));E.red,E.volcano,E.gold,E.orange,E.yellow,E.lime,E.green,E.cyan,E.blue,E.geekblue,E.purple,E.magenta,E.grey,E.grey},6473:(e,t,n)=>{"use strict";n.d(t,{E4:()=>Ne,jG:()=>Be,fp:()=>N,xy:()=>Ae});var r=n(5543),o=n(9834),i=n(9685);const s=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};n(6794),n(752);var a=n(3836),l=n(1320),c=n(6431);const u=function(){function e(){(0,a.Z)(this,e),(0,c.Z)(this,"cache",new Map)}return(0,l.Z)(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),r=t(this.cache.get(n));null===r?this.cache.delete(n):this.cache.set(n,r)}}]),e}();var h="data-token-hash",d="data-css-hash",p="__cssinjs_instance__",f=Math.random().toString(12).slice(2);function g(){if("undefined"!=typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(d,"]"))||[],t=document.head.firstChild;Array.from(e).forEach((function(e){e[p]=e[p]||f,document.head.insertBefore(e,t)}));var n={};Array.from(document.querySelectorAll("style[".concat(d,"]"))).forEach((function(e){var t,r=e.getAttribute(d);n[r]?e[p]===f&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):n[r]=!0}))}return new u}var m=i.createContext({hashPriority:"low",cache:g(),defaultCache:!0});const _=m;var v=n(3133);const b=function(){return!1};function E(e,t,n,r){var s=i.useContext(_).cache,a=[e].concat((0,o.Z)(t));b();return i.useMemo((function(){s.update(a,(function(e){var t=e||[],r=(0,v.Z)(t,2),o=r[0];return[(void 0===o?0:o)+1,r[1]||n()]}))}),[a.join("_")]),i.useEffect((function(){return function(){s.update(a,(function(e){var t=e||[],n=(0,v.Z)(t,2),o=n[0],i=void 0===o?0:o,s=n[1];return 0===i-1?(null==r||r(s,!1),null):[i-1,s]}))}}),a),s.get(a)[1]}var y=n(6151),T=n(4843),w=n(4785);function S(e){var t="";return Object.keys(e).forEach((function(n){var r=e[n];t+=n,r&&"object"===(0,y.Z)(r)?t+=S(r):t+=r})),t}var C="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),I="903px";var k=void 0;function R(){return void 0===k&&(k=function(e,t){if((0,T.Z)()){var n;(0,w.hq)(e,C);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null==t||t(r),document.body.appendChild(r);var o=getComputedStyle(r).width===I;return null===(n=r.parentNode)||void 0===n||n.removeChild(r),(0,w.jL)(C),o}return!1}("@layer ".concat(C," { .").concat(C," { width: ").concat(I,"!important; } }"),(function(e){e.className=C}))),k}var M={},O="css",x=new Map;function A(e){x.set(e,(x.get(e)||0)-1);var t=Array.from(x.keys()),n=t.filter((function(e){return(x.get(e)||0)<=0}));n.length<t.length&&n.forEach((function(e){!function(e){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(h,'="').concat(e,'"]')).forEach((function(e){var t;e[p]===f&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e),x.delete(e)}))}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.salt,l=void 0===a?"":a,c=n.override,u=void 0===c?M:c,h=n.formatToken,d=i.useMemo((function(){return Object.assign.apply(Object,[{}].concat((0,o.Z)(t)))}),[t]),p=i.useMemo((function(){return S(d)}),[d]),f=i.useMemo((function(){return S(u)}),[u]),g=E("token",[l,e.id,p,f],(function(){var t=e.getDerivativeToken(d),n=(0,r.Z)((0,r.Z)({},t),u);h&&(n=h(n));var o=function(e,t){return s("".concat(t,"_").concat(S(e)))}(n,l);n._tokenKey=o,function(e){x.set(e,(x.get(e)||0)+1)}(o);var i="".concat(O,"-").concat(s(o));return n._hashId=i,[n,i]}),(function(e){A(e[0]._tokenKey)}));return g}var L=n(7446);const D={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var P="comm",$="rule",B="decl",F="@import",U="@keyframes",G=Math.abs,j=String.fromCharCode;Object.assign;function H(e){return e.trim()}function V(e,t,n){return e.replace(t,n)}function W(e,t){return e.indexOf(t)}function z(e,t){return 0|e.charCodeAt(t)}function Z(e,t,n){return e.slice(t,n)}function X(e){return e.length}function Y(e){return e.length}function K(e,t){return t.push(e),e}function J(e,t){for(var n="",r=Y(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case F:case B:return e.return=e.return||e.value;case P:return"";case U:return e.return=e.value+"{"+J(e.children,r)+"}";case $:e.value=e.props.join(",")}return X(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}var Q=1,ee=1,te=0,ne=0,re=0,oe="";function ie(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Q,column:ee,length:s,return:""}}function se(){return re=ne>0?z(oe,--ne):0,ee--,10===re&&(ee=1,Q--),re}function ae(){return re=ne<te?z(oe,ne++):0,ee++,10===re&&(ee=1,Q++),re}function le(){return z(oe,ne)}function ce(){return ne}function ue(e,t){return Z(oe,e,t)}function he(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function de(e){return Q=ee=1,te=X(oe=e),ne=0,[]}function pe(e){return oe="",e}function fe(e){return H(ue(ne-1,_e(91===e?e+2:40===e?e+1:e)))}function ge(e){for(;(re=le())&&re<33;)ae();return he(e)>2||he(re)>3?"":" "}function me(e,t){for(;--t&&ae()&&!(re<48||re>102||re>57&&re<65||re>70&&re<97););return ue(e,ce()+(t<6&&32==le()&&32==ae()))}function _e(e){for(;ae();)switch(re){case e:return ne;case 34:case 39:34!==e&&39!==e&&_e(re);break;case 40:41===e&&_e(e);break;case 92:ae()}return ne}function ve(e,t){for(;ae()&&e+re!==57&&(e+re!==84||47!==le()););return"/*"+ue(t,ne-1)+"*"+j(47===e?e:ae())}function be(e){for(;!he(le());)ae();return ue(e,ne)}function Ee(e){return pe(ye("",null,null,null,[""],e=de(e),0,[0],e))}function ye(e,t,n,r,o,i,s,a,l){for(var c=0,u=0,h=s,d=0,p=0,f=0,g=1,m=1,_=1,v=0,b="",E=o,y=i,T=r,w=b;m;)switch(f=v,v=ae()){case 40:if(108!=f&&58==z(w,h-1)){-1!=W(w+=V(fe(v),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:w+=fe(v);break;case 9:case 10:case 13:case 32:w+=ge(f);break;case 92:w+=me(ce()-1,7);continue;case 47:switch(le()){case 42:case 47:K(we(ve(ae(),ce()),t,n),l);break;default:w+="/"}break;case 123*g:a[c++]=X(w)*_;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:p>0&&X(w)-h&&K(p>32?Se(w+";",r,n,h-1):Se(V(w," ","")+";",r,n,h-2),l);break;case 59:w+=";";default:if(K(T=Te(w,t,n,c,u,o,a,b,E=[],y=[],h),i),123===v)if(0===u)ye(w,t,T,T,E,i,h,a,y);else switch(99===d&&110===z(w,3)?100:d){case 100:case 109:case 115:ye(e,T,T,r&&K(Te(e,T,T,0,0,o,a,b,o,E=[],h),y),o,y,h,a,r?E:y);break;default:ye(w,T,T,T,[""],y,0,a,y)}}c=u=p=0,g=_=1,b=w="",h=s;break;case 58:h=1+X(w),p=f;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==se())continue;switch(w+=j(v),v*g){case 38:_=u>0?1:(w+="\f",-1);break;case 44:a[c++]=(X(w)-1)*_,_=1;break;case 64:45===le()&&(w+=fe(ae())),d=le(),u=h=X(b=w+=be(ce())),v++;break;case 45:45===f&&2==X(w)&&(g=0)}}return i}function Te(e,t,n,r,o,i,s,a,l,c,u){for(var h=o-1,d=0===o?i:[""],p=Y(d),f=0,g=0,m=0;f<r;++f)for(var _=0,v=Z(e,h+1,h=G(g=s[f])),b=e;_<p;++_)(b=H(g>0?d[_]+" "+v:V(v,/&\f/g,d[_])))&&(l[m++]=b);return ie(e,t,n,0===o?$:a,l,c,u)}function we(e,t,n){return ie(e,t,n,P,j(re),Z(e,2,-2),0)}function Se(e,t,n,r){return ie(e,t,n,B,Z(e,0,r),Z(e,r+1,-1),r)}var Ce=n(3379);var Ie=(0,T.Z)(),ke="_skip_check_";function Re(e){return J(Ee(e),q).replace(/\{%%%\:[^;];}/g,";")}var Me=new Set,Oe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},s=i.root,a=i.injectHash,l=i.parentSelectors,c=n.hashId,u=n.layer,h=(n.path,n.hashPriority),d=n.transformers,p=void 0===d?[]:d,f=(n.linters,""),g={};function m(t){var r=t.getName(c);if(!g[r]){var o=e(t.style,n,{root:!1,parentSelectors:l}),i=(0,v.Z)(o,1)[0];g[r]="@keyframes ".concat(t.getName(c)).concat(i)}}var _=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);if(_.forEach((function(t){var i="string"!=typeof t||s?t:{};if("string"==typeof i)f+="".concat(i,"\n");else if(i._keyframe)m(i);else{var u=p.reduce((function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),i);Object.keys(u).forEach((function(t){var i=u[t];if("object"!==(0,y.Z)(i)||!i||"animationName"===t&&i._keyframe||function(e){return"object"===(0,y.Z)(e)&&e&&ke in e}(i)){var d,p=null!==(d=null==i?void 0:i.value)&&void 0!==d?d:i;0;var _=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),b=p;D[t]||"number"!=typeof b||0===b||(b="".concat(b,"px")),"animationName"===t&&null!=i&&i._keyframe&&(m(i),b=i.getName(c)),f+="".concat(_,":").concat(b,";")}else{var E=!1,T=t.trim(),w=!1;(s||a)&&c?T.startsWith("@")?E=!0:T=function(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r;return e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",s=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(s).concat(i).concat(r.slice(s.length))].concat((0,o.Z)(n.slice(1))).join(" ")})).join(",")}(t,c,h):!s||c||"&"!==T&&""!==T||(T="",w=!0);var S=e(i,n,{root:w,injectHash:E,parentSelectors:[].concat((0,o.Z)(l),[T])}),C=(0,v.Z)(S,2),I=C[0],k=C[1];g=(0,r.Z)((0,r.Z)({},g),k),f+="".concat(T).concat(I)}}))}})),s){if(u&&R()){var b=u.split(","),E=b[b.length-1].trim();f="@layer ".concat(E," {").concat(f,"}"),b.length>1&&(f="@layer ".concat(u,"{%%%:%}").concat(f))}}else f="{".concat(f,"}");return[f,g]};function xe(){return null}function Ae(e,t){var n=e.token,r=e.path,a=e.hashId,l=e.layer,u=i.useContext(_),g=u.autoClear,m=(u.mock,u.defaultCache),b=u.hashPriority,y=u.container,T=u.ssrInline,S=u.transformers,C=u.linters,I=n._tokenKey,k=[I].concat((0,o.Z)(r)),R=Ie;var M=E("style",k,(function(){var e=t(),n=Oe(e,{hashId:a,hashPriority:b,layer:l,path:r.join("-"),transformers:S,linters:C}),o=(0,v.Z)(n,2),i=o[0],c=o[1],u=Re(i),g=function(e,t){return s("".concat(e.join("%")).concat(t))}(k,u);if(R){var m=(0,w.hq)(u,g,{mark:d,prepend:"queue",attachTo:y});m[p]=f,m.setAttribute(h,I),Object.keys(c).forEach((function(e){Me.has(e)||(Me.add(e),(0,w.hq)(Re(c[e]),"_effect-".concat(e),{mark:d,prepend:"queue",attachTo:y}))}))}return[u,I,g]}),(function(e,t){var n=(0,v.Z)(e,3)[2];(t||g)&&Ie&&(0,w.jL)(n,{mark:d})})),O=(0,v.Z)(M,3),x=O[0],A=O[1],N=O[2];return function(e){var t,n;T&&!R&&m?t=i.createElement("style",(0,L.Z)({},(n={},(0,c.Z)(n,h,A),(0,c.Z)(n,d,N),n),{dangerouslySetInnerHTML:{__html:x}})):t=i.createElement(xe,null);return i.createElement(i.Fragment,null,t,e)}}const Ne=function(){function e(t,n){(0,a.Z)(this,e),(0,c.Z)(this,"name",void 0),(0,c.Z)(this,"style",void 0),(0,c.Z)(this,"_keyframe",!0),this.name=t,this.style=n}return(0,l.Z)(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();var Le=function(){function e(){(0,a.Z)(this,e),(0,c.Z)(this,"cache",void 0),(0,c.Z)(this,"keys",void 0),(0,c.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,l.Z)(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach((function(e){var t,n;o?o=null===(t=o)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):o=void 0})),null!==(t=o)&&void 0!==t&&t.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(n=o)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce((function(e,t){var n=(0,v.Z)(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),i=(0,v.Z)(o,1)[0];this.delete(i)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,o){if(o===t.length-1)s.set(e,{value:[n,r.cacheCallTimes++]});else{var i=s.get(e);i?i.map||(i.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var o=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();(0,c.Z)(Le,"MAX_CACHE_SIZE",20),(0,c.Z)(Le,"MAX_CACHE_OFFSET",5);var De=0,Pe=function(){function e(t){(0,a.Z)(this,e),(0,c.Z)(this,"derivatives",void 0),(0,c.Z)(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=De,0===t.length&&(0,Ce.Kp)(t.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),De+=1}return(0,l.Z)(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),$e=new Le;function Be(e){var t=Array.isArray(e)?e:[e];return $e.has(t)||$e.set(t,new Pe(t)),$e.get(t)}function Fe(e){return e.notSplit=!0,e}Fe(["borderTop","borderBottom"]),Fe(["borderTop"]),Fe(["borderBottom"]),Fe(["borderLeft","borderRight"]),Fe(["borderLeft"]),Fe(["borderRight"])},849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(5543),o=n(3133),i=n(6431),s=n(127),a=n(9685),l=n(8591),c=n.n(l),u=n(4113),h=n(6151),d=n(8089),p=n(3379),f=n(4785);function g(e){return"object"===(0,h.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,h.Z)(e.icon)||"function"==typeof e.icon)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function _(e,t,n){return n?a.createElement(e.tag,(0,r.Z)((0,r.Z)({key:t},m(e.attrs)),n),(e.children||[]).map((function(n,r){return _(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):a.createElement(e.tag,(0,r.Z)({key:t},m(e.attrs)),(e.children||[]).map((function(n,r){return _(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function v(e){return(0,d.R_)(e)[0]}function b(e){return e?Array.isArray(e)?e:[e]:[]}var E="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",y=["icon","className","onClick","style","primaryColor","secondaryColor"],T={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var w=function(e){var t,n,o=e.icon,i=e.className,l=e.onClick,c=e.style,h=e.primaryColor,d=e.secondaryColor,m=(0,s.Z)(e,y),b=T;if(h&&(b={primaryColor:h,secondaryColor:d||v(h)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=(0,a.useContext)(u.Z),n=t.csp,r=t.prefixCls,o=e;r&&(o=o.replace(/anticon/g,r)),(0,a.useEffect)((function(){(0,f.hq)(o,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),t=g(o),n="icon should be icon definiton, but got ".concat(o),(0,p.ZP)(t,"[@ant-design/icons] ".concat(n)),!g(o))return null;var w=o;return w&&"function"==typeof w.icon&&(w=(0,r.Z)((0,r.Z)({},w),{},{icon:w.icon(b.primaryColor,b.secondaryColor)})),_(w.icon,"svg-".concat(w.name),(0,r.Z)({className:i,onClick:l,style:c,"data-icon":w.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},m))};w.displayName="IconReact",w.getTwoToneColors=function(){return(0,r.Z)({},T)},w.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;T.primaryColor=t,T.secondaryColor=n||v(t),T.calculated=!!n};const S=w;function C(e){var t=b(e),n=(0,o.Z)(t,2),r=n[0],i=n[1];return S.setTwoToneColors({primaryColor:r,secondaryColor:i})}var I=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];C("#1890ff");var k=a.forwardRef((function(e,t){var n,l=e.className,h=e.icon,d=e.spin,p=e.rotate,f=e.tabIndex,g=e.onClick,m=e.twoToneColor,_=(0,s.Z)(e,I),v=a.useContext(u.Z),E=v.prefixCls,y=void 0===E?"anticon":E,T=v.rootClassName,w=c()(T,y,(n={},(0,i.Z)(n,"".concat(y,"-").concat(h.name),!!h.name),(0,i.Z)(n,"".concat(y,"-spin"),!!d||"loading"===h.name),n),l),C=f;void 0===C&&g&&(C=-1);var k=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,R=b(m),M=(0,o.Z)(R,2),O=M[0],x=M[1];return a.createElement("span",(0,r.Z)((0,r.Z)({role:"img","aria-label":h.name},_),{},{ref:t,tabIndex:C,onClick:g,className:w}),a.createElement(S,{icon:h,primaryColor:O,secondaryColor:x,style:k}))}));k.displayName="AntdIcon",k.getTwoToneColor=function(){var e=S.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},k.setTwoToneColor=C;const R=k},4113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(9685).createContext)({})},4:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="CheckCircleFilled";const l=o.forwardRef(a)},5253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="CloseCircleFilled";const l=o.forwardRef(a)},2157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="CloseOutlined";const l=o.forwardRef(a)},1974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="ExclamationCircleFilled";const l=o.forwardRef(a)},6361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="InfoCircleFilled";const l=o.forwardRef(a)},73:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o=n(9685);const i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var s=n(849),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="LoadingOutlined";const l=o.forwardRef(a)},2974:(e,t,n)=>{"use strict";n.d(t,{T6:()=>p,VD:()=>f,WE:()=>c,Yt:()=>g,lC:()=>i,py:()=>l,rW:()=>o,s:()=>h,ve:()=>a,vq:()=>u});var r=n(4689);function o(e,t,n){return{r:255*(0,r.sh)(e,255),g:255*(0,r.sh)(t,255),b:255*(0,r.sh)(n,255)}}function i(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),s=0,a=0,l=(o+i)/2;if(o===i)a=0,s=0;else{var c=o-i;switch(a=l>.5?c/(2-o-i):c/(o+i),o){case e:s=(t-n)/c+(t<n?6:0);break;case t:s=(n-e)/c+2;break;case n:s=(e-t)/c+4}s/=6}return{h:s,s:a,l}}function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function a(e,t,n){var o,i,a;if(e=(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100),0===t)i=n,a=n,o=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=s(c,l,e+1/3),i=s(c,l,e),a=s(c,l,e-1/3)}return{r:255*o,g:255*i,b:255*a}}function l(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),s=0,a=o,l=o-i,c=0===o?0:l/o;if(o===i)s=0;else{switch(o){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:c,v:a}}function c(e,t,n){e=6*(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100);var o=Math.floor(e),i=e-o,s=n*(1-t),a=n*(1-i*t),l=n*(1-(1-i)*t),c=o%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}function u(e,t,n,o){var i=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(e,t,n,o,i){var s=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16)),(0,r.FZ)(d(o))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function d(e){return Math.round(255*parseFloat(e)).toString(16)}function p(e){return f(e)/255}function f(e){return parseInt(e,16)}function g(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},5761:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},9323:(e,t,n)=>{"use strict";n.d(t,{uA:()=>s});var r=n(2974),o=n(5761),i=n(4689);function s(e){var t={r:0,g:0,b:0},n=1,s=null,a=null,l=null,c=!1,d=!1;return"string"==typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(o.R[e])e=o.R[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=u.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=u.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=u.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=u.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=u.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=u.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=u.hex8.exec(e),n)return{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),a:(0,r.T6)(n[4]),format:t?"name":"hex8"};if(n=u.hex6.exec(e),n)return{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),format:t?"name":"hex"};if(n=u.hex4.exec(e),n)return{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),a:(0,r.T6)(n[4]+n[4]),format:t?"name":"hex8"};if(n=u.hex3.exec(e),n)return{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"==typeof e&&(h(e.r)&&h(e.g)&&h(e.b)?(t=(0,r.rW)(e.r,e.g,e.b),c=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):h(e.h)&&h(e.s)&&h(e.v)?(s=(0,i.JX)(e.s),a=(0,i.JX)(e.v),t=(0,r.WE)(e.h,s,a),c=!0,d="hsv"):h(e.h)&&h(e.s)&&h(e.l)&&(s=(0,i.JX)(e.s),l=(0,i.JX)(e.l),t=(0,r.ve)(e.h,s,l),c=!0,d="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=(0,i.Yq)(n),{ok:c,format:e.format||d,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var a="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),l="[\\s|\\(]+(".concat(a,")[,|\\s]+(").concat(a,")[,|\\s]+(").concat(a,")\\s*\\)?"),c="[\\s|\\(]+(".concat(a,")[,|\\s]+(").concat(a,")[,|\\s]+(").concat(a,")[,|\\s]+(").concat(a,")\\s*\\)?"),u={CSS_UNIT:new RegExp(a),rgb:new RegExp("rgb"+l),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+l),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+l),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function h(e){return Boolean(u.CSS_UNIT.exec(String(e)))}},190:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(2974),o=n(5761),i=n(9323),s=n(4689),a=function(){function e(t,n){var o;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=(0,r.Yt)(t)),this.originalInput=t;var s=(0,i.uA)(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=(0,s.Yq)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=(0,r.py)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=(0,r.py)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=(0,r.lC)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=(0,r.lC)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),(0,r.vq)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),(0,r.s)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*(0,s.sh)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*(0,s.sh)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+(0,r.vq)(this.r,this.g,this.b,!1),t=0,n=Object.entries(o.R);t<n.length;t++){var i=n[t],s=i[0];if(e===i[1])return s}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=(0,s.V2)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=(0,s.V2)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=(0,s.V2)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=(0,s.V2)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,s=[],a=1/t;t--;)s.push(new e({h:r,s:o,v:i})),i=(i+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),o=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/o,g:(n.g*n.a+r.g*r.a*(1-n.a))/o,b:(n.b*n.a+r.b*r.a*(1-n.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,s=1;s<t;s++)o.push(new e({h:(r+s*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}()},4689:(e,t,n)=>{"use strict";function r(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function o(e){return Math.min(1,Math.max(0,e))}function i(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function s(e){return e<=1?"".concat(100*Number(e),"%"):e}function a(e){return 1===e.length?"0"+e:String(e)}n.d(t,{FZ:()=>a,JX:()=>s,V2:()=>o,Yq:()=>i,sh:()=>r})},6436:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(3133),o=n(9685),i=n(374),s=n(4843),a=n(2943);const l=o.createContext(null);var c=n(9834),u=n(9023),h=[];var d,p=n(4785);function f(e){if("undefined"==typeof document)return 0;if(e||void 0===d){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=n.clientWidth),document.body.removeChild(n),d=o-i}return d}var g="rc-util-locker-".concat(Date.now()),m=0;function _(e){var t=!!e,n=o.useState((function(){return m+=1,"".concat(g,"_").concat(m)})),i=(0,r.Z)(n,1)[0];(0,u.Z)((function(){if(t){var e=f(),n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,p.hq)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),i)}else(0,p.jL)(i);return function(){(0,p.jL)(i)}}),[t,i])}var v=!1;var b=function(e){return!1!==e&&((0,s.Z)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)};const E=o.forwardRef((function(e,t){var n=e.open,d=e.autoLock,p=e.getContainer,f=(e.debug,e.autoDestroy),g=void 0===f||f,m=e.children,E=o.useState(n),y=(0,r.Z)(E,2),T=y[0],w=y[1],S=T||n;o.useEffect((function(){(g||n)&&w(n)}),[n,g]);var C=o.useState((function(){return b(p)})),I=(0,r.Z)(C,2),k=I[0],R=I[1];o.useEffect((function(){var e=b(p);R(null!=e?e:null)}));var M=function(e,t){var n=o.useState((function(){return(0,s.Z)()?document.createElement("div"):null})),i=(0,r.Z)(n,1)[0],a=o.useRef(!1),d=o.useContext(l),p=o.useState(h),f=(0,r.Z)(p,2),g=f[0],m=f[1],_=d||(a.current?void 0:function(e){m((function(t){return[e].concat((0,c.Z)(t))}))});function v(){i.parentElement||document.body.appendChild(i),a.current=!0}function b(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i),a.current=!1}return(0,u.Z)((function(){return e?d?d(v):v():b(),b}),[e]),(0,u.Z)((function(){g.length&&(g.forEach((function(e){return e()})),m(h))}),[g]),[i,_]}(S&&!k),O=(0,r.Z)(M,2),x=O[0],A=O[1],N=null!=k?k:x;_(d&&n&&(0,s.Z)()&&(N===x||N===document.body));var L=null;m&&(0,a.Yr)(m)&&t&&(L=m.ref);var D=(0,a.x1)(L,t);if(!S||!(0,s.Z)()||void 0===k)return null;var P,$=!1===N||("boolean"==typeof P&&(v=P),v),B=m;return t&&(B=o.cloneElement(m,{ref:D})),o.createElement(l.Provider,{value:A},$?B:(0,i.createPortal)(B,N))}))},1485:(e,t,n)=>{"use strict";n.d(t,{mL:()=>o,q0:()=>r});const r=e=>void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down",o=(e,t,n)=>void 0!==n?n:`${e}-${t}`},8807:(e,t,n)=>{"use strict";n.d(t,{n:()=>ge,Z:()=>ve});var r=n(8591),o=n.n(r),i=n(7231),s=n(9685),a=n.t(s,2),l=n(8444),c=n(6797),u=n(6722),h=n(1086),d=n(2943),p=n(5816);const{isValidElement:f}=a;function g(e,t){return function(e,t,n){return f(e)?s.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t}(e,e,t)}var m=n(6911);const _=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},v=(0,m.Z)("Wave",(e=>[_(e)]));var b=n(1791),E=n(1055),y=n(7287);function T(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function w(e){return Number.isNaN(e)?0:e}const S=e=>{const{className:t,target:n}=e,r=s.useRef(null),[i,a]=s.useState(null),[l,c]=s.useState([]),[u,h]=s.useState(0),[d,p]=s.useState(0),[f,g]=s.useState(0),[m,_]=s.useState(0),[v,S]=s.useState(!1),C={left:u,top:d,width:f,height:m,borderRadius:l.map((e=>`${e}px`)).join(" ")};function I(){const e=getComputedStyle(n);a(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return T(t)?t:T(n)?n:T(r)?r:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:o}=e;h(t?n.offsetLeft:w(-parseFloat(r))),p(t?n.offsetTop:w(-parseFloat(o))),g(n.offsetWidth),_(n.offsetHeight);const{borderTopLeftRadius:i,borderTopRightRadius:s,borderBottomLeftRadius:l,borderBottomRightRadius:u}=e;c([i,s,u,l].map((e=>w(parseFloat(e)))))}return i&&(C["--wave-color"]=i),s.useEffect((()=>{if(n){const e=(0,E.Z)((()=>{I(),S(!0)}));let t;return"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(I),t.observe(n)),()=>{E.Z.cancel(e),null==t||t.disconnect()}}}),[]),v?s.createElement(b.Z,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=r.current)||void 0===n?void 0:n.parentElement;(0,y.v)(e).then((()=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}))}return!1}},(e=>{let{className:n}=e;return s.createElement("div",{ref:r,className:o()(t,n),style:C})})):null};function C(e,t){return function(){!function(e,t){const n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.top="0px",null==e||e.insertBefore(n,null==e?void 0:e.firstChild),(0,y.s)(s.createElement(S,{target:e,className:t}),n)}(e.current,t)}}const I=e=>{const{children:t,disabled:n}=e,{getPrefixCls:r}=(0,s.useContext)(l.E_),i=(0,s.useRef)(null),a=r("wave"),[,c]=v(a),u=C(i,o()(a,c));if(s.useEffect((()=>{const e=i.current;if(!e||1!==e.nodeType||n)return;const t=t=>{"INPUT"===t.target.tagName||!(0,p.Z)(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||u()};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[n]),!s.isValidElement(t))return null!=t?t:null;return g(t,{ref:(0,d.Yr)(t)?(0,d.sQ)(t.ref,i):i})};var k=n(7463),R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const M=s.createContext(void 0),O=e=>{const{getPrefixCls:t,direction:n}=s.useContext(l.E_),{prefixCls:r,size:i,className:a}=e,c=R(e,["prefixCls","size","className"]),u=t("btn-group",r),[,,h]=(0,k.dQ)();let d="";switch(i){case"large":d="lg";break;case"small":d="sm"}const p=o()(u,{[`${u}-${d}`]:d,[`${u}-rtl`]:"rtl"===n},a,h);return s.createElement(M.Provider,{value:i},s.createElement("div",Object.assign({},c,{className:p})))},x=/^[\u4e00-\u9fa5]{2}$/,A=x.test.bind(x);function N(e){return"text"===e||"link"===e}function L(e,t){if(null==e)return;const n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&A(e.props.children)?g(e,{children:e.props.children.split("").join(n)}):"string"==typeof e?A(e)?s.createElement("span",null,e.split("").join(n)):s.createElement("span",null,e):function(e){return e&&f(e)&&e.type===s.Fragment}(e)?s.createElement("span",null,e):e}var D=n(73);const P=()=>({width:0,opacity:0,transform:"scale(0)"}),$=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),B=e=>{let{prefixCls:t,loading:n,existIcon:r}=e;const o=!!n;return r?s.createElement("span",{className:`${t}-loading-icon`},s.createElement(D.Z,null)):s.createElement(b.Z,{visible:o,motionName:`${t}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:P,onAppearActive:$,onEnterStart:P,onEnterActive:$,onLeaveStart:$,onLeaveActive:P},((e,n)=>{let{className:r,style:o}=e;return s.createElement("span",{className:`${t}-loading-icon`,style:o,ref:n},s.createElement(D.Z,{className:r}))}))};var F=n(9626);const U=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),G=e=>{const{componentCls:t,fontSize:n,lineWidth:r,colorPrimaryHover:o,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},U(`${t}-primary`,o),U(`${t}-danger`,i)]}};var j=n(1637),H=n(300);function V(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function W(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},V(e,t)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const z=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},(0,j.Qy)(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${2*e.lineWidth}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${2*e.lineWidth}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Z=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),X=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Y=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),K=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),J=(e,t,n,r,o,i,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},Z(Object.assign({backgroundColor:"transparent"},i),Object.assign({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}})}),q=e=>({"&:disabled":Object.assign({},K(e))}),Q=e=>Object.assign({},q(e)),ee=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),te=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Q(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),Z({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),J(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Z({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),J(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),q(e))}),ne=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Q(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),Z({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),J(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},Z({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),J(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),q(e))}),re=e=>Object.assign(Object.assign({},te(e)),{borderStyle:"dashed"}),oe=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Z({color:e.colorLinkHover},{color:e.colorLinkActive})),ee(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Z({color:e.colorErrorHover},{color:e.colorErrorActive})),ee(e))}),ie=e=>Object.assign(Object.assign(Object.assign({},Z({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),ee(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},ee(e)),Z({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),se=e=>Object.assign(Object.assign({},K(e)),{[`&${e.componentCls}:hover`]:Object.assign({},K(e))}),ae=e=>{const{componentCls:t}=e;return{[`${t}-default`]:te(e),[`${t}-primary`]:ne(e),[`${t}-dashed`]:re(e),[`${t}-link`]:oe(e),[`${t}-text`]:ie(e),[`${t}-disabled`]:se(e)}},le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,iconCls:r,controlHeight:o,fontSize:i,lineHeight:s,lineWidth:a,borderRadius:l,buttonPaddingHorizontal:c}=e,u=`${n}-icon-only`;return[{[`${n}${t}`]:{fontSize:i,height:o,padding:`${Math.max(0,(o-i*s)/2-a)}px ${c-a}px`,borderRadius:l,[`&${u}`]:{width:o,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${u}) ${n}-loading-icon > ${r}`]:{marginInlineEnd:e.marginXS}}},{[`${n}${n}-circle${t}`]:X(e)},{[`${n}${n}-round${t}`]:Y(e)}]},ce=e=>le(e),ue=e=>{const t=(0,F.TS)(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return le(t,`${e.componentCls}-sm`)},he=e=>{const t=(0,F.TS)(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return le(t,`${e.componentCls}-lg`)},de=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},pe=(0,m.Z)("Button",(e=>{const{controlTmpOutline:t,paddingContentHorizontal:n}=e,r=(0,F.TS)(e,{colorOutlineDefault:t,buttonPaddingHorizontal:n});return[z(r),ue(r),ce(r),he(r),de(r),ae(r),G(r),(0,H.c)(e,{focus:!1}),W(e)]}));var fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ge(e){return"danger"===e?{danger:!0}:{type:e}}const me=(e,t)=>{const{loading:n=!1,prefixCls:r,type:a="default",danger:d,shape:p="default",size:f,disabled:g,className:m,rootClassName:_,children:v,icon:b,ghost:E=!1,block:y=!1,htmlType:T="button"}=e,w=fe(e,["loading","prefixCls","type","danger","shape","size","disabled","className","rootClassName","children","icon","ghost","block","htmlType"]),{getPrefixCls:S,autoInsertSpaceInButton:C,direction:k}=s.useContext(l.E_),R=S("btn",r),[O,x]=pe(R),D=s.useContext(u.Z),P=s.useContext(c.Z),$=null!=g?g:P,F=s.useContext(M),U=s.useMemo((()=>function(e){if("object"==typeof e&&e){const t=null==e?void 0:e.delay;return{loading:!1,delay:Number.isNaN(t)||"number"!=typeof t?0:t}}return{loading:!!e,delay:0}}(n)),[n]),[G,j]=s.useState(U.loading),[H,V]=s.useState(!1),W=t||s.createRef(),z=()=>1===s.Children.count(v)&&!b&&!N(a);s.useEffect((()=>{let e=null;return U.delay>0?e=window.setTimeout((()=>{e=null,j(!0)}),U.delay):j(U.loading),function(){e&&(window.clearTimeout(e),e=null)}}),[U]),s.useEffect((()=>{if(!W||!W.current||!1===C)return;const e=W.current.textContent;z()&&A(e)?H||V(!0):H&&V(!1)}),[W]);const Z=t=>{const{onClick:n}=e;G||$?t.preventDefault():null==n||n(t)},X=!1!==C,{compactSize:Y,compactItemClassnames:K}=(0,h.ri)(R,k),J=Y||F||f||D,q=J&&{large:"lg",small:"sm",middle:void 0}[J]||"",Q=G?"loading":b,ee=(0,i.Z)(w,["navigate"]),te=void 0!==ee.href&&$,ne=o()(R,x,{[`${R}-${p}`]:"default"!==p&&p,[`${R}-${a}`]:a,[`${R}-${q}`]:q,[`${R}-icon-only`]:!v&&0!==v&&!!Q,[`${R}-background-ghost`]:E&&!N(a),[`${R}-loading`]:G,[`${R}-two-chinese-chars`]:H&&X&&!G,[`${R}-block`]:y,[`${R}-dangerous`]:!!d,[`${R}-rtl`]:"rtl"===k,[`${R}-disabled`]:te},K,m,_),re=b&&!G?b:s.createElement(B,{existIcon:!!b,prefixCls:R,loading:!!G}),oe=v||0===v?function(e,t){let n=!1;const r=[];return s.Children.forEach(e,(e=>{const t=typeof e,o="string"===t||"number"===t;if(n&&o){const t=r.length-1,n=r[t];r[t]=`${n}${e}`}else r.push(e);n=o})),s.Children.map(r,(e=>L(e,t)))}(v,z()&&X):null;if(void 0!==ee.href)return O(s.createElement("a",Object.assign({},ee,{className:ne,onClick:Z,ref:W}),re,oe));let ie=s.createElement("button",Object.assign({},w,{type:T,className:ne,onClick:Z,disabled:$,ref:W}),re,oe);return N(a)||(ie=s.createElement(I,{disabled:!!G},ie)),O(ie)},_e=s.forwardRef(me);_e.Group=O,_e.__ANT_BUTTON=!0;const ve=_e},4619:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=n(8807).Z},6797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,n:()=>i});var r=n(9685);const o=r.createContext(!1),i=e=>{let{children:t,disabled:n}=e;const i=r.useContext(o);return r.createElement(o.Provider,{value:null!=n?n:i},t)},s=o},6722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,q:()=>i});var r=n(9685);const o=r.createContext(void 0),i=e=>{let{children:t,size:n}=e;const i=r.useContext(o);return r.createElement(o.Provider,{value:n||i},t)},s=o},8444:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,E_:()=>i,oR:()=>o});var r=n(9685);const o="anticon",i=r.createContext({getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:o}),{Consumer:s}=i},3555:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>$,w6:()=>L});var r=n(6473),o=n(4113),i=n(5914),s=n(6794),a=n(9685),l=n(556),c=n(8250);const u=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;a.useEffect((()=>((0,l.f)(t&&t.Modal),()=>{(0,l.f)()})),[t]);const o=a.useMemo((()=>Object.assign(Object.assign({},t),{exist:!0})),[t]);return a.createElement(c.Z.Provider,{value:o},n)};var h=n(1613),d=n(6481),p=n(7463),f=n(2854),g=n(8444),m=n(8089),_=n(190),v=n(4843),b=n(4785);const E=`-ant-${Date.now()}-${Math.random()}`;function y(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null==t?void 0:t(n))||n,n.toRgbString()},o=(e,t)=>{const o=new _.C(e),i=(0,m.R_)(o.toRgbString());n[`${t}-color`]=r(o),n[`${t}-color-disabled`]=i[1],n[`${t}-color-hover`]=i[4],n[`${t}-color-active`]=i[6],n[`${t}-color-outline`]=o.clone().setAlpha(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=i[0],n[`${t}-color-deprecated-border`]=i[2]};if(t.primaryColor){o(t.primaryColor,"primary");const e=new _.C(t.primaryColor),i=(0,m.R_)(e.toRgbString());i.forEach(((e,t)=>{n[`primary-${t+1}`]=e})),n["primary-color-deprecated-l-35"]=r(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=r(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=r(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=r(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=r(e,(e=>e.setAlpha(.12*e.getAlpha())));const s=new _.C(i[0]);n["primary-color-active-deprecated-f-30"]=r(s,(e=>e.setAlpha(.3*e.getAlpha()))),n["primary-color-active-deprecated-d-02"]=r(s,(e=>e.darken(2)))}return t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map((t=>`--${e}-${t}: ${n[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);(0,v.Z)()&&(0,b.hq)(n,`${E}-dynamic-theme`)}var T=n(6797),w=n(752);var S=n(6722),C=n(1637);const I=e=>{const[t,n]=(0,p.dQ)();return(0,r.xy)({theme:t,token:n,hashId:"",path:["ant-design-icons",e]},(()=>[{[`.${e}`]:Object.assign(Object.assign({},(0,C.Ro)()),{[`.${e} .${e}-icon`]:{display:"block"}})}]))};var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const R=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select"],M="ant";let O,x;function A(){return O||M}function N(){return x||g.oR}const L=()=>({getPrefixCls:(e,t)=>t||(e?`${A()}-${e}`:A()),getIconPrefixCls:N,getRootPrefixCls:()=>O||A()}),D=e=>{var t,n;const{children:l,csp:c,autoInsertSpaceInButton:h,form:m,locale:_,componentSize:v,direction:b,space:E,virtual:y,dropdownMatchSelectWidth:C,legacyLocale:M,parentContext:O,iconPrefixCls:x,theme:A,componentDisabled:N}=e,L=a.useCallback(((t,n)=>{const{prefixCls:r}=e;if(n)return n;const o=r||O.getPrefixCls("");return t?`${o}-${t}`:o}),[O.getPrefixCls,e.prefixCls]),D=x||O.iconPrefixCls||g.oR,P=D!==O.iconPrefixCls,$=c||O.csp,B=I(D),F=function(e,t){const n=e||{},r=!1!==n.inherit&&t?t:p.u_;return(0,s.Z)((()=>{if(!e)return t;const o=Object.assign({},r.components);return Object.keys(e.components||{}).forEach((t=>{o[t]=Object.assign(Object.assign({},o[t]),e.components[t])})),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:o})}),[n,r],((e,t)=>e.some(((e,n)=>{const r=t[n];return!(0,w.Z)(e,r,!0)}))))}(A,O.theme),U={csp:$,autoInsertSpaceInButton:h,locale:_||M,direction:b,space:E,virtual:y,dropdownMatchSelectWidth:C,getPrefixCls:L,iconPrefixCls:D,theme:F},G=Object.assign({},O);Object.keys(U).forEach((e=>{void 0!==U[e]&&(G[e]=U[e])})),R.forEach((t=>{const n=e[t];n&&(G[t]=n)}));const j=(0,s.Z)((()=>G),G,((e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((n=>e[n]!==t[n]))})),H=a.useMemo((()=>({prefixCls:D,csp:$})),[D,$]);let V=P?B(l):l,W={};_&&(W=(null===(t=_.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=d.Z.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),m&&m.validateMessages&&(W=Object.assign(Object.assign({},W),m.validateMessages)),Object.keys(W).length>0&&(V=a.createElement(i.RV,{validateMessages:W},l)),_&&(V=a.createElement(u,{locale:_,_ANT_MARK__:"internalMark"},V)),(D||$)&&(V=a.createElement(o.Z.Provider,{value:H},V)),v&&(V=a.createElement(S.q,{size:v},V));const z=a.useMemo((()=>{const e=F||{},{algorithm:t,token:n}=e,o=k(e,["algorithm","token"]),i=t&&(!Array.isArray(t)||t.length>0)?(0,r.jG)(t):void 0;return Object.assign(Object.assign({},o),{theme:i,token:Object.assign(Object.assign({},f.Z),n)})}),[F]);return A&&(V=a.createElement(p.Mj.Provider,{value:z},V)),void 0!==N&&(V=a.createElement(T.n,{disabled:N},V)),a.createElement(g.E_.Provider,{value:j},V)},P=e=>a.createElement(h.Z,null,((t,n,r)=>a.createElement(g.C,null,(t=>a.createElement(D,Object.assign({parentContext:t,legacyLocale:r},e))))));P.ConfigContext=g.E_,P.SizeContext=S.Z,P.config=e=>{let{prefixCls:t,iconPrefixCls:n,theme:r}=e;void 0!==t&&(O=t),void 0!==n&&(x=n),r&&y(A(),r)};const $=P},606:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>i,aM:()=>o});n(5914);var r=n(9685);const o=r.createContext({}),i=e=>{let{children:t,status:n,override:i}=e;const s=(0,r.useContext)(o),a=(0,r.useMemo)((()=>{const e=Object.assign({},s);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,s]);return r.createElement(o.Provider,{value:a},t)}},1613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9685),o=n(8250),i=n(6481);const s=e=>{const{componentName:t="global",defaultLocale:n,children:s}=e,a=r.useContext(o.Z);return s(r.useMemo((()=>{var e;const r=n||i.Z[t],o=null!==(e=null==a?void 0:a[t])&&void 0!==e?e:{};return Object.assign(Object.assign({},r instanceof Function?r():r),o||{})}),[t,n,a]),r.useMemo((()=>{const e=a&&a.locale;return a&&a.exist&&!e?i.Z.locale:e}),[a]),a)}},8250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(9685).createContext)(void 0)},6481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7033);const o={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},i={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},s={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},o),timePickerLocale:Object.assign({},i)},a=s,l="${label} is not a valid ${type}",c={locale:"en",Pagination:r.Z,DatePicker:s,TimePicker:i,Calendar:a,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}}},3945:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q});var r=n(9834),o=n(7287),i=n(9685),s=n(3555),a=n(73),l=n(1974),c=n(5253),u=n(4),h=n(6361),d=n(3133),p=n(127),f=n(7446),g=n(5543),m=n(374),_=n(1791),v=n(8591),b=n.n(v),E=n(6431),y=i.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,o=e.className,s=e.duration,a=void 0===s?4.5:s,l=e.eventKey,c=e.content,u=e.closable,h=e.closeIcon,p=void 0===h?"x":h,g=e.props,m=e.onClick,_=e.onNoticeClose,v=e.times,y=i.useState(!1),T=(0,d.Z)(y,2),w=T[0],S=T[1],C=function(){_(l)};i.useEffect((function(){if(!w&&a>0){var e=setTimeout((function(){C()}),1e3*a);return function(){clearTimeout(e)}}}),[a,w,v]);var I="".concat(n,"-notice");return i.createElement("div",(0,f.Z)({},g,{ref:t,className:b()(I,o,(0,E.Z)({},"".concat(I,"-closable"),u)),style:r,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:m}),i.createElement("div",{className:"".concat(I,"-content")},c),u&&i.createElement("a",{tabIndex:0,className:"".concat(I,"-close"),onClick:function(e){e.preventDefault(),e.stopPropagation(),C()}},p))}));const T=y;var w=i.forwardRef((function(e,t){var n=e.prefixCls,o=void 0===n?"rc-notification":n,s=e.container,a=e.motion,l=e.maxCount,c=e.className,u=e.style,h=e.onAllRemoved,p=i.useState([]),v=(0,d.Z)(p,2),E=v[0],y=v[1],w=function(e){var t,n=E.find((function(t){return t.key===e}));null==n||null===(t=n.onClose)||void 0===t||t.call(n),y((function(t){return t.filter((function(t){return t.key!==e}))}))};i.useImperativeHandle(t,(function(){return{open:function(e){y((function(t){var n,o=(0,r.Z)(t),i=o.findIndex((function(t){return t.key===e.key})),s=(0,g.Z)({},e);i>=0?(s.times=((null===(n=t[i])||void 0===n?void 0:n.times)||0)+1,o[i]=s):(s.times=0,o.push(s));return l>0&&o.length>l&&(o=o.slice(-l)),o}))},close:function(e){w(e)},destroy:function(){y([])}}}));var S=i.useState({}),C=(0,d.Z)(S,2),I=C[0],k=C[1];i.useEffect((function(){var e={};E.forEach((function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))})),Object.keys(I).forEach((function(t){e[t]=e[t]||[]})),k(e)}),[E]);var R=i.useRef(!1);if(i.useEffect((function(){Object.keys(I).length>0?R.current=!0:R.current&&(null==h||h(),R.current=!1)}),[I]),!s)return null;var M=Object.keys(I);return(0,m.createPortal)(i.createElement(i.Fragment,null,M.map((function(e){var t=I[e].map((function(e){return{config:e,key:e.key}})),n="function"==typeof a?a(e):a;return i.createElement(_.V,(0,f.Z)({key:e,className:b()(o,"".concat(o,"-").concat(e),null==c?void 0:c(e)),style:null==u?void 0:u(e),keys:t,motionAppear:!0},n,{onAllRemoved:function(){!function(e){k((function(t){var n=(0,g.Z)({},t);return(n[e]||[]).length||delete n[e],n}))}(e)}}),(function(e,t){var n=e.config,r=e.className,s=e.style,a=n.key,l=n.times,c=n.className,u=n.style;return i.createElement(T,(0,f.Z)({},n,{ref:t,prefixCls:o,className:b()(r,c),style:(0,g.Z)((0,g.Z)({},s),u),times:l,key:a,eventKey:a,onNoticeClose:w}))}))}))),s)}));const S=w;var C=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],I=function(){return document.body},k=0;function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?I:t,o=e.motion,s=e.prefixCls,a=e.maxCount,l=e.className,c=e.style,u=e.onAllRemoved,h=(0,p.Z)(e,C),f=i.useState(),g=(0,d.Z)(f,2),m=g[0],_=g[1],v=i.useRef(),b=i.createElement(S,{container:m,ref:v,prefixCls:s,motion:o,maxCount:a,className:l,style:c,onAllRemoved:u}),E=i.useState([]),y=(0,d.Z)(E,2),T=y[0],w=y[1],R=i.useMemo((function(){return{open:function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(h,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(k),k+=1),w((function(e){return[].concat((0,r.Z)(e),[{type:"open",config:t}])}))},close:function(e){w((function(t){return[].concat((0,r.Z)(t),[{type:"close",key:e}])}))},destroy:function(){w((function(e){return[].concat((0,r.Z)(e),[{type:"destroy"}])}))}}}),[]);return i.useEffect((function(){_(n())})),i.useEffect((function(){v.current&&T.length&&(T.forEach((function(e){switch(e.type){case"open":v.current.open(e.config);break;case"close":v.current.close(e.key);break;case"destroy":v.current.destroy()}})),w([]))}),[T]),[R,b]}var M=n(6473),O=n(6911),x=n(9626),A=n(1637);const N=e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorBgElevated:o,colorSuccess:i,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:h,marginXS:d,paddingXS:p,borderRadiusLG:f,zIndexPopup:g,messageNoticeContentPadding:m}=e,_=new M.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),v=new M.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,A.Wf)(e)),{position:"fixed",top:d,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:_,animationDuration:h,animationPlayState:"paused",animationTimingFunction:u},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:v,animationDuration:h,animationPlayState:"paused",animationTimingFunction:u},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${t}-notice`]:{padding:p,textAlign:"center",[`${t}-custom-content > ${n}`]:{verticalAlign:"text-bottom",marginInlineEnd:d,fontSize:c},[`${t}-notice-content`]:{display:"inline-block",padding:m,background:o,borderRadius:f,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:i},[`${t}-error > ${n}`]:{color:s},[`${t}-warning > ${n}`]:{color:a},[`\n        ${t}-info > ${n},\n        ${t}-loading > ${n}`]:{color:l}}},{[`${t}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},L=(0,O.Z)("Message",(e=>{const t=(0,x.TS)(e,{messageNoticeContentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});return[N(t)]}),(e=>({height:150,zIndexPopup:e.zIndexPopupBase+10})));var D=n(8444),P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const $={info:i.createElement(h.Z,null),success:i.createElement(u.Z,null),error:i.createElement(c.Z,null),warning:i.createElement(l.Z,null),loading:i.createElement(a.Z,null)};function B(e){let{prefixCls:t,type:n,icon:r,children:o}=e;return i.createElement("div",{className:b()(`${t}-custom-content`,`${t}-${n}`)},r||$[n],i.createElement("span",null,o))}var F=n(2157);function U(e){let t;const n=new Promise((n=>{t=e((()=>{n(!0)}))})),r=()=>{null==t||t()};return r.then=(e,t)=>n.then(e,t),r.promise=n,r}var G=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const j=3,H=i.forwardRef(((e,t)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:s,duration:a=j,rtl:l,transitionName:c,onAllRemoved:u}=e,{getPrefixCls:h,getPopupContainer:d}=i.useContext(D.E_),p=r||h("message"),[,f]=L(p),g=i.createElement("span",{className:`${p}-close-x`},i.createElement(F.Z,{className:`${p}-close-icon`})),[m,_]=R({prefixCls:p,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}),className:()=>b()(f,l?`${p}-rtl`:""),motion:()=>function(e,t){return{motionName:null!=t?t:`${e}-move-up`}}(p,c),closable:!1,closeIcon:g,duration:a,getContainer:()=>(null==o?void 0:o())||(null==d?void 0:d())||document.body,maxCount:s,onAllRemoved:u});return i.useImperativeHandle(t,(()=>Object.assign(Object.assign({},m),{prefixCls:p,hashId:f}))),_}));let V=0;function W(e){const t=i.useRef(null);return[i.useMemo((()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:r,prefixCls:o,hashId:s}=t.current,a=`${o}-notice`,{content:l,icon:c,type:u,key:h,className:d,onClose:p}=n,f=G(n,["content","icon","type","key","className","onClose"]);let g=h;return null==g&&(V+=1,g=`antd-message-${V}`),U((t=>(r(Object.assign(Object.assign({},f),{key:g,content:i.createElement(B,{prefixCls:o,type:u,icon:c},l),placement:"top",className:b()(u&&`${a}-${u}`,s,d),onClose:()=>{null==p||p(),t()}})),()=>{e(g)})))},r={open:n,destroy:n=>{var r;void 0!==n?e(n):null===(r=t.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach((e=>{r[e]=(t,r,o)=>{let i,s,a;i=t&&"object"==typeof t&&"content"in t?t:{content:t},"function"==typeof r?a=r:(s=r,a=o);const l=Object.assign(Object.assign({onClose:a,duration:s},i),{type:e});return n(l)}})),r}),[]),i.createElement(H,Object.assign({key:"message-holder"},e,{ref:t}))]}let z=null,Z=e=>e(),X=[],Y={};const K=i.forwardRef(((e,t)=>{const n=()=>{const{prefixCls:e,container:t,maxCount:n,duration:r,rtl:o,top:i}=function(){const{prefixCls:e,getContainer:t,duration:n,rtl:r,maxCount:o,top:i}=Y;return{prefixCls:null!=e?e:(0,s.w6)().getPrefixCls("message"),container:(null==t?void 0:t())||document.body,duration:n,rtl:r,maxCount:o,top:i}}();return{prefixCls:e,getContainer:()=>t,maxCount:n,duration:r,rtl:o,top:i}},[r,o]=i.useState(n),[a,l]=W(r),c=(0,s.w6)(),u=c.getRootPrefixCls(),h=c.getIconPrefixCls(),d=()=>{o(n)};return i.useEffect(d,[]),i.useImperativeHandle(t,(()=>{const e=Object.assign({},a);return Object.keys(e).forEach((t=>{e[t]=function(){return d(),a[t].apply(a,arguments)}})),{instance:e,sync:d}})),i.createElement(s.ZP,{prefixCls:u,iconPrefixCls:h},l)}));function J(){if(!z){const e=document.createDocumentFragment(),t={fragment:e};return z=t,void Z((()=>{(0,o.s)(i.createElement(K,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then((()=>{!t.instance&&n&&(t.instance=n,t.sync=r,J())}))}}),e)}))}z.instance&&(X.forEach((e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":Z((()=>{const t=z.instance.open(Object.assign(Object.assign({},Y),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)}));break;case"destroy":Z((()=>{null==z||z.instance.destroy(e.key)}));break;default:Z((()=>{var n;const o=(n=z.instance)[t].apply(n,(0,r.Z)(e.args));null==o||o.then(e.resolve),e.setCloseFn(o)}))}})),X=[])}const q={open:function(e){const t=U((t=>{let n;const r={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return X.push(r),()=>{n?Z((()=>{n()})):r.skipped=!0}}));return J(),t},destroy:function(e){X.push({type:"destroy",key:e}),J()},config:function(e){Y=Object.assign(Object.assign({},Y),e),Z((()=>{var e;null===(e=null==z?void 0:z.sync)||void 0===e||e.call(z)}))},useMessage:function(e){return W(e)},_InternalPanelDoNotUseOrYouWillBeFired:function(e){const{prefixCls:t,className:n,type:r,icon:o,content:s}=e,a=P(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=i.useContext(D.E_),c=t||l("message"),[,u]=L(c);return i.createElement(T,Object.assign({},a,{prefixCls:c,className:b()(n,u,`${c}-notice-pure-panel`),eventKey:"pure",duration:null,content:i.createElement(B,{prefixCls:c,type:r,icon:o},s)}))}};["success","info","warning","error","loading"].forEach((e=>{q[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e,t){const n=U((n=>{let r;const o={type:e,args:t,resolve:n,setCloseFn:e=>{r=e}};return X.push(o),()=>{r?Z((()=>{r()})):o.skipped=!0}}));return J(),n}(e,n)}}));const Q=q},2393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var r=n(9834),o=n(7287),i=n(9685),s=n(3555),a=n(4),l=n(5253),c=n(1974),u=n(6361),h=n(8591),d=n.n(h),p=n(1613),f=n(3234),g=n(4619),m=n(8807);function _(e){return!(!e||!e.then)}const v=e=>{const{type:t,children:n,prefixCls:r,buttonProps:o,close:s,autoFocus:a,emitEvent:l,quitOnNullishReturnValue:c,actionFn:u}=e,h=i.useRef(!1),d=i.useRef(null),[p,v]=(0,f.Z)(!1),b=function(){null==s||s.apply(void 0,arguments)};i.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=d.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return i.createElement(g.ZP,Object.assign({},(0,m.n)(t),{onClick:e=>{if(h.current)return;if(h.current=!0,!u)return void b();let t;if(l){if(t=u(e),c&&!_(t))return h.current=!1,void b(e)}else if(u.length)t=u(s),h.current=!1;else if(t=u(),!t)return void b();(e=>{_(e)&&(v(!0),e.then((function(){v(!1,!0),b.apply(void 0,arguments),h.current=!1}),(e=>(v(!1,!0),h.current=!1,Promise.reject(e)))))})(t)},loading:p,prefixCls:r},o,{ref:d}),n)};var b=n(1485),E=n(4330),y=n(8444),T=n(606),w=n(1086),S=n(4843);const C=()=>(0,S.Z)()&&window.document.documentElement;var I=n(2157),k=n(556),R=n(2049),M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function O(e,t){return i.createElement("span",{className:`${e}-close-x`},t||i.createElement(I.Z,{className:`${e}-close-icon`}))}function x(e){const{okText:t,okType:n="primary",cancelText:r,confirmLoading:o,onOk:s,onCancel:a,okButtonProps:l,cancelButtonProps:c,footer:u}=e;return void 0===u?i.createElement(p.Z,{componentName:"Modal",defaultLocale:(0,k.A)()},(e=>i.createElement(i.Fragment,null,i.createElement(g.ZP,Object.assign({onClick:a},c),r||e.cancelText),i.createElement(g.ZP,Object.assign({},(0,m.n)(n),{loading:o,onClick:s},l),t||e.okText)))):u}var A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};let N;const L=e=>{N={x:e.pageX,y:e.pageY},setTimeout((()=>{N=null}),100)};C()&&document.documentElement.addEventListener("click",L,!0);const D=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:o}=i.useContext(y.E_),s=t=>{const{onCancel:n}=e;null==n||n(t)},{prefixCls:a,className:l,rootClassName:c,open:u,wrapClassName:h,centered:p,getContainer:f,closeIcon:g,focusTriggerAfterClose:m=!0,visible:_,width:v=520}=e,S=A(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),C=r("modal",a),I=r(),[k,M]=(0,R.Z)(C),L=d()(h,{[`${C}-centered`]:!!p,[`${C}-wrap-rtl`]:"rtl"===o});return k(i.createElement(w.BR,null,i.createElement(T.Ux,{status:!0,override:!0},i.createElement(E.Z,Object.assign({width:v},S,{getContainer:void 0===f?n:f,prefixCls:C,rootClassName:d()(M,c),wrapClassName:L,footer:x(Object.assign(Object.assign({},e),{onOk:t=>{const{onOk:n}=e;null==n||n(t)},onCancel:s})),visible:null!=u?u:_,mousePosition:null!==(t=S.mousePosition)&&void 0!==t?t:N,onClose:s,closeIcon:O(C,g),focusTriggerAfterClose:m,transitionName:(0,b.mL)(I,"zoom",e.transitionName),maskTransitionName:(0,b.mL)(I,"fade",e.maskTransitionName),className:d()(M,l)})))))};function P(e){const{icon:t,onCancel:n,onOk:r,close:o,okText:s,okButtonProps:h,cancelText:d,cancelButtonProps:f,confirmPrefixCls:g,rootPrefixCls:m,type:_,okCancel:b,footer:E,locale:y}=e;let T=t;if(!t&&null!==t)switch(_){case"info":T=i.createElement(u.Z,null);break;case"success":T=i.createElement(a.Z,null);break;case"error":T=i.createElement(l.Z,null);break;default:T=i.createElement(c.Z,null)}const w=e.okType||"primary",S=null!=b?b:"confirm"===_,C=null!==e.autoFocusButton&&(e.autoFocusButton||"ok");return i.createElement(p.Z,{componentName:"Modal"},(t=>{const a=y||t,l=S&&i.createElement(v,{actionFn:n,close:o,autoFocus:"cancel"===C,buttonProps:f,prefixCls:`${m}-btn`},d||(null==a?void 0:a.cancelText));return i.createElement("div",{className:`${g}-body-wrapper`},i.createElement("div",{className:`${g}-body`},T,void 0===e.title?null:i.createElement("span",{className:`${g}-title`},e.title),i.createElement("div",{className:`${g}-content`},e.content)),void 0!==E?E:i.createElement("div",{className:`${g}-btns`},l,i.createElement(v,{type:w,actionFn:r,close:o,autoFocus:"ok"===C,buttonProps:h,prefixCls:`${m}-btn`},s||(S?null==a?void 0:a.okText:null==a?void 0:a.justOkText))))}))}const $=e=>{const{close:t,zIndex:n,afterClose:r,visible:o,open:a,keyboard:l,centered:c,getContainer:u,maskStyle:h,direction:p,prefixCls:f,wrapClassName:g,rootPrefixCls:m,iconPrefixCls:_,bodyStyle:v,closable:E=!1,closeIcon:y,modalRender:T,focusTriggerAfterClose:w}=e;const S=`${f}-confirm`,C=e.width||416,I=e.style||{},k=void 0===e.mask||e.mask,R=void 0!==e.maskClosable&&e.maskClosable,M=d()(S,`${S}-${e.type}`,{[`${S}-rtl`]:"rtl"===p},e.className);return i.createElement(s.ZP,{prefixCls:m,iconPrefixCls:_,direction:p},i.createElement(D,{prefixCls:f,className:M,wrapClassName:d()({[`${S}-centered`]:!!e.centered},g),onCancel:()=>null==t?void 0:t({triggerCancel:!0}),open:a,title:"",footer:"",transitionName:(0,b.mL)(m,"zoom",e.transitionName),maskTransitionName:(0,b.mL)(m,"fade",e.maskTransitionName),mask:k,maskClosable:R,maskStyle:h,style:I,bodyStyle:v,width:C,zIndex:n,afterClose:r,keyboard:l,centered:c,getContainer:u,closable:E,closeIcon:y,modalRender:T,focusTriggerAfterClose:w},i.createElement(P,Object.assign({},e,{confirmPrefixCls:S}))))},B=[];var F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};let U="";function G(e){const t=document.createDocumentFragment();let n,a=Object.assign(Object.assign({},e),{close:u,open:!0});function l(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const a=i.some((e=>e&&e.triggerCancel));e.onCancel&&a&&e.onCancel.apply(e,[()=>{}].concat((0,r.Z)(i.slice(1))));for(let e=0;e<B.length;e++){if(B[e]===u){B.splice(e,1);break}}(0,o.v)(t)}function c(e){var{okText:r,cancelText:a,prefixCls:l}=e,c=F(e,["okText","cancelText","prefixCls"]);clearTimeout(n),n=setTimeout((()=>{const e=(0,k.A)(),{getPrefixCls:n,getIconPrefixCls:u}=(0,s.w6)(),h=n(void 0,U),d=l||`${h}-modal`,p=u();(0,o.s)(i.createElement($,Object.assign({},c,{prefixCls:d,rootPrefixCls:h,iconPrefixCls:p,okText:r,locale:e,cancelText:a||e.cancelText})),t)}))}function u(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a=Object.assign(Object.assign({},a),{open:!1,afterClose:()=>{"function"==typeof e.afterClose&&e.afterClose(),l.apply(this,n)}}),a.visible&&delete a.visible,c(a)}return c(a),B.push(u),{destroy:u,update:function(e){a="function"==typeof e?e(a):Object.assign(Object.assign({},a),e),c(a)}}}function j(e){return Object.assign(Object.assign({},e),{type:"warning"})}function H(e){return Object.assign(Object.assign({},e),{type:"info"})}function V(e){return Object.assign(Object.assign({},e),{type:"success"})}function W(e){return Object.assign(Object.assign({},e),{type:"error"})}function z(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var Z=n(6481);const X=(e,t)=>{let{afterClose:n,config:o}=e;var s;const[a,l]=i.useState(!0),[c,u]=i.useState(o),{direction:h,getPrefixCls:d}=i.useContext(y.E_),f=d("modal"),g=d(),m=function(){l(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.some((e=>e&&e.triggerCancel));c.onCancel&&o&&c.onCancel.apply(c,[()=>{}].concat((0,r.Z)(t.slice(1))))};i.useImperativeHandle(t,(()=>({destroy:m,update:e=>{u((t=>Object.assign(Object.assign({},t),e)))}})));const _=null!==(s=c.okCancel)&&void 0!==s?s:"confirm"===c.type;return i.createElement(p.Z,{componentName:"Modal",defaultLocale:Z.Z.Modal},(e=>i.createElement($,Object.assign({prefixCls:f,rootPrefixCls:g},c,{close:m,open:a,afterClose:n,okText:c.okText||(_?e.okText:e.justOkText),direction:h,cancelText:c.cancelText||e.cancelText}))))},Y=i.forwardRef(X);let K=0;const J=i.memo(i.forwardRef(((e,t)=>{const[n,o]=function(){const[e,t]=i.useState([]);return[e,i.useCallback((e=>(t((t=>[].concat((0,r.Z)(t),[e]))),()=>{t((t=>t.filter((t=>t!==e))))})),[])]}();return i.useImperativeHandle(t,(()=>({patchElement:o})),[]),i.createElement(i.Fragment,null,n)})));const q=function(){const e=i.useRef(null),[t,n]=i.useState([]);i.useEffect((()=>{if(t.length){(0,r.Z)(t).forEach((e=>{e()})),n([])}}),[t]);const o=i.useCallback((t=>function(o){var s;K+=1;const a=i.createRef();let l;const c=i.createElement(Y,{key:`modal-${K}`,config:t(o),ref:a,afterClose:()=>{null==l||l()}});return l=null===(s=e.current)||void 0===s?void 0:s.patchElement(c),l&&B.push(l),{destroy:()=>{function e(){var e;null===(e=a.current)||void 0===e||e.destroy()}a.current?e():n((t=>[].concat((0,r.Z)(t),[e])))},update:e=>{function t(){var t;null===(t=a.current)||void 0===t||t.update(e)}a.current?t():n((e=>[].concat((0,r.Z)(e),[t])))}}}),[]);return[i.useMemo((()=>({info:o(H),success:o(V),error:o(W),warning:o(j),confirm:o(z)})),[]),i.createElement(J,{key:"modal-holder",ref:e})]};function Q(e){return G(j(e))}const ee=D;ee.useModal=q,ee.info=function(e){return G(H(e))},ee.success=function(e){return G(V(e))},ee.error=function(e){return G(W(e))},ee.warning=Q,ee.warn=Q,ee.confirm=function(e){return G(z(e))},ee.destroyAll=function(){for(;B.length;){const e=B.pop();e&&e()}},ee.config=function(e){let{rootPrefixCls:t}=e;U=t},ee._InternalPanelDoNotUseOrYouWillBeFired=function(e){const{prefixCls:t,className:n,closeIcon:r,closable:o,type:s,title:a,children:l}=e,c=M(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:u}=i.useContext(y.E_),h=u(),p=t||u("modal"),[,f]=(0,R.Z)(p),g=`${p}-confirm`;let m={};return m=s?{closable:null!=o&&o,title:"",footer:"",children:i.createElement(P,Object.assign({},e,{confirmPrefixCls:g,rootPrefixCls:h,content:l}))}:{closable:null==o||o,title:a,footer:x(e),children:l},i.createElement(E.s,Object.assign({prefixCls:p,className:d()(f,`${p}-pure-panel`,s&&g,s&&`${g}-${s}`,n)},c,{closeIcon:O(p,r),closable:o},m))};const te=ee},556:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,f:()=>i});var r=n(6481);let o=Object.assign({},r.Z.Modal);function i(e){o=e?Object.assign(Object.assign({},o),e):Object.assign({},r.Z.Modal)}function s(){return o}},2049:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c,Z:()=>f});var r=n(2124),o=n(7460),i=n(6911),s=n(9626),a=n(1637);function l(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const c=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}${e.antCls}-zoom-enter, ${t}${e.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}-mask`]:Object.assign(Object.assign({},l("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},l("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:(0,r.J$)(e)}]},u=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap`]:{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,a.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${2*e.margin}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${t}-close`]:Object.assign({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},(0,a.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.modalHeaderBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${t}-footer`]:{textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},h=e=>{const{componentCls:t}=e,n=`${t}-confirm`;return{[n]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${n}-body-wrapper`]:Object.assign({},(0,a.dF)()),[`${n}-body`]:{display:"flex",flexWrap:"wrap",alignItems:"center",[`${n}-title`]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,[`+ ${n}-content`]:{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:`calc(100% - ${e.modalConfirmIconSize+e.marginSM}px)`}},[`${n}-content`]:{color:e.colorText,fontSize:e.fontSize},[`> ${e.iconCls}`]:{flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize,[`+ ${n}-title`]:{flex:1},[`+ ${n}-title + ${n}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.marginSM}}},[`${n}-btns`]:{textAlign:"end",marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${n}-error ${n}-body > ${e.iconCls}`]:{color:e.colorError},[`${n}-warning ${n}-body > ${e.iconCls},\n        ${n}-confirm ${n}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${n}-info ${n}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${n}-success ${n}-body > ${e.iconCls}`]:{color:e.colorSuccess},[`${t}-zoom-leave ${t}-btns`]:{pointerEvents:"none"}}},d=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},p=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-confirm`;return{[t]:{[`${t}-content`]:{padding:0},[`${t}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${t}-body`]:{padding:e.modalBodyPadding},[`${t}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[r]:{[`${n}-modal-body`]:{padding:`${2*e.padding}px ${2*e.padding}px ${e.paddingLG}px`},[`${r}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${r}-title + ${r}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${r}-btns`]:{marginTop:e.marginLG}}}},f=(0,i.Z)("Modal",(e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5,i=(0,s.TS)(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:`${t}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:r,modalHeaderTitleFontSize:n,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:r*n+2*t,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:.55*e.controlHeightLG});return[u(i),h(i),d(i),c(i),e.wireframe&&p(i),(0,o._y)(i,"zoom")]}))},1086:(e,t,n)=>{"use strict";n.d(t,{BR:()=>l,ri:()=>a});var r=n(8591),o=n.n(r),i=(n(1498),n(9685));const s=i.createContext(null),a=(e,t)=>{const n=i.useContext(s),r=i.useMemo((()=>{if(!n)return"";const{compactDirection:r,isFirstItem:i,isLastItem:s}=n,a="vertical"===r?"-vertical-":"-";return o()({[`${e}-compact${a}item`]:!0,[`${e}-compact${a}first-item`]:i,[`${e}-compact${a}last-item`]:s,[`${e}-compact${a}item-rtl`]:"rtl"===t})}),[e,t,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:r}},l=e=>{let{children:t}=e;return i.createElement(s.Provider,{value:null},t)}},300:(e,t,n)=>{"use strict";function r(e,t,n){const{focusElCls:r,focus:o,borderElCls:i}=n,s=i?"> *":"",a=["hover",o?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${s}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function o(e,t,n){const{borderElCls:r}=n,o=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,i=`${n}-compact`;return{[i]:Object.assign(Object.assign({},r(e,i,t)),o(n,i,t))}}n.d(t,{c:()=>i})},1637:(e,t,n)=>{"use strict";n.d(t,{Lx:()=>a,Qy:()=>u,Ro:()=>i,Wf:()=>o,dF:()=>s,du:()=>l,oN:()=>c,vS:()=>r});const r={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},o=e=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}),i=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),s=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),a=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),l=(e,t)=>{const{fontFamily:n,fontSize:r}=e,o=`[class^="${t}"], [class*=" ${t}"]`;return{[o]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},c=e=>({outline:`${e.lineWidthBold}px solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),u=e=>({"&:focus-visible":Object.assign({},c(e))})},2124:(e,t,n)=>{"use strict";n.d(t,{J$:()=>a});var r=n(6473),o=n(2701);const i=new r.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),s=new r.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,r=`${n}-fade`,a=t?"&":"";return[(0,o.R)(r,i,s,e.motionDurationMid,t),{[`\n        ${a}${r}-enter,\n        ${a}${r}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]}},2701:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});const r=e=>({animationDuration:e,animationFillMode:"both"}),o=e=>({animationDuration:e,animationFillMode:"both"}),i=function(e,t,n,i){const s=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${s}${e}-enter,\n      ${s}${e}-appear\n    `]:Object.assign(Object.assign({},r(i)),{animationPlayState:"paused"}),[`${s}${e}-leave`]:Object.assign(Object.assign({},o(i)),{animationPlayState:"paused"}),[`\n      ${s}${e}-enter${e}-enter-active,\n      ${s}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${s}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}}},7460:(e,t,n)=>{"use strict";n.d(t,{_y:()=>d});var r=n(6473),o=n(2701);const i=new r.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),s=new r.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),a=new r.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),l=new r.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),c=new r.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),u=new r.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),h={zoom:{inKeyframes:i,outKeyframes:s},"zoom-big":{inKeyframes:a,outKeyframes:l},"zoom-big-fast":{inKeyframes:a,outKeyframes:l},"zoom-left":{inKeyframes:new r.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new r.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new r.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new r.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:c,outKeyframes:u},"zoom-down":{inKeyframes:new r.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new r.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},d=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:s}=h[t];return[(0,o.R)(r,i,s,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},7463:(e,t,n)=>{"use strict";n.d(t,{Mj:()=>T,u_:()=>y,dQ:()=>w});var r=n(6473),o=n(9685);const i="5.2.2";var s=n(8089);const a=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};var l=n(2854),c=n(190);const u=e=>{let t=e,n=e,r=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:o}};const h=(e,t)=>new c.C(e).setAlpha(t).toRgbString(),d=(e,t)=>new c.C(e).darken(t).toHexString(),p=e=>{const t=(0,s.R_)(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},f=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:h(r,.88),colorTextSecondary:h(r,.65),colorTextTertiary:h(r,.45),colorTextQuaternary:h(r,.25),colorFill:h(r,.15),colorFillSecondary:h(r,.06),colorFillTertiary:h(r,.04),colorFillQuaternary:h(r,.02),colorBgLayout:d(n,4),colorBgContainer:d(n,0),colorBgElevated:d(n,0),colorBgSpotlight:h(r,.85),colorBorder:d(n,15),colorBorderSecondary:d(n,6)}};const g=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,o=e*Math.pow(2.71828,r/5),i=n>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(i/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:(e+8)/e})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight));return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function m(e){return e>=0&&e<=255}const _=function(e,t){const{r:n,g:r,b:o,a:i}=new c.C(e).toRgb();if(i<1)return e;const{r:s,g:a,b:l}=new c.C(t).toRgb();for(let e=.01;e<=1;e+=.01){const t=Math.round((n-s*(1-e))/e),i=Math.round((r-a*(1-e))/e),u=Math.round((o-l*(1-e))/e);if(m(t)&&m(i)&&m(u))return new c.C({r:t,g:i,b:u,a:Math.round(100*e)/100}).toRgbString()}return new c.C({r:n,g:r,b:o,a:1}).toRgbString()};var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function b(e){const{override:t}=e,n=v(e,["override"]),r=Object.assign({},t);Object.keys(l.Z).forEach((e=>{delete r[e]}));const o=Object.assign(Object.assign({},n),r),i=1200,s=1600;return Object.assign(Object.assign(Object.assign({},o),{colorLink:o.colorInfoText,colorLinkHover:o.colorInfoHover,colorLinkActive:o.colorInfoActive,colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:_(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:_(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:_(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:_(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:i,screenXLMin:i,screenXLMax:1599,screenXXL:s,screenXXLMin:s,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new c.C("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new c.C("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new c.C("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const E=(0,r.jG)((function(e){const t=Object.keys(l.M).map((t=>{const n=(0,s.R_)(e[t]);return new Array(10).fill(1).reduce(((e,r,o)=>(e[`${t}-${o+1}`]=n[o],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:o,colorWarning:i,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:u,colorTextBase:h}=e,d=n(l),p=n(o),f=n(i),g=n(s),m=n(a),_=r(u,h);return Object.assign(Object.assign({},_),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorBgMask:new c.C("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:p,generateNeutralColorPalettes:f})),g(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),a(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:o}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:o+1},u(r))}(e))})),y={token:l.Z,hashed:!0},T=o.createContext(y);function w(){const{token:e,hashed:t,theme:n,components:s}=o.useContext(T),a=`${i}-${t||""}`,c=n||E,[u,h]=(0,r.fp)(c,[l.Z,e],{salt:a,override:Object.assign({override:e},s),formatToken:b});return[c,u,t?h:""]}},2854:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,Z:()=>o});const r={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},o=Object.assign(Object.assign({},r),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1})},6911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(6473),o=n(9685),i=n(1637),s=n(8444),a=n(7463),l=n(9626);function c(e,t,n){return c=>{const[u,h,d]=(0,a.dQ)(),{getPrefixCls:p,iconPrefixCls:f}=(0,o.useContext)(s.E_),g=p();return(0,r.xy)({theme:u,token:h,hashId:d,path:["Shared",g]},(()=>[{"&":(0,i.Lx)(h)}])),[(0,r.xy)({theme:u,token:h,hashId:d,path:[e,c,f]},(()=>{const{token:r,flush:o}=(0,l.ZP)(h),s="function"==typeof n?n(r):n,a=Object.assign(Object.assign({},s),h[e]),u=`.${c}`,p=(0,l.TS)(r,{componentCls:u,prefixCls:c,iconCls:`.${f}`,antCls:`.${g}`},a),m=t(p,{hashId:d,prefixCls:c,rootPrefixCls:g,iconPrefixCls:f,overrideComponentToken:h[e]});return o(e,a),[(0,i.du)(h,c),m]})),d]}}},9626:(e,t,n)=>{"use strict";n.d(t,{TS:()=>i,ZP:()=>l});const r="undefined"!=typeof CSSINJS_STATISTIC;let o=!0;function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!r)return Object.assign.apply(Object,[{}].concat(t));o=!1;const i={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),o=!0,i}const s={};function a(){}function l(e){let t,n=e,i=a;return r&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(o&&t.add(n),e[n])}),i=(e,n)=>{s[e]={global:Array.from(t),component:n}}),{token:n,keys:t,flush:i}}},7754:function(e,t,n){var r,o,i;o=[n(4501)],void 0===(i="function"==typeof(r=function(e){return e})?r.apply(t,o):r)||(e.exports=i)},4501:function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e={},t=function(e,t,n,r){e=e+" was deprecated in "+t+" and will be deleted in "+n+".",r&&(e+="\nUse "+r+" instead."),console.warn(e)},r=function(e,t){o(),Gi=setTimeout((function(){t&&t.handleRightClick(e)}),$i)},o=function(){Gi&&(clearTimeout(Gi),Gi=0)},i=function(){Fi=null},s=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&l(e)},a=function(e){return`${e.pointerId}`},l=function(e){const t=a(e);return Fi?Fi===t:"pointerdown"===e.type&&(Fi=t,!0)},c=function(e,n,r,o,i,a){function l(e){(i||s(e))&&(r?o.call(r,e):o(e))}if(void 0!==a&&t("The opt_noPreventDefault argument of conditionalBind","version 9","version 10"),a=[],n in Ui)for(let t=0;t<Ui[n].length;t++){const r=Ui[n][t];e.addEventListener(r,l,!1),a.push([e,r,l])}else e.addEventListener(n,l,!1),a.push([e,n,l]);return a},u=function(e,t,n,r){function o(e){n?r.call(n,e):r(e)}const i=[];if(t in Ui)for(let n=0;n<Ui[t].length;n++){const r=Ui[t][n];e.addEventListener(r,o,!1),i.push([e,r,o])}else e.addEventListener(t,o,!1),i.push([e,t,o]);return i},h=function(e){const t=e[e.length-1][2];for(;e.length;){const t=e.pop();t[0].removeEventListener(t[1],t[2],!1)}return t},d=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||"true"===e.target.getAttribute("data-is-text-input"))return!0;if(e.target instanceof HTMLInputElement)return"text"===(e=e.target).type||"number"===e.type||"email"===e.type||"password"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type;if(e.target instanceof HTMLTextAreaElement)return!0}return!1},p=function(e){return!(!e.ctrlKey||!Yi)||2===e.button},f=function(e,t,n){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,n||(n=t.getScreenCTM().inverse()),r.matrixTransform(n)},g=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*qi,y:e.deltaY*qi};case 2:return{x:e.deltaX*Qi,y:e.deltaY*Qi}}},m=function(e){return ts[e]||null},_=function(){const e=[];for(const t in ts)e.push(ts[t]);return e},v=function(e){ts[e.id]=e},b=function(e){delete ts[e.id]},E=function(){return ns},y=function(e){ns=e},T=function(){return rs},w=function(e){rs=e},S=function(){return os},C=function(e){os=e},I=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),n=e.getCachedParentSvgSize();var r=t.parentElement;if(r instanceof HTMLElement){var o=r.offsetWidth;r=r.offsetHeight,n.width!==o&&(t.setAttribute("width",o+"px"),e.setCachedParentSvgSize(o,null)),n.height!==r&&(t.setAttribute("height",r+"px"),e.setCachedParentSvgSize(null,r)),e.resize()}},k=function(e,t){const n=Object.create(null),r=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=r.indexOf(e),r.splice(e,r.length-e));for(let e,t=0;e=r[t];t++)n[e.type]?n[e.type]++:n[e.type]=1;return n},R=function(e){return function(){this.jsonInit(e)}},M=function(e){ss.defineBlocksWithJsonArrayInternal(e)},O=function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];if(!r){console.warn(`Block definition #${n} in JSON array is ${r}. Skipping`);continue}const o=r.type;o?t[o]={init:R(r)}:console.warn(`Block definition #${n} in JSON array is missing a type attribute. Skipping.`)}return t},x=function(e){for(const t of Object.keys(e)){const n=e[t];t in as&&console.warn(`Block definiton "${t}" overwrites previous definition.`),as[t]=n}},A=function(e,t,n){e=document.createElementNS(us,String(e));for(const n in t)e.setAttribute(n,`${t[n]}`);return n&&n.appendChild(e),e},N=function(e,t){return!(t=t.split(" ")).every((t=>e.classList.contains(t)))&&(e.classList.add(...t),!0)},L=function(e,t){e.classList.remove(...t.split(" "))},D=function(e,t){return!(t=t.split(" ")).every((t=>!e.classList.contains(t)))&&(e.classList.remove(...t),!0)},P=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},$=function(e,t){const n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},B=function(e,t){return!!(e.compareDocumentPosition(t)&ls.DOCUMENT_POSITION_CONTAINED_BY)},F=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},U=function(){fs++,ps||(ps=Object.create(null))},G=function(){--fs||(ps=null)},j=function(e,t,n,r){return H(e,t+"pt",n,r)},H=function(e,t,n,r){const o=e.textContent;var i;return e=o+"\n"+e.className.baseVal,ps&&(i=ps[e])||(gs||((i=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(i),gs=i.getContext("2d")),gs.font=n+" "+t+" "+r,i=o?gs.measureText(o).width:0,ps&&(ps[e]=i)),i},V=function(e,t,n,r){const o=document.createElement("span");o.style.font=n+" "+t+" "+r,o.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0",(t=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(o),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-o.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-o.offsetTop}finally{document.body.removeChild(t)}return n},W=function(e){return e*Math.PI/180},z=function(e){return 180*e/Math.PI},Z=function(e,t,n){if(n<e){const t=n;n=e,e=t}return Math.max(e,Math.min(t,n))},X=function(e){return ys.getSizeInternal(e)},Y=function(e){return new Es(e.offsetWidth,e.offsetHeight)},K=function(e,t){return(e=window.getComputedStyle(e))[t]||e.getPropertyValue(t)},J=function(e){const t=new bs(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new bs(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},q=function(){const e=document.body,t=document.documentElement;return new bs(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},Q=function(e){const t=parseFloat(K(e,"borderLeftWidth")),n=parseFloat(K(e,"borderRightWidth")),r=parseFloat(K(e,"borderTopWidth"));return e=parseFloat(K(e,"borderBottomWidth")),new vs(r,e,t,n)},ee=function(e,t,n){e=te(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},te=function(e,t,n){var r=J(e),o=J(t),i=Q(t);const s=r.x-o.x-i.left;return r=r.y-o.y-i.top,o=Y(e),e=t.clientWidth-o.width,o=t.clientHeight-o.height,i=t.scrollLeft,t=t.scrollTop,n?(i+=s-e/2,t+=r-o/2):(i+=Math.min(s,Math.max(s-e,0)),t+=Math.min(r,Math.max(r-o,0))),new bs(i,t)},ne=function(){ws||((ws=document.createElement("div")).className="blocklyDropDownDiv",(S()||document.body).appendChild(ws),(Ss=document.createElement("div")).className="blocklyDropDownContent",ws.appendChild(Ss),(Cs=document.createElement("div")).className="blocklyDropDownArrow",ws.appendChild(Cs),ws.style.opacity="0",ws.style.transition="transform "+Os+"s, opacity "+Os+"s",ws.addEventListener("focusin",(function(){N(ws,"blocklyFocused")})),ws.addEventListener("focusout",(function(){D(ws,"blocklyFocused")})))},re=function(e){Ds=e},oe=function(){return Ps},ie=function(){return Ss},se=function(){Ss.textContent="",Ss.style.width=""},ae=function(e,t){ws.style.backgroundColor=e,ws.style.borderColor=t},le=function(e,t,n){return $s=!0,he(ue(e),e,t,n)},ce=function(e){var t=e.getSvgRoot();const n=e.workspace.scale,r=e.height*n;return e=e.width*n,t=J(t),new vs(t.y,t.y+r,t.x,t.x+e)},ue=function(e){return e=e.getScaledBBox(),new vs(e.top,e.bottom,e.left,e.right)},he=function(e,t,n,r){const o=e.left+(e.right-e.left)/2,i=e.bottom;e=e.top,r&&(e+=r);let s=(r=t.getSourceBlock()).workspace;for(;s.options.parentWorkspace;)s=s.options.parentWorkspace;return re(s.getParentSvg().parentNode),de(t,r.RTL,o,i,o,e,n)},de=function(e,t,n,r,o,i,s){return Ps=e,As=s||null,ws.style.direction=t?"rtl":"ltr",e=E(),Ns=e.getRenderer().getClassName(),Ls=e.getTheme().getClassName(),Ns&&N(ws,Ns),Ls&&N(ws,Ls),Ee(n,r,o,i)},pe=function(e,t,n,r){return{initialX:(e=ge(e,n.left,n.right,r.width)).divX,initialY:t,finalX:e.divX,finalY:t+Ms,arrowX:e.arrowX,arrowY:-(Is/2+ks),arrowAtTop:!0,arrowVisible:!0}},fe=function(e,t,n,r){return{initialX:(e=ge(e,n.left,n.right,r.width)).divX,initialY:t-r.height,finalX:e.divX,finalY:t-r.height-Ms,arrowX:e.arrowX,arrowY:r.height-2*ks-Is/2,arrowAtTop:!1,arrowVisible:!0}},ge=function(e,t,n,r){return t=Z(t,e-r/2,n-r),{arrowX:e=Z(n=Rs,e=e-Is/2-t,r-n-Is),divX:t}},me=function(){return!!Ps},_e=function(e,t){return Ps===e&&(t?be():ve(),!0)},ve=function(){ws.style.transform="translate(0, 0)",ws.style.opacity="0",xs=setTimeout((function(){be()}),1e3*Os),As&&(As(),As=null)},be=function(){me()&&(xs&&clearTimeout(xs),ws.style.transform="",ws.style.left="",ws.style.top="",ws.style.opacity="0",ws.style.display="none",ws.style.backgroundColor="",ws.style.borderColor="",As&&(As(),As=null),se(),Ps=null,Ns&&(D(ws,Ns),Ns=""),Ls&&(D(ws,Ls),Ls=""),E().markFocused())},Ee=function(e,t,n,r){(e=Bs.getPositionMetrics(e,t,n,r)).arrowVisible?(Cs.style.display="",Cs.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Cs.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Cs.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),r=Math.floor(e.finalX);const o=Math.floor(e.finalY);return ws.style.left=t+"px",ws.style.top=n+"px",ws.style.display="block",ws.style.opacity="1",ws.style.transform="translate("+(r-t)+"px,"+(o-n)+"px)",!!e.arrowAtTop},ye=function(e,t,n,r){if(!(e instanceof Vs)&&"string"!=typeof e||""===String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof t||""===t.trim())throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const o=t.toLowerCase();if(!n)throw Error("Can not register a null value");let i=Us[e],s=js[e];if(i||(i=Us[e]=Object.create(null),s=js[e]=Object.create(null)),Te(e,n),!r&&i[o])throw Error('Name "'+o+'" with type "'+e+'" already registered.');i[o]=n,s[o]=t},Te=function(e,t){if(e===String(Vs.FIELD)&&"function"!=typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},we=function(e,t){e=String(e).toLowerCase(),t=t.toLowerCase();const n=Us[e];n&&n[t]?(delete Us[e][t],delete js[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},Se=function(e,t,n){e=String(e).toLowerCase(),t=t.toLowerCase();const r=Us[e];if(!r||!r[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return r[t]},Ce=function(e,t){return e=String(e).toLowerCase(),t=t.toLowerCase(),!!(e=Us[e])&&!!e[t]},Ie=function(e,t,n){return Se(e,t,n)},ke=function(e,t,n){return Se(e,t,n)},Re=function(e,t,n){e=String(e).toLowerCase();var r=Us[e];if(!r){if(r=`Unable to find [${e}] in the registry.`,n)throw Error(`${r} You must require or register a ${e} plugin.`);return console.warn(r),null}if(!t)return r;e=js[e],n=Object.create(null),t=Object.keys(r);for(let o=0;o<t.length;o++){const i=t[o];n[e[i]]=r[i]}return n},Me=function(e,t,n){return"function"==typeof(t=t.plugins[e.toString()]||Hs)?t:Ie(e,t,n)},Oe=function(){return"blockly-"+(Xs++).toString(36)},xe=function(){return Zs.genUid()},Ae=function(e){na=e},Ne=function(){return na},Le=function(e){Pa.fireInternal(e)},De=function(){const e=Pe(Da,!0);Da.length=0;for(let t,n=0;t=e[n];n++){if(!t.workspaceId)continue;const e=m(t.workspaceId);e&&e.fireChangeListener(t)}},Pe=function(e,t){e=e.slice(),t||e.reverse();const n=[],r=Object.create(null);for(let t,s=0;t=e[s];s++)if(!t.isNull()){var o=[t.isUiEvent?ha:t.type,t.blockId,t.workspaceId].join(" "),i=r[o];const e=i?i.event:null;i?t.type===aa&&i.index===s-1?(o=t,e.newParentId=o.newParentId,e.newInputName=o.newInputName,e.newCoordinate=o.newCoordinate,i.index=s):t.type===sa&&t.element===e.element&&t.name===e.name?e.newValue=t.newValue:t.type===Ea?(i=t,e.viewTop=i.viewTop,e.viewLeft=i.viewLeft,e.scale=i.scale,e.oldScale=i.oldScale):t.type===fa&&e.type===ma||(r[o]={event:t,index:s},n.push(t)):(r[o]={event:t,index:s},n.push(t))}e=n.filter((function(e){return!e.isNull()})),t||e.reverse();for(let t,n=1;t=e[n];n++)t.type===sa&&"mutation"===t.element&&e.unshift(e.splice(n,1)[0]);return e},$e=function(){for(let e,t=0;e=Da[t];t++)e.recordUndo=!1},Be=function(){ra++},Fe=function(){ra--},Ue=function(){return 0===ra},Ge=function(){return ta},je=function(e){Pa.setGroupInternal(e)},He=function(e){const t=[];e=e.getDescendants(!1);for(let n,r=0;n=e[r];r++)t[r]=n.id;return t},Ve=function(e,t){var n=ze(e.type);if(!n)throw Error("Unknown event type.");return We(n)?n.fromJson(e,t):((n=new n).fromJson(e),n.workspaceId=t.id,n)},We=function(e){return Object.getOwnPropertyDescriptors(e).fromJson&&"function"==typeof e.fromJson},ze=function(e){const t=Ie(Vs.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},Ze=function(e){if((e.type===aa||e.type===oa)&&e.workspaceId){var t=m(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const n=na;try{na=!1;const r=e.getParent();if(r&&r.isEnabled()){const t=e.getDescendants(!1);for(let e,n=0;e=t[n];n++)e.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}finally{na=n}}}},Xe=function(e){return Js.createElementNS(ea,e)},Ye=function(e){return Js.createTextNode(e)},Ke=function(e){return(new qs).parseFromString(e,"text/xml")},Je=function(e){return(new Qs).serializeToString(e)},qe=function(e,t){Ua(e,t)},Qe=function(e,t){Ha.confirmInternal(e,t)},et=function(e,t,n){ja(e,t,n)},tt=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let n=0;n<e.length;n++){const r=e[n].getVarModels();if(r)for(let e=0;e<r.length;e++){const n=r[e];n.getId()&&t.add(n)}}return Array.from(t.values())},nt=function(e){let t=[];const n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){st(e.getTargetWorkspace())})),t.push(n),e=rt(e),t.concat(e)},rt=function(e){const t=[];if(0<(e=e.getVariablesOfType("")).length){var n=e[e.length-1];if(as.variables_set){var r=Xe("block");r.setAttribute("type","variables_set"),r.setAttribute("gap",as.math_change?"8":"24"),r.appendChild(ht(n)),t.push(r)}if(as.math_change&&((r=Xe("block")).setAttribute("type","math_change"),r.setAttribute("gap",as.variables_get?"20":"8"),r.appendChild(ht(n)),n=Ot('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),r.appendChild(n),t.push(r)),as.variables_get){e.sort(Ja.compareByName);for(let r,o=0;r=e[o];o++)(n=Xe("block")).setAttribute("type","variables_get"),n.setAttribute("gap","8"),n.appendChild(ht(r)),t.push(n)}}return t},ot=function(e){return Ka.generateUniqueNameInternal(e)},it=function(e,t){if(!t.length)return e;const n=Ya;let r="",o=n.indexOf(e);for(;;){let i=!1;for(let n=0;n<t.length;n++)if(t[n].toLowerCase()===e){i=!0;break}if(!i)break;o++,o===n.length&&(o=0,r=`${Number(r)+1}`),e=n.charAt(o)+r}return e},st=function(e,t,n){const r=n||"";!function n(o){lt(Ba.NEW_VARIABLE_TITLE,o,(function(o){if(o){const i=ut(o,e);if(i){let e;i.type===r?e=Ba.VARIABLE_ALREADY_EXISTS.replace("%1",i.name):(e=Ba.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,e=e.replace("%1",i.name).replace("%2",i.type)),qe(e,(function(){n(o)}))}else e.createVariable(o,r),t&&t(o)}else t&&t(null)}))}("")},at=function(e,t,n){!function r(o){const i=Ba.RENAME_VARIABLE_TITLE.replace("%1",t.name);lt(i,o,(function(o){if(o){var i=ct(o,t.type,e);i?(i=Ba.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",i.name).replace("%2",i.type),qe(i,(function(){r(o)}))):(e.renameVariableById(t.getId(),o),n&&n(o))}else n&&n(null)}))}("")},lt=function(e,t,n){et(e,t,(function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())===Ba.RENAME_VARIABLE||e===Ba.NEW_VARIABLE)&&(e=null),n(e)}))},ct=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r,o=0;r=n[o];o++)if(r.name.toLowerCase()===e&&r.type!==t)return r;return null},ut=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let n,r=0;n=t[r];r++)if(n.name.toLowerCase()===e)return n;return null},ht=function(e){const t=Xe("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=Ye(e.name),t.appendChild(e),t},dt=function(e,t,n,r){let o=pt(e,t,n,r);return o||(o=ft(e,t,n,r)),o},pt=function(e,t,n,r){const o=e.getPotentialVariableMap();let i=null;if(t&&(i=e.getVariableById(t),!i&&o&&(i=o.getVariableById(t)),i))return i;if(n){if(void 0===r)throw Error("Tried to look up a variable by name without a type");i=e.getVariable(n,r),!i&&o&&(i=o.getVariable(n,r))}return i},ft=function(e,t,n,r){const o=e.getPotentialVariableMap();return n||(n=ot(e.isFlyout?e.targetWorkspace:e)),o?o.createVariable(n,r,t):e.createVariable(n,r,t)},gt=function(e,t){e=e.getAllVariables();const n=[];if(t.length!==e.length)for(let r=0;r<e.length;r++){const o=e[r];-1===t.indexOf(o)&&n.push(o)}return n},mt=function(e){if(tl)throw Error("CSS already injected");nl+="\n"+e},_t=function(e,t){tl||(tl=!0,e&&(e=t.replace(/[\\/]$/,""),t=nl.replace(/<<<PATH>>>/g,e),nl="",(e=document.createElement("style")).id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},vt=function(e){const t=new bs(0,0);var n=e.x&&e.getAttribute("x");const r=e.y&&e.getAttribute("y");return n&&(t.x=parseInt(n)),r&&(t.y=parseInt(r)),(n=(n=e.getAttribute("transform"))&&n.match(il))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(sl))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},bt=function(e){let t=0,n=0;for(;e;){const r=vt(e);if(t+=r.x,n+=r.y,-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new bs(t,n)},Et=function(){return t("Blockly.utils.svgMath.is3dSupported","version 9","version 10"),!0},yt=function(){const e=q();return new vs(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Tt=function(){const e=document.documentElement,t=window;return new bs(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},wt=function(e,t){var n=t.x;t=t.y;const r=e.getInjectionDiv().getBoundingClientRect();return n=new bs(n-r.left,t-r.top),t=e.getOriginOffsetInPixels(),bs.difference(n,t).scale(1/e.scale)},St=function(e){const t=Xe("variables");for(let n=0;n<e.length;n++){const r=e[n],o=Xe("variable");o.appendChild(Ye(r.name)),r.type&&o.setAttribute("type",r.type),o.id=r.getId(),t.appendChild(o)}return t},Ct=function(e,t){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;let n=0;e.workspace.RTL&&(n=e.workspace.getWidth()),t=kt(e,t);const r=e.getRelativeToSurfaceXY();return t.setAttribute("x",Math.round(e.workspace.RTL?n-r.x:r.x)),t.setAttribute("y",Math.round(r.y)),t},It=function(e){if(e.isSerializable()){const t=Xe("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},kt=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?kt(t):new DocumentFragment;const n=Xe(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),t||n.setAttribute("id",e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&n.appendChild(r)}if(function(e,t){for(let n=0;n<e.inputList.length;n++){const r=e.inputList[n];for(let e=0;e<r.fieldRow.length;e++){const n=It(r.fieldRow[e]);n&&t.appendChild(n)}}}(e,n),r=e.getCommentText()){var o=e.commentModel.size,i=e.commentModel.pinned,s=Xe("comment");s.appendChild(Ye(r)),s.setAttribute("pinned",i),s.setAttribute("h",o.height),s.setAttribute("w",o.width),n.appendChild(s)}for(e.data&&((r=Xe("data")).appendChild(Ye(e.data)),n.appendChild(r)),r=0;r<e.inputList.length;r++){var a=void 0;if(i=!0,(o=e.inputList[r]).type!==Ks.DUMMY){s=o.connection.targetBlock(),o.type===Ks.VALUE?a=Xe("value"):o.type===Ks.STATEMENT&&(a=Xe("statement"));const e=o.connection.getShadowDom();!e||s&&s.isShadow()||a.appendChild(Rt(e,t)),s&&(s=kt(s,t)).nodeType===ls.ELEMENT_NODE&&(a.appendChild(s),i=!1),a.setAttribute("name",o.name),i||n.appendChild(a)}}let l;return void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&n.setAttribute("inline",e.inputsInline.toString()),e.isCollapsed()&&n.setAttribute("collapsed","true"),e.isEnabled()||n.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||n.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||n.setAttribute("movable","false"),e.isEditable()||n.setAttribute("editable","false"),(a=e.getNextBlock())&&(r=kt(a,t)).nodeType===ls.ELEMENT_NODE&&(l=Xe("next"),l.appendChild(r),n.appendChild(l)),!(e=e.nextConnection&&e.nextConnection.getShadowDom())||a&&a.isShadow()||l.appendChild(Rt(e,t)),n},Rt=function(e,t){let n,r=e=e.cloneNode(!0);for(;r;)if(t&&"shadow"===r.nodeName&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){let e;n=r,r=r.parentNode,n.nodeType===ls.TEXT_NODE&&""===n.data.trim()&&(null==(e=r)?void 0:e.firstChild)!==n&&P(n)}r&&(n=r,r=r.nextSibling,n.nodeType===ls.TEXT_NODE&&""===n.data.trim()&&P(n))}return e},Mt=function(e){return Je(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Ot=function(e){const t=Ke(e);if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return t.documentElement},xt=function(e,t){let n=0;t.RTL&&(n=t.getWidth());const r=[];U();const o=Ge();o||je(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let i=!0;try{for(let o,s=0;o=e.childNodes[s];s++){const e=o.nodeName.toLowerCase(),s=o;if("block"===e||"shadow"===e&&!Ne()){const e=At(s,t);r.push(e.id);const o=s.hasAttribute("x")?parseInt(s.getAttribute("x")):10,a=s.hasAttribute("y")?parseInt(s.getAttribute("y")):10;isNaN(o)||isNaN(a)||e.moveBy(t.RTL?n-o:o,a),i=!1}else{if("shadow"===e)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===e)t.rendered?cl.fromXmlRendered(s,t,n):qa.fromXml(s,t);else if("variables"===e){if(!i)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");Nt(s,t),i=!1}}}}finally{o||je(!1),G()}return t.setResizesEnabled&&t.setResizesEnabled(!0),Le(new(ze(Ca))(t)),r},At=function(e,t){Be();var n=t.getAllVariables();let r;try{if(r=Dt(e,t),t.rendered){const e=r,n=r.getDescendants(!1);e.setConnectionTracking(!1);for(let e=n.length-1;0<=e;e--)n[e].initSvg();for(let e=n.length-1;0<=e;e--)n[e].render(!1);setTimeout((function(){e.disposed||e.setConnectionTracking(!0)}),1),e.updateDisabled(),t.resizeContents()}else{const e=r.getDescendants(!1);for(let t=e.length-1;0<=t;t--)e[t].initModel()}}finally{Fe()}if(Ue()){for(e=gt(t,n),t=0;t<e.length;t++)n=e[t],Le(new(ze(la))(n));Le(new(ze(oa))(r))}return r},Nt=function(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n],o=r.getAttribute("type"),i=r.getAttribute("id");t.createVariable(r.textContent,o,i)}},Lt=function(e){const t={childBlockElement:null,childShadowElement:null};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];r.nodeType===ls.ELEMENT_NODE&&("block"===r.nodeName.toLowerCase()?t.childBlockElement=r:"shadow"===r.nodeName.toLowerCase()&&(t.childShadowElement=r))}return t},Dt=function(e,t,n,r){const o=e.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+e.outerHTML);var i=e.getAttribute("id");i=t.newBlock(o,i);const s=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let n=0;n<e.children.length;n++){const r=e.children[n];if(r.nodeType!==ls.TEXT_NODE)switch(r.nodeName.toLowerCase()){case"mutation":t.mutation.push(r);break;case"comment":t.comment.push(r);break;case"data":t.data.push(r);break;case"title":case"field":t.field.push(r);break;case"value":case"statement":t.input.push(r);break;case"next":t.next.push(r);break;default:console.warn("Ignoring unknown tag: "+r.nodeName)}}return t}(e),a=function(e,t){let n=!1;for(let r=0;r<e.length;r++){const o=e[r];t.domToMutation&&(t.domToMutation(o),t.initSvg&&(n=!0))}return n}(s.mutation,i);if(function(e,t){for(let r=0;r<e.length;r++){var n=e[r];const o=n.textContent,i="true"===n.getAttribute("pinned"),s=parseInt(n.getAttribute("w"));if(n=parseInt(n.getAttribute("h")),t.setCommentText(o),t.commentModel.pinned=i,isNaN(s)||isNaN(n)||(t.commentModel.size=new Es(s,n)),i&&t.getCommentIcon&&!t.isInFlyout){const e=t;setTimeout((function(){e.getCommentIcon().setVisible(!0)}),1)}}}(s.comment,i),function(e,t){for(let n=0;n<e.length;n++)t.data=e[n].textContent}(s.data,i),n)if(r){if(!i.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(i.previousConnection)}else if(i.outputConnection)n.connect(i.outputConnection);else{if(!i.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(i.previousConnection)}if(function(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=r.getAttribute("name");Pt(t,o,r)}}(s.field,i),function(e,t,n,r){for(let i=0;i<e.length;i++){var o=e[i];const s=o.getAttribute("name"),a=n.getInput(s);if(!a){console.warn("Ignoring non-existent input "+s+" in block "+r);break}if((o=Lt(o)).childBlockElement){if(!a.connection)throw TypeError("Input connection does not exist.");Dt(o.childBlockElement,t,a.connection,!1)}if(o.childShadowElement){let e;null==(e=a.connection)||e.setShadowDom(o.childShadowElement)}}}(s.input,t,i,o),function(e,t,n){for(let r=0;r<e.length;r++){const o=Lt(e[r]);if(o.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Dt(o.childBlockElement,t,n.nextConnection,!0)}o.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(o.childShadowElement)}}(s.next,t,i),a&&i.initSvg(),(t=e.getAttribute("inline"))&&i.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&i.setEnabled("true"!==t&&"disabled"!==t),(t=e.getAttribute("deletable"))&&i.setDeletable("true"===t),(t=e.getAttribute("movable"))&&i.setMovable("true"===t),(t=e.getAttribute("editable"))&&i.setEditable("true"===t),(t=e.getAttribute("collapsed"))&&i.setCollapsed("true"===t),"shadow"===e.nodeName.toLowerCase()){for(e=i.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(i.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");i.setShadow(!0)}return i},Pt=function(e,t,n){const r=e.getField(t);r?r.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},$t=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},Bt=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,r=0;for(t=t||$t(e),n=0;n<t;n++){for(var o=e[0][n],i=1;i<e.length;i++)if(o!==e[i][n])return r;" "===o&&(r=n+1)}for(o=1;o<e.length;o++)if((i=e[o][n])&&" "!==i)return r;return t},Ft=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,r=0;for(t=t||$t(e),n=0;n<t;n++){for(var o=e[0].substr(-n-1,1),i=1;i<e.length;i++)if(o!==e[i].substr(-n-1,1))return r;" "===o&&(r=n+1)}for(o=1;o<e.length;o++)if((i=e[o].charAt(e[o].length-n-1))&&" "!==i)return r;return t},Ut=function(e,t){e=e.split("\n");for(let n=0;n<e.length;n++)e[n]=Gt(e[n],t);return e.join("\n")},Gt=function(e,t){if(e.length<=t)return e;const n=e.trim().split(/\s+/);for(var r=0;r<n.length;r++)n[r].length>t&&(t=n[r].length);var o=-1/0;let i,s=1;do{r=o,i=e,e=[],o=n.length/s;let a=1;for(let t=0;t<n.length-1;t++)a<(t+1.5)/o?(a++,e[t]=!0):e[t]=!1;e=Ht(n,e,t),o=jt(n,e,t),e=Vt(n,e),s++}while(o>r);return i},jt=function(e,t,n){const r=[0],o=[];for(var i=0;i<e.length;i++)r[r.length-1]+=e[i].length,!0===t[i]?(r.push(0),o.push(e[i].charAt(e[i].length-1))):!1===t[i]&&r[r.length-1]++;for(e=Math.max(...r),t=0,i=0;i<r.length;i++)t-=2*Math.pow(Math.abs(n-r[i]),1.5),t-=Math.pow(e-r[i],1.5),-1!==".?!".indexOf(o[i])?t+=n/3:-1!==",;)]}".indexOf(o[i])&&(t+=n/4);return 1<r.length&&r[r.length-1]<=r[r.length-2]&&(t+=.5),t},Ht=function(e,t,n){let r,o=jt(e,t,n);for(let i=0;i<t.length-1;i++){if(t[i]===t[i+1])continue;const s=[].concat(t);s[i]=!s[i],s[i+1]=!s[i+1];const a=jt(e,s,n);a>o&&(o=a,r=s)}return r?Ht(e,r,n):t},Vt=function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),void 0!==t[r]&&n.push(t[r]?"\n":" ");return n.join("")},Wt=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},zt=function(e){if(e=Zt(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},Zt=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},Xt=function(){Rl||((Rl=document.createElement("div")).className="blocklyTooltipDiv",(S()||document.body).appendChild(Rl))},Yt=function(e){e.mouseOverWrapper_=u(e,"pointerover",null,Jt),e.mouseOutWrapper_=u(e,"pointerout",null,qt),e.addEventListener("pointermove",Qt,!1)},Kt=function(e){e&&(h(e.mouseOverWrapper_),h(e.mouseOutWrapper_),e.removeEventListener("pointermove",Qt))},Jt=function(e){gl||(e=Zt(e.currentTarget),yl!==e&&(tn(),Tl=null,yl=e),clearTimeout(_l))},qt=function(e){gl||(_l=setTimeout((function(){Tl=yl=null,tn()}),1),clearTimeout(vl))},Qt=function(e){if(yl&&yl.tooltip&&!gl)if(fl){const t=bl-e.pageX;e=El-e.pageY,Math.sqrt(t*t+e*e)>Cl&&tn()}else Tl!==yl&&(clearTimeout(vl),bl=e.pageX,El=e.pageY,vl=setTimeout(sn,Il))},en=function(){Tl=yl=null,tn()},tn=function(){fl&&(fl=!1,Rl&&(Rl.style.display="none")),vl&&clearTimeout(vl)},nn=function(){tn(),gl=!0},rn=function(){gl=!1},on=function(){var e=zt(yl);e=(e=Ut(e,ml)).split("\n");for(let t=0;t<e.length;t++){const n=document.createElement("div");n.appendChild(document.createTextNode(e[t])),Rl.appendChild(n)}},sn=function(){if(!gl&&(Tl=yl,Rl)){Rl.textContent="",Rl&&yl&&("function"==typeof pl?pl(Rl,yl):on());var e=yl.RTL;Rl.style.direction=e?"rtl":"ltr",Rl.style.display="block",fl=!0;var{x:t,y:n}=function(e){const t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;let r=bl;r=e?r-(wl+Rl.offsetWidth):r+wl;let o=El+Sl;return o+Rl.offsetHeight>n+window.scrollY&&(o-=Rl.offsetHeight+2*Sl),e?r=Math.max(kl-window.scrollX,r):r+Rl.offsetWidth>t+window.scrollX-2*kl&&(r=t-Rl.offsetWidth-2*kl),{x:r,y:o}}(e);Rl.style.left=t+"px",Rl.style.top=n+"px"}},an=function(){return Ol},ln=function(){return xl},cn=function(e){e=String(e).toLowerCase().trim();var t=Al[e];if(t)return t;if(t="#"===(t="0x"===e.substring(0,2)?"#"+e.substring(2):e)[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?un(e,t,n):null},un=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},hn=function(e){return(e=cn(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},dn=function(e,t,n){let r=0,o=0,i=0;if(0===t)i=o=r=n;else{const s=Math.floor(e/60),a=e/60-s;e=n*(1-t);const l=n*(1-t*a);switch(t=n*(1-t*(1-a)),s){case 1:r=l,o=n,i=e;break;case 2:r=e,o=n,i=t;break;case 3:r=e,o=l,i=n;break;case 4:r=t,o=e,i=n;break;case 5:r=n,o=e,i=l;break;case 6:case 0:r=n,o=t,i=e}}return un(Math.floor(r),Math.floor(o),Math.floor(i))},pn=function(e,t,n){return(e=cn(e))&&(t=cn(t))?(e=hn(e),t=hn(t),un(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null},fn=function(e){return dn(e,Ol,255*xl)},gn=function(e,t){const n=[];var r=e.split("");r.push("");var o=0;e=[];let i=null;for(let l=0;l<r.length;l++){var s=r[l];if(0===o)"%"===s?((o=e.join(""))&&n.push(o),e.length=0,o=1):e.push(s);else if(1===o)"%"===s?(e.push(s),o=0):t&&"0"<=s&&"9">=s?(o=2,i=s,(s=e.join(""))&&n.push(s),e.length=0):"{"===s?o=3:(e.push("%",s),o=0);else if(2===o)if("0"<=s&&"9">=s)i+=s;else{var a=void 0;n.push(parseInt(null!=(a=i)?a:"",10)),l--,o=0}else 3===o&&(""===s?(e.splice(0,0,"%{"),l--,o=0):"}"!==s?e.push(s):(o=e.join(""),/[A-Z]\w*/i.test(o)&&(s=(s=o.toUpperCase()).startsWith("BKY_")?s.substring(4):null)&&s in Ba?"string"==typeof(o=Ba[s])?Array.prototype.push.apply(n,gn(o,t)):t?n.push(String(o)):n.push(o):n.push("%{"+o+"}"),o=e.length=0))}for((t=e.join(""))&&n.push(t),a=[],e.length=0,r=0;r<n.length;r++)"string"==typeof n[r]?e.push(n[r]):((t=e.join(""))&&a.push(t),e.length=0,a.push(n[r]));return(t=e.join(""))&&a.push(t),e.length=0,a},mn=function(e){return gn(e,!0)},_n=function(e){return"string"!=typeof e?e:(e=gn(e,!1)).length?String(e[0]):""},vn=function(e){let t=!0;const n=Ba,r=e.match(/%{BKY_[A-Z]\w*}/gi);if(r)for(let o=0;o<r.length;o++)void 0===n[r[o].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+r[o]+" in "+e),t=!1);return t},bn=function(e){const t="string"==typeof e?_n(e):e;var n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:dn(n,an(),255*ln())};if(n=cn(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)},En=function(){return Dl},yn=function(){Dl||((Dl=document.createElement("div")).className="blocklyWidgetDiv",(S()||document.body).appendChild(Dl))},Tn=function(e,t,n){wn(),$l=e,Bl=n,(e=Dl)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=E(),Fl=t.getRenderer().getClassName(),Ul=t.getTheme().getClassName(),Fl&&N(e,Fl),Ul&&N(e,Ul))},wn=function(){if(Sn()){$l=null;var e=Dl;e&&(e.style.display="none",e.style.left="",e.style.top="",Bl&&Bl(),Bl=null,e.textContent="",Fl&&(D(e,Fl),Fl=""),Ul&&(D(e,Ul),Ul=""),E().markFocused())}},Sn=function(){return!!$l},Cn=function(e){$l===e&&wn()},In=function(e,t,n){Dl.style.left=e+"px",Dl.style.top=t+"px",Dl.style.height=n+"px"},kn=function(e,t,n,r){const o=Mn(e,t,n);e=Rn(e,t,n,r),0>o?In(e,0,n.height+o):In(e,o,n.height)},Rn=function(e,t,n,r){return r?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},Mn=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},On=function(e,t){ye(Vs.FIELD,e,t)},xn=function(e){return Wl.fromJsonInternal(e)},An=function(e,t){e.setAttribute(Kl,t)},Nn=function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(Yl+t,`${n}`)},Ln=function(e,t,n){return e.map((([e,r])=>[e.substring(t,e.length-n),r]))},Dn=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)?"string"!=typeof r[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+r[1]+" in: ",r)):r[0]&&"string"!=typeof r[0]&&"string"!=typeof r[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+r[0]+" in: ",r)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",r))}if(t)throw TypeError("Found invalid FieldDropdown options.")},Pn=function(e,t){for(const n in t)e[n]=null!==t[n]&&"object"==typeof t[n]?Pn(e[n]||Object.create(null),t[n]):t[n];return e},$n=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=Wn(e),e=jn(e)),Bn(e),e):null},Bn=function(e){const t=e.kind;if(e=e.contents,t&&t!==fc&&t!==pc)throw Error("Invalid toolbox kind "+t+". Please supply either "+fc+" or "+pc);if(!e)throw Error("Toolbox must have a contents attribute.")},Fn=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:Hn(e):[]},Un=function(e){return gc.hasCategoriesInternal(e)},Gn=function(e){return!(!e||!e.contents||!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length)},jn=function(e){const t={contents:Hn(e)};return e instanceof Node&&Vn(e,t),t},Hn=function(e){const t=[];let n=e.childNodes;n||(n=e);for(let r,o=0;r=n[o];o++){if(!r.tagName)continue;e={};const n=r.tagName.toUpperCase();e.kind=n,"BLOCK"===n?e.blockxml=r:r.childNodes&&0<r.childNodes.length&&(e.contents=Hn(r)),Vn(r,e),t.push(e)}return t},Vn=function(e,t){for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n];-1<r.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[r.nodeName.replace("css-","")]=r.value):t[r.nodeName]=r.value}},Wn=function(e){let t=null;if(e)if("string"==typeof e){if(t=Ot(e),"xml"!==t.nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},zn=function(e,t){if("string"!=typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(vc[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof t)throw Error('Error: Extension "'+e+'" must be a function');vc[e]=t},Zn=function(e){return!!vc[e]},Xn=function(e,t,n){const r=vc[e];if("function"!=typeof r)throw Error('Error: Extension "'+e+'" not found.');let o;if(n?Yn(e,t):o=Qn(t),r.apply(t),n)qn('Error after applying mutator "'+e+'": ',t);else if(!er(o,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},Yn=function(e,t){if(Qn(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Kn=function(e,t){return Jn(e.compose,e.decompose,t+" compose/decompose")},Jn=function(e,t,n){if(e&&t){if("function"!=typeof e||"function"!=typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},qn=function(e,t){const n=function(e,t){return Jn(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")}(t,e),r=function(e,t){return Jn(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")}(t,e);if(!n&&!r)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Kn(t,e)},Qn=function(e){const t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},er=function(e,t){if((t=Qn(t)).length!==e.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},tr=function(e){if("object"!=typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else{const t=setInterval((function(){"complete"===document.readyState&&(clearInterval(t),e())}),10)}},nr=function(e,t,n){var r=e.getField(t);if(r instanceof tc&&!r.isOptionListDynamic()){r=r.getOptions();for(let o=0;o<r.length;o++){const i=r[o][1];null===n[i]&&console.warn("No tooltip mapping for value "+i+" of field "+t+" of block type "+e.type)}}},rr=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)},or=function(e,t){return" "+e+","+t+" "},ir=function(e,t){return" "+e+t.join("")},sr=function(e,t){return" M "+e+","+t+" "},ar=function(e,t){return" m "+e+","+t+" "},lr=function(e,t){return" l "+e+","+t+" "},cr=function(e){return" l"+e.join("")},ur=function(e,t){return" "+e+" "+t+" "},hr=function(e,t,n,r){return e+" "+n+" "+n+" "+t+r},dr=function(e){return t("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),bt(e)},pr=function(e,t){ye(Vs.SERIALIZER,e,t)},fr=function(e,{addCoordinates:t=!1,addInputBlocks:n=!0,addNextBlocks:r=!0,doFullSerialization:o=!0}={}){if(e.isInsertionMarker())return null;const i={type:e.type,id:e.id};return t&&mr(e,i),gr(e,i),_r(e,i),vr(e,i),br(e,i,o),n&&Er(e,i,o),r&&yr(e,i,o),i},gr=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},mr=function(e,t){const n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},_r=function(e,t){e.saveExtraState?null!==(e=e.saveExtraState())&&(t.extraState=e):e.mutationToDom&&null!==(e=e.mutationToDom())&&(t.extraState=Mt(e).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},vr=function(e,t){e.getCommentText()&&(t.icons={comment:{text:e.getCommentText(),pinned:e.commentModel.pinned,height:Math.round(e.commentModel.size.height),width:Math.round(e.commentModel.size.width)}})},br=function(e,t,n){const r=Object.create(null);for(let t=0;t<e.inputList.length;t++){const o=e.inputList[t];for(let e=0;e<o.fieldRow.length;e++){const t=o.fieldRow[e];t.isSerializable()&&(r[t.name]=t.saveState(n))}}Object.keys(r).length&&(t.fields=r)},Er=function(e,t,n){const r=Object.create(null);for(let t=0;t<e.inputList.length;t++){const o=e.inputList[t];if(o.type===Ks.DUMMY)continue;const i=Tr(o.connection,n);i&&(r[o.name]=i)}Object.keys(r).length&&(t.inputs=r)},yr=function(e,t,n){e.nextConnection&&(e=Tr(e.nextConnection,n))&&(t.next=e)},Tr=function(e,t){const n=e.getShadowState(!0);if(e=e.targetBlock(),!n&&!e)return null;const r=Object.create(null);return n&&(r.shadow=n),e&&!e.isShadow()&&(r.block=fr(e,{doFullSerialization:t})),r},wr=function(e,t,{recordUndo:n=!1}={}){return Sr(e,t,{recordUndo:n})},Sr=function(e,t,{parentConnection:n,isShadow:r=!1,recordUndo:o=!1}={}){const i=Ne();Ae(o),(o=Ge())||je(!0),Be();const s=Cr(e,t,{parentConnection:n,isShadow:r});return Fe(),Le(new(ze(oa))(s)),je(o),Ae(i),t.rendered&&setTimeout((()=>{s.disposed||s.setConnectionTracking(!0)}),1),s},Cr=function(e,t,{parentConnection:n,isShadow:r=!1}={}){if(!e.type)throw new kc(e);const o=t.newBlock(e.type,e.id);return o.setShadow(r),Ir(o,e),kr(o,e),Rr(o,e),Mr(n,o,e),Or(o,e),xr(o,e),Ar(o,e),Nr(o,e),Dr(o,t.rendered),o},Ir=function(e,t){let n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;const r=e.workspace;n=r.RTL?r.getWidth()-n:n,e.moveBy(n,t)},kr=function(e,t){t.collapsed&&e.setCollapsed(!0),!1===t.enabled&&e.setEnabled(!1),void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},Rr=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(Ot(t.extraState)))},Mr=function(e,t,n){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new Oc(n);if(e.type===Ks.VALUE){var r=t.outputConnection;if(!r)throw new Rc("output",t,n)}else if(!(r=t.previousConnection))throw new Rc("previous",t,n);if(!e.connect(r)){const o=t.workspace.connectionChecker;throw new Mc(o.getErrorMessage(o.canConnectWithReason(r,e,!1),r,e),e.type===Ks.VALUE?"output connection":"previous connection",t,n)}}},Or=function(e,t){t.icons&&(t=t.icons.comment)&&(e.setCommentText(t.text),"pinned"in t&&(e.commentModel.pinned=t.pinned),"width"in t&&"height"in t&&(e.commentModel.size=new Es(t.width,t.height)),t.pinned&&e.rendered&&!e.isInFlyout&&setTimeout((()=>e.getCommentIcon().setVisible(!0)),1))},xr=function(e,t){if(t.fields){var n=Object.keys(t.fields);for(let r=0;r<n.length;r++){const o=n[r],i=t.fields[o],s=e.getField(o);s?s.loadState(i):console.warn(`Ignoring non-existant field ${o} in block ${e.type}`)}}},Ar=function(e,t){if(t.inputs){var n=Object.keys(t.inputs);for(let r=0;r<n.length;r++){const o=n[r],i=e.getInput(o);if(!i||!i.connection)throw new Rc(o,e,t);Lr(i.connection,t.inputs[o])}}},Nr=function(e,t){if(t.next){if(!e.nextConnection)throw new Rc("next",e,t);Lr(e.nextConnection,t.next)}},Lr=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&Cr(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Dr=function(e,t){if(t)for(e.setConnectionTracking(!1),e.initSvg(),e.render(!1),e=e.getIcons(),t=0;t<e.length;t++)e[t].computeIconLocation();else e.initModel()},Pr=function(e,t){let n=null;const r=(t=t.outputConnection).getConnectionChecker();for(let o,i=0;o=e.inputList[i];i++){const e=o.connection;if(e&&r.canConnect(t,e,!1)){if(n)return null;n=e}}return n},$r=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Br=function(e){const t=e.workspace;var n=e.getSvgRoot();t.getAudioManager().play("delete");const r=t.getSvgXY(n);(n=n.cloneNode(!0)).setAttribute("transform","translate("+r.x+","+r.y+")"),t.getParentSvg().appendChild(n),Fr(n,{x:r.x,y:r.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)},Fr=function(e,t,n,r,o){const i=((new Date).getTime()-r.getTime())/150;1<i?P(e):(e.setAttribute("transform","translate("+(t.x+(n?-1:1)*t.width*o/2*i)+","+(t.y+t.height*o*i)+") scale("+(1-i)*o+")"),setTimeout(Fr,10,e,t,n,r,o))},Ur=function(e){const t=e.workspace,n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var r=t.getSvgXY(e.getSvgRoot());e.outputConnection?(r.x+=(e.RTL?3:-3)*n,r.y+=13*n):e.previousConnection&&(r.x+=(e.RTL?-23:23)*n,r.y+=3*n),e=A(ol.CIRCLE,{cx:r.x,cy:r.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg()),Gr(e,new Date,n)}},Gr=function(e,t,n){const r=((new Date).getTime()-t.getTime())/150;1<r?P(e):(e.setAttribute("r",(25*r*n).toString()),e.style.opacity=(1-r).toString(),Zc=setTimeout(Gr,10,e,t,n))},jr=function(e){if(Vr(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Xc=e.getSvgRoot(),Hr(Xc,t,new Date)}},Hr=function(e,t,n){const r=((new Date).getTime()-n.getTime())/200;let o="";1>=r&&(o=`skewX(${Math.round(Math.sin(r*Math.PI*3)*(1-r)*t)})`,Zc=setTimeout(Hr,10,e,t,n)),e.skew_=o,e.setAttribute("transform",e.translate_+e.skew_)},Vr=function(){if(Xc){Zc&&clearTimeout(Zc);const e=Xc;e.skew_="",e.setAttribute("transform",e.translate_),Xc=null}},Wr=function(e){tu.copyInternal(e)},zr=function(){if(!eu)return null;let e=eu.source;return e.isFlyout&&(e=e.targetWorkspace),eu.typeCounts&&e.isCapacityAvailable(eu.typeCounts)?e.paste(eu.saveInfo):null},Zr=function(e){return tu.duplicateInternal(e)},Xr=function(){return Jc},Yr=function(e){Jc=e},Kr=function(e,t,n){if(Tn(qc,n,no),t.length){var r=Jr(t,n);Qc=r,qr(r,e,n),setTimeout((function(){r.focus()}),1),Jc=null}else to()},Jr=function(e,t){const n=new Ql;n.setRole(Zl.MENU);for(let r=0;r<e.length;r++){const o=e[r],i=new ec(o.text);i.setRightToLeft(t),i.setRole(Zl.MENUITEM),n.addChild(i),i.setEnabled(o.enabled),o.enabled&&i.onAction((function(){to(),o.callback(o.scope)}),{})}return n},qr=function(e,t,n){const r=yt();t=new vs(t.clientY+r.top,t.clientY+r.top,t.clientX+r.left,t.clientX+r.left),Qr(e);const o=e.getSize();n&&(t.left+=o.width,t.right+=o.width,r.left+=o.width,r.right+=o.width),kn(r,t,o,n),e.focus()},Qr=function(e){var t=En();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),N(t,"blocklyContextMenu"),c(t,"contextmenu",null,eo),e.focus()},eo=function(e){e.preventDefault(),e.stopPropagation()},to=function(){Cn(qc),Jc=null},no=function(){Qc&&(Qc.dispose(),Qc=null)},ro=function(e){return{text:Ba.REMOVE_COMMENT,enabled:!0,callback:function(){je(!0),e.dispose(),je(!1)}}},oo=function(e){return{text:Ba.DUPLICATE_COMMENT,enabled:!0,callback:function(){Zr(e)}}},io=function(e,t,n,r,o,i){const s=i.scrollbar&&i.scrollbar.canScrollVertically();return e.horizontal===yu.LEFT?(n=o.absoluteMetrics.left+n,s&&i.RTL&&(n+=sc.scrollbarThickness)):(n=o.absoluteMetrics.left+o.viewMetrics.width-t.width-n,s&&!i.RTL&&(n-=sc.scrollbarThickness)),e.vertical===Eu.TOP?e=o.absoluteMetrics.top+r:(e=o.absoluteMetrics.top+o.viewMetrics.height-t.height-r,i.scrollbar&&i.scrollbar.canScrollHorizontally()&&(e-=sc.scrollbarThickness)),new vs(e,e+t.height,n,n+t.width)},so=function(e,t){return{horizontal:t.toolboxMetrics.position===uc.LEFT||e.horizontalLayout&&!e.RTL?yu.RIGHT:yu.LEFT,vertical:t.toolboxMetrics.position===uc.BOTTOM?Eu.TOP:Eu.BOTTOM}},ao=function(e,t,n,r){const o=e.left,i=e.right-e.left,s=e.bottom-e.top;for(let a=0;a<r.length;a++){const l=r[a];e.intersects(l)&&(e=n===Tu.UP?l.top-s-t:l.bottom+t,e=new vs(e,e+s,o,o+i),a=-1)}return e},lo=function(){rh.registry.register({name:Qu.ESCAPE,preconditionFn:e=>!e.options.readOnly,callback:e=>(e.hideChaff(),!0),keyCodes:[Jl.ESC]})},co=function(){rh.registry.register({name:Qu.DELETE,preconditionFn(e){const t=T();return!e.options.readOnly&&null!=t&&t.isDeletable()},callback:(e,t)=>(t.preventDefault(),!nh.inProgress()&&(T().checkAndDelete(),!0)),keyCodes:[Jl.DELETE,Jl.BACKSPACE]})},uo=function(){const e=rh.registry.createSerializedKey(Jl.C,[Jl.CTRL]),t=rh.registry.createSerializedKey(Jl.C,[Jl.ALT]),n=rh.registry.createSerializedKey(Jl.C,[Jl.META]);rh.registry.register({name:Qu.COPY,preconditionFn(e){const t=T();return!e.options.readOnly&&!nh.inProgress()&&null!=t&&t.isDeletable()&&t.isMovable()},callback:(e,t)=>(t.preventDefault(),e.hideChaff(),Wr(T()),!0),keyCodes:[e,t,n]})},ho=function(){const e=rh.registry.createSerializedKey(Jl.X,[Jl.CTRL]),t=rh.registry.createSerializedKey(Jl.X,[Jl.ALT]),n=rh.registry.createSerializedKey(Jl.X,[Jl.META]);rh.registry.register({name:Qu.CUT,preconditionFn(e){const t=T();return!e.options.readOnly&&!nh.inProgress()&&null!=t&&t instanceof bu&&t.isDeletable()&&t.isMovable()&&!t.workspace.isFlyout},callback(){const e=T();return!!e&&(Wr(e),e.checkAndDelete(),!0)},keyCodes:[e,t,n]})},po=function(){const e=rh.registry.createSerializedKey(Jl.V,[Jl.CTRL]),t=rh.registry.createSerializedKey(Jl.V,[Jl.ALT]),n=rh.registry.createSerializedKey(Jl.V,[Jl.META]);rh.registry.register({name:Qu.PASTE,preconditionFn:e=>!e.options.readOnly&&!nh.inProgress(),callback:()=>!!zr(),keyCodes:[e,t,n]})},fo=function(){const e=rh.registry.createSerializedKey(Jl.Z,[Jl.CTRL]),t=rh.registry.createSerializedKey(Jl.Z,[Jl.ALT]),n=rh.registry.createSerializedKey(Jl.Z,[Jl.META]);rh.registry.register({name:Qu.UNDO,preconditionFn:e=>!e.options.readOnly&&!nh.inProgress(),callback:e=>(e.hideChaff(),e.undo(!1),!0),keyCodes:[e,t,n]})},go=function(){const e=rh.registry.createSerializedKey(Jl.Z,[Jl.SHIFT,Jl.CTRL]),t=rh.registry.createSerializedKey(Jl.Z,[Jl.SHIFT,Jl.ALT]),n=rh.registry.createSerializedKey(Jl.Z,[Jl.SHIFT,Jl.META]),r=rh.registry.createSerializedKey(Jl.Y,[Jl.CTRL]);rh.registry.register({name:Qu.REDO,preconditionFn:e=>!nh.inProgress()&&!e.options.readOnly,callback:e=>(e.hideChaff(),e.undo(!0),!0),keyCodes:[e,t,n,r]})},mo=function(){lo(),co(),uo(),ho(),po(),fo(),go()},_o=function(e){return void 0!==e.startPublishing&&void 0!==e.stopPublishing},vo=function(e){return void 0!==e.doProcedureUpdate},bo=function(e){for(const t of e.getAllBlocks(!1))vo(t)&&t.doProcedureUpdate()},Eo=function(e){const t=e.getBlocksByType("procedures_defnoreturn",!1).map((function(e){return e.getProcedureDef()}));return e=e.getBlocksByType("procedures_defreturn",!1).map((function(e){return e.getProcedureDef()})),t.sort(yo),e.sort(yo),[t,e]},yo=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},To=function(e,t){if(t.isInFlyout)return e;for(e=e||Ba.UNNAMED_KEY||"unnamed";!wo(e,t.workspace,t);){const t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2])+1):e+"2"}return e},wo=function(e,t,n){return!So(e,t,n)},So=function(e,t,n){t=t.getAllBlocks(!1);for(let o=0;o<t.length;o++)if(t[o]!==n){var r=t[o];if(r.getProcedureDef&&(r=r.getProcedureDef(),ch.equals(r[0],e)))return!0}return!1},Co=function(e){function t(e,t){for(let o=0;o<e.length;o++){var r=e[o][0];const i=e[o][1],s=Xe("block");s.setAttribute("type",t),s.setAttribute("gap","16");const a=Xe("mutation");for(a.setAttribute("name",r),s.appendChild(a),r=0;r<i.length;r++){const e=Xe("arg");e.setAttribute("name",i[r]),a.appendChild(e)}n.push(s)}}const n=[];if(as.procedures_defnoreturn){var r=Xe("block");r.setAttribute("type","procedures_defnoreturn"),r.setAttribute("gap","16");var o=Xe("field");o.setAttribute("name","NAME"),o.appendChild(Ye(Ba.PROCEDURES_DEFNORETURN_PROCEDURE)),r.appendChild(o),n.push(r)}return as.procedures_defreturn&&((r=Xe("block")).setAttribute("type","procedures_defreturn"),r.setAttribute("gap","16"),(o=Xe("field")).setAttribute("name","NAME"),o.appendChild(Ye(Ba.PROCEDURES_DEFRETURN_PROCEDURE)),r.appendChild(o),n.push(r)),as.procedures_ifreturn&&((r=Xe("block")).setAttribute("type","procedures_ifreturn"),r.setAttribute("gap","16"),n.push(r)),n.length&&n[n.length-1].setAttribute("gap","24"),t((e=Eo(e))[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),n},Io=function(e){var t=[],n=e.getBlocksByType("procedures_mutatorarg",!1);for(let e,r=0;e=n[r];r++)t.push(e.getFieldValue("NAME"));n=Xe("xml");const r=Xe("block");r.setAttribute("type","procedures_mutatorarg");const o=Xe("field");o.setAttribute("name","NAME"),t=it(hh,t),t=Ye(t),o.appendChild(t),r.appendChild(o),n.appendChild(r),e.updateToolbox(n)},ko=function(e){if(e.type===ma&&"mutator"===e.bubbleType&&e.isOpen&&e.blockId){var t=(e=m(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!==t&&"procedures_defreturn"!==t||(e=e.mutator.getWorkspace(),Io(e),e.addChangeListener(Ro))}},Ro=function(e){e.type!==oa&&e.type!==ia&&e.type!==sa||(e=m(e.workspaceId),Io(e))},Mo=function(e,t){const n=[];t=t.getAllBlocks(!1);for(let o=0;o<t.length;o++){var r=t[o];r.getProcedureCall&&(r=r.getProcedureCall())&&ch.equals(r,e)&&n.push(t[o])}return n},Oo=function(e){return e.isDynamic},xo=function(){return Fh},Ao=function(){t("Blockly.blockRendering.debug.stopDebugger()","version 8","version 10","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Fh=!1},No=function(e,t){ye(Vs.RENDERER,e,t)},Lo=function(e,t,n){return(e=new(Ie(Vs.RENDERER,e))(e)).init(t,n),e},Do=function(e){st(e.getTargetWorkspace(),void 0,"String")},Po=function(e){st(e.getTargetWorkspace(),void 0,"Number")},$o=function(e){st(e.getTargetWorkspace(),void 0,"Colour")},Bo=function(e){let t=[],n=document.createElement("button");return n.setAttribute("text",Ba.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Ba.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Ba.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",Do),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Po),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",$o),e=Fo(e),t.concat(e)},Fo=function(e){const t=[];if(0<(e=e.getAllVariables()).length){if(as.variables_set_dynamic){var n=e[e.length-1];const r=Xe("block");r.setAttribute("type","variables_set_dynamic"),r.setAttribute("gap","24"),r.appendChild(ht(n)),t.push(r)}if(as.variables_get_dynamic){e.sort(Ja.compareByName);for(let r,o=0;r=e[o];o++)(n=Xe("block")).setAttribute("type","variables_get_dynamic"),n.setAttribute("gap","8"),n.appendChild(ht(r)),t.push(n)}}return t},Uo=function(e){e.resizeContents()},Go=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length?(t.parameters=e.getParameters().map((e=>jo(e))),t):t},jo=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length?(t.types=e.getTypes(),t):t},Ho=function(e,t,n,r){if(e=new e(r,n.name,n.id).setReturnTypes(n.returnTypes),!n.parameters)return e;for(const[o,i]of n.parameters.entries())e.insertParameter(Vo(t,i,r),o);return e},Vo=function(e,t,n){return e=new e(n,t.name,t.id),t.types&&e.setTypes(t.types),e},Wo=function(e,t,n){const r=n.getBoundingRectangle(),o=r.right-r.left,i=Z(t.top,r.top,t.top+t.height-(r.bottom-r.top))-r.top;let s=t.left;return t=t.left+t.width-o,e.RTL?s=Math.min(t,s):t=Math.max(s,t),!(!(e=Z(s,r.left,t)-r.left)&&!i||(n.moveBy(e,i),0))},zo=function(e){return t=>{var n,r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging())if(-1!==La.indexOf(null!=(n=t.type)?n:"")){n=r.getScrollMetrics(!0);const o=Zo(e,t);o&&(r=Ge(),je(t.group),Wo(e,n,o)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==r&&je(r))}else t.type===Ea&&t.scale&&t.oldScale&&t.scale>t.oldScale&&Xo(e)}},Zo=function(e,t){let n=null;switch(t.type){case oa:case aa:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case ya:case Sa:n=e.getCommentById(t.commentId)}return n},Xo=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var n=e.getTopBoundedElements();for(let r,o=0;r=n[o];o++)Wo(e,t,r)}},Yo=function(e,t){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!B(document,e))throw Error("Error: container is not in current document.");t=new _c(t||{});const n=document.createElement("div");n.className="injectionDiv",n.tabIndex=0,Nn(n,Xl.LABEL,Ba.WORKSPACE_ARIA_LABEL),e.appendChild(n),e=Ko(n,t);const r=new Yd(n),o=new Xd(n),i=Jo(e,t,r,o);return qo(i),y(i),I(i),n.addEventListener("focusin",(function(){y(i)})),i},Ko=function(e,t){e.setAttribute("dir","LTR"),_t(t.hasCss,t.pathToMedia),e=A(ol.SVG,{xmlns:us,"xmlns:html":hs,"xmlns:xlink":ds,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const n=A(ol.DEFS,{},e),r=String(Math.random()).substring(2);return t.gridPattern=lh.createDom(r,t.gridOptions,n),e},Jo=function(e,t,n,r){t.parentWorkspace=null,n=(t=new cd(t,n,r)).options,t.scale=n.zoomOptions.startScale,e.appendChild(t.createDom("blocklyMainBackground")),r=t.getInjectionDiv();var o=t.getRenderer().getClassName();return o&&N(r,o),(o=t.getTheme().getClassName())&&N(r,o),!n.hasCategories&&n.languageTree&&(r=t.addFlyout(ol.SVG),$(r,e)),n.hasTrashcan&&t.addTrashcan(),n.zoomOptions&&n.zoomOptions.controls&&t.addZoomControls(),t.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),t.translate(0,0),t.addChangeListener(zo(t)),I(t),yn(),ne(),Xt(),t},qo=function(e){const t=e.options;var n=e.getParentSvg();if(c(n.parentNode,"contextmenu",null,(function(e){d(e)||e.preventDefault()})),n=c(window,"resize",null,(function(){e.hideChaff(!0),I(e),Xo(e)})),e.setResizeHandlerWrapper(n),ei(),t.languageTree){n=e.getToolbox();const r=e.getFlyout(!0);n?n.init():r&&(r.init(e),r.show(t.languageTree),"function"==typeof r.scrollToStart&&r.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new Jd(e,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.horizontal,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&ti(t.pathToMedia,e)},Qo=function(e){const t=E();t&&!(d(e)||t.rendered&&!t.isVisible())&&rh.registry.onKeyDown(t,e)},ei=function(){qd||(c(document,"scroll",null,(function(){const e=_();for(let t,n=0;t=e[n];n++)t instanceof cd&&t.updateInverseScreenCTM()})),c(document,"keydown",null,Qo),u(document,"touchend",null,o),u(document,"touchcancel",null,o),Zi&&c(window,"orientationchange",document,(function(){I(E())}))),qd=!0},ti=function(e,t){function n(){for(;o.length;)h(o.pop());r.preload()}const r=t.getAudioManager();r.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),r.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),r.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const o=[];o.push(c(document,"pointermove",null,n,!0)),o.push(c(document,"touchstart",null,n,!0))},ni=function(e,t,n){if(!(e=e.getProcedureMap().get(t)))throw Error("Cannot rename the parameter of a procedure that does not exist in the procedure map");return e.getParameters().find((e=>e.getId()===n))},ri=function(){ru.registry.register({displayText:()=>Ba.UNDO,preconditionFn:e=>0<e.workspace.getUndoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!1)},scopeType:ru.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},oi=function(){ru.registry.register({displayText:()=>Ba.REDO,preconditionFn:e=>0<e.workspace.getRedoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!0)},scopeType:ru.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},ii=function(){ru.registry.register({displayText:()=>Ba.CLEAN_UP,preconditionFn:e=>e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden",callback(e){e.workspace.cleanUp()},scopeType:ru.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},si=function(e,t){function n(t){o--,t.setCollapsed(e),0===o&&je(!1)}let r=0,o=0;je(!0);for(let e=0;e<t.length;e++){let i=t[e];for(;i;)o++,setTimeout(n.bind(null,i),r),i=i.getNextBlock(),r+=10}},ai=function(){ru.registry.register({displayText:()=>Ba.COLLAPSE_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){si(!0,e.workspace.getTopBlocks(!0))},scopeType:ru.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},li=function(){ru.registry.register({displayText:()=>Ba.EXPAND_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){si(!1,e.workspace.getTopBlocks(!0))},scopeType:ru.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},ci=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let n=0;n<e.length;n++)ci(e[n],t)}},ui=function(e){const t=[];e=e.getTopBlocks(!0);for(let n=0;n<e.length;n++)ci(e[n],t);return t},hi=function(e,t){je(t);const n=e.shift();n&&(n.isDeadOrDying()?hi(e,t):(n.dispose(!1,!0),setTimeout(hi,10,e,t))),je(!1)},di=function(){ru.registry.register({displayText:e=>e.workspace?1===(e=ui(e.workspace).length)?Ba.DELETE_BLOCK:Ba.DELETE_X_BLOCKS.replace("%1",String(e)):"",preconditionFn:e=>e.workspace&&0<ui(e.workspace).length?"enabled":"disabled",callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=ui(e.workspace),n=xe();2>t.length?hi(t,n):Qe(Ba.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),(function(e){e&&hi(t,n)}))}},scopeType:ru.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},pi=function(){ru.registry.register({displayText:()=>Ba.DUPLICATE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden",callback(e){e.block&&Zr(e.block)},scopeType:ru.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},fi=function(){ru.registry.register({displayText:e=>e.block.getCommentIcon()?Ba.REMOVE_COMMENT:Ba.ADD_COMMENT,preconditionFn:e=>!(e=e.block).isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden",callback(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:ru.ScopeType.BLOCK,id:"blockComment",weight:2})},gi=function(){ru.registry.register({displayText:e=>e.block.getInputsInline()?Ba.EXTERNAL_INPUTS:Ba.INLINE_INPUTS,preconditionFn(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(let t=1;t<e.inputList.length;t++)if(e.inputList[t-1].type!==Ks.STATEMENT&&e.inputList[t].type!==Ks.STATEMENT)return"enabled";return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:ru.ScopeType.BLOCK,id:"blockInline",weight:3})},mi=function(){ru.registry.register({displayText:e=>e.block.isCollapsed()?Ba.EXPAND_BLOCK:Ba.COLLAPSE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden",callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:ru.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},_i=function(){ru.registry.register({displayText:e=>e.block.isEnabled()?Ba.DISABLE_BLOCK:Ba.ENABLE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden",callback(e){e=e.block;const t=Ge();t||je(!0),e.setEnabled(!e.isEnabled()),t||je(!1)},scopeType:ru.ScopeType.BLOCK,id:"blockDisable",weight:5})},vi=function(){ru.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),1===e?Ba.DELETE_BLOCK:Ba.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:e=>!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden",callback(e){e.block&&e.block.checkAndDelete()},scopeType:ru.ScopeType.BLOCK,id:"blockDelete",weight:6})},bi=function(){ru.registry.register({displayText:()=>Ba.HELP,preconditionFn:e=>("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden",callback(e){e.block.showHelp()},scopeType:ru.ScopeType.BLOCK,id:"blockHelp",weight:7})},Ei=function(){ri(),oi(),ii(),ai(),li(),di(),pi(),fi(),gi(),mi(),_i(),vi(),bi()},yi=function(e){t("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),Uo(e)},Ti=Ti||{};Ti.scope={},Ti.ASSUME_ES5=!1,Ti.ASSUME_NO_NATIVE_MAP=!1,Ti.ASSUME_NO_NATIVE_SET=!1,Ti.SIMPLE_FROUND_POLYFILL=!1,Ti.ISOLATE_POLYFILLS=!1,Ti.FORCE_POLYFILL_PROMISE=!1,Ti.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Ti.defineProperty=Ti.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},Ti.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},Ti.global=Ti.getGlobal(this),Ti.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),Ti.TRUST_ES6_POLYFILLS=!Ti.ISOLATE_POLYFILLS||Ti.IS_SYMBOL_NATIVE,Ti.polyfills={},Ti.propertyToPolyfillSymbol={},Ti.POLYFILL_PREFIX="$jscp$",Ti.polyfill=function(e,t,n,r){t&&(Ti.ISOLATE_POLYFILLS?Ti.polyfillIsolated(e,t,n,r):Ti.polyfillUnisolated(e,t,n,r))},Ti.polyfillUnisolated=function(e,t,n,r){for(n=Ti.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];if(!(o in n))return;n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&Ti.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},Ti.polyfillIsolated=function(e,t,n,r){var o=e.split(".");e=1===o.length,r=o[0],r=!e&&r in Ti.polyfills?Ti.polyfills:Ti.global;for(var i=0;i<o.length-1;i++){var s=o[i];if(!(s in r))return;r=r[s]}o=o[o.length-1],null!=(t=t(n=Ti.IS_SYMBOL_NATIVE&&"es6"===n?r[o]:null))&&(e?Ti.defineProperty(Ti.polyfills,o,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===Ti.propertyToPolyfillSymbol[o]&&(n=1e9*Math.random()>>>0,Ti.propertyToPolyfillSymbol[o]=Ti.IS_SYMBOL_NATIVE?Ti.global.Symbol(o):Ti.POLYFILL_PREFIX+n+"$"+o),Ti.defineProperty(r,Ti.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:t})))},Ti.polyfill("globalThis",(function(e){return e||Ti.global}),"es_2020","es3"),Ti.polyfill("Object.getOwnPropertyDescriptors",(function(e){return e||function(e){for(var t={},n=Reflect.ownKeys(e),r=0;r<n.length;r++)t[n[r]]=Object.getOwnPropertyDescriptor(e,n[r]);return t}}),"es8","es5"),Ti.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ti.arrayIterator=function(e){return{next:Ti.arrayIteratorImpl(e)}},Ti.initSymbol=function(){},Ti.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},Ti.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o},Ti.polyfill("Array.prototype.values",(function(e){return e||function(){return Ti.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),Ti.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ti.polyfill("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)Ti.owns(e,t)&&n.push(e[t]);return n}}),"es8","es3"),Ti.polyfill("Array.prototype.flat",(function(e){return e||function(e){e=void 0===e?1:e;for(var t=[],n=0;n<this.length;n++){var r=this[n];Array.isArray(r)&&0<e?(r=Array.prototype.flat.call(r,e-1),t.push.apply(t,r)):t.push(r)}return t}}),"es9","es5"),Ti.polyfill("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)Ti.owns(e,t)&&n.push([t,e[t]]);return n}}),"es8","es3");var wi=globalThis,Si={declareModuleId:function(e){window.goog&&window.goog.declareModuleId&&window.goog.declareModuleId.call(this,e)}};Si.global=wi;var Ci=Ci||{};Ci.global=globalThis||root,Ci.define=function(e,t){return t},Ci.DEBUG=!1,Ci.DISALLOW_TEST_ONLY_CODE=!Ci.DEBUG,Ci.provide=function(e){},Ci.module=function(e){},Ci.module.get=function(e){},Ci.module.declareLegacyNamespace=function(){},Ci.setTestOnly=function(e){if(Ci.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},Ci.require=function(e){},Ci.requireType=function(e){};var Ii={};Ii.warn=t;var ki,Ri,Mi,Oi,xi,Ai,Ni,Li,Di,Pi,$i=750,Bi="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Fi=null,Ui={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},Gi=0,ji={};ji.TOUCH_ENABLED=Bi,ji.TOUCH_MAP=Ui,ji.checkTouchIdentifier=l,ji.clearTouchIdentifier=i,ji.getTouchIdentifierFromEvent=a,ji.isMouseOrTouchEvent=function(e){return t("isMouseOrTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("mouse")||e.type.startsWith("pointer")},ji.isTouchEvent=function(e){return t("isTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("pointer")},ji.longStart=r,ji.longStop=o,ji.setClientFromTouch=function(e){if(t("setClientFromTouch()","version 9","version 10"),e.type.startsWith("touch")&&e.changedTouches){const t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}},ji.shouldHandleEvent=s,ji.splitEventByTouches=function(e){t("splitEventByTouches()","version 9","version 10");const n=[];if(e.changedTouches)for(let t=0;t<e.changedTouches.length;t++)n[t]={type:e.type,changedTouches:[e.changedTouches[t]],target:e.target,stopPropagation(){e.stopPropagation()},preventDefault(){e.preventDefault()}};else n.push(e);return n},function(e){function t(e){return-1!==n.indexOf(e.toUpperCase())}const n=(ki=e).toUpperCase();Ri=t("JavaFX"),Mi=t("WebKit"),Oi=t("Gecko")&&!Mi,xi=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Ai=t("iPad")||t("Macintosh")&&0<e,Ni=t("iPhone")&&!Ai,Li=t("Macintosh"),Di=Ai||xi&&!t("Mobile")||t("Silk"),Pi=!Di&&(Ni||xi)}(globalThis.navigator&&globalThis.navigator.userAgent||"");var Hi=ki,Vi=Ri,Wi=Oi,zi=xi,Zi=Ai,Xi=Ni,Yi=Li,Ki=Pi,Ji={};Ji.ANDROID=zi,Ji.GECKO=Wi,Ji.IPAD=Zi,Ji.IPHONE=Xi,Ji.JavaFx=Vi,Ji.MAC=Yi,Ji.MOBILE=Ki,Ji.raw=Hi;var qi=40,Qi=125,es={};es.bind=u,es.conditionalBind=c,es.getScrollDeltaPixels=g,es.isRightButton=p,es.isTargetInput=d,es.mouseToSvg=f,es.unbind=h;var ts,ns,rs,os,is,ss,as=Object.create(null);ts=Object.create(null),rs=null,is=[],ss={defineBlocksWithJsonArrayInternal:function(e){x(O(e))}},e.module$build$src$core$common={},e.module$build$src$core$common.TEST_ONLY=ss,e.module$build$src$core$common.createBlockDefinitionsFromJsonArray=O,e.module$build$src$core$common.defineBlocks=x,e.module$build$src$core$common.defineBlocksWithJsonArray=M,e.module$build$src$core$common.draggingConnections=is,e.module$build$src$core$common.getAllWorkspaces=_,e.module$build$src$core$common.getBlockTypeCounts=k,e.module$build$src$core$common.getMainWorkspace=E,e.module$build$src$core$common.getParentContainer=S,e.module$build$src$core$common.getSelected=T,e.module$build$src$core$common.getWorkspaceById=m,e.module$build$src$core$common.registerWorkspace=v,e.module$build$src$core$common.setMainWorkspace=y,e.module$build$src$core$common.setParentContainer=C,e.module$build$src$core$common.setSelected=w,e.module$build$src$core$common.svgResize=I,e.module$build$src$core$common.unregisterWorkpace=b;var ls,cs,us="http://www.w3.org/2000/svg",hs="http://www.w3.org/1999/xhtml",ds="http://www.w3.org/1999/xlink";(cs=ls||(ls={}))[cs.ELEMENT_NODE=1]="ELEMENT_NODE",cs[cs.TEXT_NODE=3]="TEXT_NODE",cs[cs.COMMENT_NODE=8]="COMMENT_NODE",cs[cs.DOCUMENT_POSITION_CONTAINED_BY=16]="DOCUMENT_POSITION_CONTAINED_BY";var ps=null,fs=0,gs=null,ms={};ms.HTML_NS=hs,ms.NodeType=ls,ms.SVG_NS=us,ms.XLINK_NS=ds,ms.addClass=N,ms.containsNode=B,ms.createSvgElement=A,ms.getFastTextWidth=j,ms.getFastTextWidthWithSizeString=H,ms.getTextWidth=function(e){const t=e.textContent+"\n"+e.className.baseVal;let n;if(ps&&(n=ps[t]))return n;try{n=e.getComputedTextLength()}catch(t){return 8*e.textContent.length}return ps&&(ps[t]=n),n},ms.hasClass=function(e,t){return e.classList.contains(t)},ms.insertAfter=$,ms.measureFontMetrics=V,ms.removeClass=D,ms.removeClasses=L,ms.removeNode=P,ms.setCssTransform=F,ms.startTextWidthCache=U,ms.stopTextWidthCache=G;var _s={};_s.clamp=Z,_s.toDegrees=z,_s.toRadians=W;var vs=class{constructor(e,t,n,r){this.top=e,this.bottom=t,this.left=n,this.right=r}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},bs=class{constructor(e,t){this.x=e,this.y=t}clone(){return new bs(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t||!(!e||!t)&&e.x===t.x&&e.y===t.y}static distance(e,t){const n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new bs(e.x-t.x,e.y-t.y)}static sum(e,t){return new bs(e.x+t.x,e.y+t.y)}},Es=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height}},ys={getSizeInternal:function(e){if("none"!==K(e,"display"))return Y(e);const t=e.style,n=t.display,r=t.visibility,o=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const i=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=o,t.visibility=r,new Es(i,e)}},Ts={};Ts.TEST_ONLY=ys,Ts.getBorderBox=Q,Ts.getCascadedStyle=function(e,n){return t("Blockly.utils.style.getCascadedStyle","version 9","version 10"),e.currentStyle?e.currentStyle[n]:""},Ts.getComputedStyle=K,Ts.getContainerOffsetToScrollInto=te,Ts.getPageOffset=J,Ts.getSize=X,Ts.getViewportPageOffset=q,Ts.scrollIntoContainerView=ee;var ws,Ss,Cs,Is=16,ks=1,Rs=12,Ms=16,Os=.25,xs=null,As=null,Ns="",Ls="",Ds=null,Ps=null,$s=null,Bs={getBoundsInfo:function(){const e=J(Ds),t=X(Ds);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,n,r){const o=Bs.getBoundsInfo(),i=X(ws);return t+i.height<o.bottom?pe(e,t,o,i):r-i.height>o.top?fe(n,r,o,i):t+i.height<document.documentElement.clientHeight?pe(e,t,o,i):r-i.height>document.documentElement.clientTop?fe(n,r,o,i):function(e,t,n){return{initialX:(e=ge(e,t.left,t.right,n.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}}(e,o,i)}},Fs={};Fs.ANIMATION_TIME=Os,Fs.ARROW_HORIZONTAL_PADDING=Rs,Fs.ARROW_SIZE=Is,Fs.BORDER_SIZE=ks,Fs.PADDING_Y=Ms,Fs.TEST_ONLY=Bs,Fs.clearContent=se,Fs.createDom=ne,Fs.getContentDiv=ie,Fs.getOwner=oe,Fs.getPositionX=ge,Fs.hide=ve,Fs.hideIfOwner=_e,Fs.hideWithoutAnimation=be,Fs.isVisible=me,Fs.repositionForWindowResize=function(){if(Ps){var e=Ps.getSourceBlock();const t=(e=$s?ue(Ps):ce(e)).left+(e.right-e.left)/2;Ee(t,e.bottom,t,e.top)}else ve()},Fs.setBoundsElement=re,Fs.setColour=ae,Fs.show=de,Fs.showPositionedByBlock=function(e,t,n,r){return he(ce(t),e,n,r)},Fs.showPositionedByField=le;var Us=Object.create(null),Gs={typeMap:Us},js=Object.create(null),Hs="default",Vs=class{constructor(e){this.name=e}toString(){return this.name}};Vs.CONNECTION_CHECKER=new Vs("connectionChecker"),Vs.CURSOR=new Vs("cursor"),Vs.EVENT=new Vs("event"),Vs.FIELD=new Vs("field"),Vs.RENDERER=new Vs("renderer"),Vs.TOOLBOX=new Vs("toolbox"),Vs.THEME=new Vs("theme"),Vs.TOOLBOX_ITEM=new Vs("toolboxItem"),Vs.FLYOUTS_VERTICAL_TOOLBOX=new Vs("flyoutsVerticalToolbox"),Vs.FLYOUTS_HORIZONTAL_TOOLBOX=new Vs("flyoutsHorizontalToolbox"),Vs.METRICS_MANAGER=new Vs("metricsManager"),Vs.BLOCK_DRAGGER=new Vs("blockDragger"),Vs.SERIALIZER=new Vs("serializer");var Ws={};Ws.DEFAULT=Hs,Ws.TEST_ONLY=Gs,Ws.Type=Vs,Ws.getAllItems=Re,Ws.getClass=Ie,Ws.getClassFromOptions=Me,Ws.getObject=ke,Ws.hasItem=Ce,Ws.register=ye,Ws.unregister=we;var zs="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Zs={genUid:()=>{const e=zs.length,t=[];for(let n=0;20>n;n++)t[n]=zs.charAt(Math.random()*e);return t.join("")}},Xs=0,Ys={};Ys.TEST_ONLY=Zs,Ys.genUid=xe,Ys.getNextUniqueId=Oe;var Ks,Js,qs,Qs,ea,ta="",na=!0,ra=0,oa="create",ia="delete",sa="change",aa="move",la="var_create",ca="var_delete",ua="var_rename",ha="ui",da="drag",pa="selected",fa="click",ga="marker_move",ma="bubble_open",_a="trashcan_open",va="toolbox_item_select",ba="theme_change",Ea="viewport_change",ya="comment_create",Ta="comment_delete",wa="comment_change",Sa="comment_move",Ca="finished_loading",Ia="procedure_create",ka="procedure_delete",Ra="procedure_rename",Ma="procedure_enable",Oa="procedure_change_return",xa="procedure_parameter_create",Aa="procedure_parameter_delete",Na="procedure_parameter_rename",La=[oa,aa,ya,Sa],Da=[],Pa={FIRE_QUEUE:Da,fireNow:De,fireInternal:function(e){Ue()&&(Da.length||setTimeout(De,0),Da.push(e))},setGroupInternal:function(e){ta="boolean"==typeof e?e?xe():"":e}},$a={};$a.BLOCK_CHANGE=sa,$a.BLOCK_CREATE=oa,$a.BLOCK_DELETE=ia,$a.BLOCK_DRAG=da,$a.BLOCK_MOVE=aa,$a.BUBBLE_OPEN=ma,$a.BUMP_EVENTS=La,$a.CHANGE=sa,$a.CLICK=fa,$a.COMMENT_CHANGE=wa,$a.COMMENT_CREATE=ya,$a.COMMENT_DELETE=Ta,$a.COMMENT_MOVE=Sa,$a.CREATE=oa,$a.DELETE=ia,$a.FINISHED_LOADING=Ca,$a.MARKER_MOVE=ga,$a.MOVE=aa,$a.PROCEDURE_CHANGE_RETURN=Oa,$a.PROCEDURE_CREATE=Ia,$a.PROCEDURE_DELETE=ka,$a.PROCEDURE_ENABLE=Ma,$a.PROCEDURE_PARAMETER_CREATE=xa,$a.PROCEDURE_PARAMETER_DELETE=Aa,$a.PROCEDURE_PARAMETER_RENAME=Na,$a.PROCEDURE_RENAME=Ra,$a.SELECTED=pa,$a.TEST_ONLY=Pa,$a.THEME_CHANGE=ba,$a.TOOLBOX_ITEM_SELECT=va,$a.TRASHCAN_OPEN=_a,$a.UI=ha,$a.VAR_CREATE=la,$a.VAR_DELETE=ca,$a.VAR_RENAME=ua,$a.VIEWPORT_CHANGE=Ea,$a.clearPendingUndo=$e,$a.disable=Be,$a.disableOrphans=Ze,$a.enable=Fe,$a.filter=Pe,$a.fire=Le,$a.fromJson=Ve,$a.get=ze,$a.getDescendantIds=He,$a.getGroup=Ge,$a.getRecordUndo=Ne,$a.isEnabled=Ue,$a.setGroup=je,$a.setRecordUndo=Ae,function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY"}(Ks||(Ks={})),e.module$build$src$core$input_types={},e.module$build$src$core$input_types.inputTypes=Ks,({document:Js,DOMParser:qs,XMLSerializer:Qs}=globalThis),ea="https://developers.google.com/blockly/xml",e.module$build$src$core$utils$xml={},e.module$build$src$core$utils$xml.NAME_SPACE=ea,e.module$build$src$core$utils$xml.createElement=Xe,e.module$build$src$core$utils$xml.createTextNode=Ye,e.module$build$src$core$utils$xml.domToText=Je,e.module$build$src$core$utils$xml.getDocument=function(){return t("Blockly.utils.xml.getDocument","version 9","version 10"),Js},e.module$build$src$core$utils$xml.injectDependencies=function(e){({document:Js=Js,DOMParser:qs=qs,XMLSerializer:Qs=Qs}=e)},e.module$build$src$core$utils$xml.setDocument=function(e){t("Blockly.utils.xml.setDocument","version 9","version 10"),Js=e},e.module$build$src$core$utils$xml.textToDomDocument=Ke;var Ba,Fa,Ua=function(e,t){window.alert(e),t&&t()},Ga=function(e,t){t(window.confirm(e))},ja=function(e,t,n){n(window.prompt(e,t))},Ha={confirmInternal:function(e,t){Ga(e,t)}},Va={};Va.TEST_ONLY=Ha,Va.alert=qe,Va.confirm=Qe,Va.prompt=et,Va.setAlert=function(e){Ua=e},Va.setConfirm=function(e){Ga=e},Va.setPrompt=function(e){ja=e},Ba=Object.create(null),Fa=function(e){Object.keys(e).forEach((function(t){Ba[t]=e[t]}))},e.module$build$src$core$msg={},e.module$build$src$core$msg.Msg=Ba,e.module$build$src$core$msg.setLocale=Fa;var Wa=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=Ge(),this.recordUndo=Ne()}toJson(){return{type:this.type,group:this.group}}fromJson(e){this.isBlank=!1,this.group=e.group||""}static fromJson(e,n,r){return t("Blockly.Events.Abstract.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),r.isBlank=!1,r.group=e.group||"",r.workspaceId=n.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=m(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},za=class extends Wa{constructor(e){super(),this.isBlank=void 0===e,e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}fromJson(e){t("Blockly.Events.VarBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varId=e.varId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new za)).varId=e.varId,t}},Za=class extends za{constructor(e){super(e),this.type=la,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(!this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){t("Blockly.Events.VarCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Za)).varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};ye(Vs.EVENT,la,Za);var Xa,Ya,Ka,Ja=class{constructor(e,t,n,r){this.workspace=e,this.name=t,this.type=n||"",this.id_=r||xe()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}};Xa="VARIABLE",Ya="ijkmnopqrstuvwxyzabcdefgh",Ka={generateUniqueNameInternal:function(e){return it(Ya.charAt(0),e.getAllVariableNames())}},e.module$build$src$core$variables={},e.module$build$src$core$variables.CATEGORY_NAME=Xa,e.module$build$src$core$variables.TEST_ONLY=Ka,e.module$build$src$core$variables.VAR_LETTER_OPTIONS=Ya,e.module$build$src$core$variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let r,o=0;r=e[o];o++){var n=r.getDeveloperVariables;if(n){n=n();for(let e=0;e<n.length;e++)t.add(n[e])}}return Array.from(t.values())},e.module$build$src$core$variables.allUsedVarModels=tt,e.module$build$src$core$variables.createVariableButtonHandler=st,e.module$build$src$core$variables.flyoutCategory=nt,e.module$build$src$core$variables.flyoutCategoryBlocks=rt,e.module$build$src$core$variables.generateUniqueName=ot,e.module$build$src$core$variables.generateUniqueNameFromOptions=it,e.module$build$src$core$variables.generateVariableFieldDom=ht,e.module$build$src$core$variables.getAddedVariables=gt,e.module$build$src$core$variables.getOrCreateVariablePackage=dt,e.module$build$src$core$variables.getVariable=pt,e.module$build$src$core$variables.nameUsedWithAnyType=ut,e.module$build$src$core$variables.promptName=lt,e.module$build$src$core$variables.renameVariable=at;var qa=class{constructor(e,t,n,r,o){this.workspace=e,this.editable_=this.movable_=this.deletable_=!0,this.disposed_=!1,this.isComment=!0,this.id=o&&!e.getCommentById(o)?o:xe(),e.addTopComment(this),this.xy_=new bs(0,0),this.height_=n,this.width_=r,this.RTL=e.RTL,this.content_=t,qa.fireCreateEvent(this)}dispose(){this.disposed_||(Ue()&&Le(new(ze(Ta))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getXY(){return new bs(this.xy_.x,this.xy_.y)}moveBy(e,t){const n=new(ze(Sa))(this);this.xy_.translate(e,t),n.recordNew(),Le(n)}isDeletable(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable_=e}isEditable(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable_=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(Le(new(ze(wa))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return(e=this.toXml(e)).setAttribute("x",`${Math.round(this.xy_.x)}`),e.setAttribute("y",`${Math.round(this.xy_.y)}`),e.setAttribute("h",`${this.height_}`),e.setAttribute("w",`${this.width_}`),e}toXml(e){const t=Xe("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(Ue()){const t=Ge();t||je(!0);try{Le(new(ze(ya))(e))}finally{t||je(!1)}}}static fromXml(e,t){var n=qa.parseAttributes(e);return t=new qa(t,n.content,n.h,n.w,n.id),n=e.getAttribute("x"),e=e.getAttribute("y"),n=n?parseInt(n,10):NaN,e=e?parseInt(e,10):NaN,isNaN(n)||isNaN(e)||t.moveBy(n,e),qa.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),n=e.getAttribute("w"),r=e.getAttribute("x"),o=e.getAttribute("y"),i=e.getAttribute("id");if(!i)throw Error("No ID present in XML comment definition.");let s;return{id:i,h:t?parseInt(t):100,w:n?parseInt(n):100,x:r?parseInt(r):NaN,y:o?parseInt(o):NaN,content:null!=(s=e.textContent)?s:""}}},Qa=class extends Wa{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=void 0===e,this.workspaceId=e||""}},el=class extends Qa{constructor(e,t,n){super(n),this.type=pa,this.oldElementId=null!=e?e:void 0,this.newElementId=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}fromJson(e){t("Blockly.Events.Selected.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new el)).oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};ye(Vs.EVENT,pa,el);var tl=!1,nl='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyWsDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Added as a separate rule with multiple classes to make it more specific\n   than a bootstrap rule that selects svg:root. See issue #1275 for context.\n*/\n.blocklyWsDragSurface.blocklyOverflowVisible {\n  overflow: visible;\n}\n\n.blocklyBlockDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 50;  /* Display below toolbox, but above everything else. */\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grab */\n  cursor: url("<<<PATH>>>/handopen.cur"), auto;\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n.blocklyDragging {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Change the cursor on the whole drag surface in case the mouse gets\n   ahead of block during a drag. This way the cursor is still a closed hand.\n  */\n.blocklyBlockDragSurface .blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text,\n.blocklyBlockDragSurface text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Edge and IE introduce a close icon when the input value is longer than a\n   certain length. This affects our sizing calculations of the text input.\n   Hiding the close icon to avoid that. */\n.blocklyHtmlInput::-ms-clear {\n  display: none;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n',rl={};rl.inject=_t,rl.register=mt;var ol=class{constructor(e){this.tagName=e}toString(){return this.tagName}};ol.ANIMATE=new ol("animate"),ol.CIRCLE=new ol("circle"),ol.CLIPPATH=new ol("clipPath"),ol.DEFS=new ol("defs"),ol.FECOMPOSITE=new ol("feComposite"),ol.FECOMPONENTTRANSFER=new ol("feComponentTransfer"),ol.FEFLOOD=new ol("feFlood"),ol.FEFUNCA=new ol("feFuncA"),ol.FEGAUSSIANBLUR=new ol("feGaussianBlur"),ol.FEPOINTLIGHT=new ol("fePointLight"),ol.FESPECULARLIGHTING=new ol("feSpecularLighting"),ol.FILTER=new ol("filter"),ol.FOREIGNOBJECT=new ol("foreignObject"),ol.G=new ol("g"),ol.IMAGE=new ol("image"),ol.LINE=new ol("line"),ol.PATH=new ol("path"),ol.PATTERN=new ol("pattern"),ol.POLYGON=new ol("polygon"),ol.RECT=new ol("rect"),ol.SVG=new ol("svg"),ol.TEXT=new ol("text"),ol.TSPAN=new ol("tspan");var il=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,sl=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,al={XY_REGEX:il,XY_STYLE_REGEX:sl},ll={};ll.TEST_ONLY=al,ll.getDocumentScroll=Tt,ll.getInjectionDivXY=bt,ll.getRelativeXY=vt,ll.getViewportBBox=yt,ll.is3dSupported=Et,ll.screenToWsCoordinates=wt;var cl=class extends qa{constructor(e,t,n,r,o){super(e,t,n,r,o),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.eventsInit_=!1,this.deleteIconBorder_=this.deleteGroup_=this.resizeGroup_=this.foreignObject_=this.svgHandleTarget_=this.svgRectTarget_=this.textarea_=null,this.rendered_=this.autoLayout_=this.focused_=!1,this.svgGroup_=A(ol.G,{class:"blocklyComment"}),this.svgGroup_.translate_="",this.workspace=e,this.svgRect_=A(ol.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRect_),this.useDragSurface_=!!e.getBlockDragSurface(),this.render()}dispose(){this.disposed_||(T()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Ue()&&Le(new(ze(Ta))(this)),P(this.svgGroup_),this.disposeInternal_(),Be(),super.dispose(),Fe())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||(c(this.svgRectTarget_,"pointerdown",this,this.pathMouseDown_),c(this.svgHandleTarget_,"pointerdown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea_&&this.textarea_.select()}pathMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(T()!==this){var e=null;if(T()){e=T().id,Be();try{T().unselect()}finally{Fe()}}e=new(ze(pa))(e,this.id,this.workspace.id),Le(e),w(this),this.addSelect()}}unselect(){if(T()===this){var e=new(ze(pa))(this.id,null,this.workspace.id);Le(e),w(null),this.removeSelect(),this.blurFocus()}}addSelect(){N(this.svgGroup_,"blocklySelected"),this.setFocus()}removeSelect(){N(this.svgGroup_,"blocklySelected"),this.blurFocus()}addFocus(){N(this.svgGroup_,"blocklyFocused")}removeFocus(){D(this.svgGroup_,"blocklyFocused")}getRelativeToSurfaceXY(){let e=0,t=0;const n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let r=this.getSvgRoot();if(r)do{var o=vt(r);e+=o.x,t+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===r&&(e+=(o=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,t+=o.y),r=r.parentNode}while(r&&r!==this.workspace.getBubbleCanvas()&&r!==n);return this.xy_=new bs(e,t)}moveBy(e,t){const n=new(ze(Sa))(this),r=this.getRelativeToSurfaceXY();this.translate(r.x+e,r.y+t),this.xy_=new bs(r.x+e,r.y+t),n.recordNew(),Le(n),this.workspace.resizeContents()}translate(e,t){this.xy_=new bs(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))}moveTo(e,t){this.translate(e,t)}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),n=e.y,r=e.y+t.height;let o;return this.RTL?(o=e.x-t.width,e=e.x):(o=e.x,e=e.x+t.width),new vs(n,r,o,e)}updateMovable(){this.isMovable()?N(this.svgGroup_,"blocklyDraggable"):D(this.svgGroup_,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea_&&(this.textarea_.readOnly=!e)}setDragging(e){e?((e=this.getSvgRoot()).translate_="",e.skew_="",N(this.svgGroup_,"blocklyDragging")):D(this.svgGroup_,"blocklyDragging")}getSvgRoot(){return this.svgGroup_}getContent(){return this.textarea_?this.textarea_.value:this.content_}setContent(e){super.setContent(e),this.textarea_&&(this.textarea_.value=e)}setDeleteStyle(e){e?N(this.svgGroup_,"blocklyDraggingDelete"):D(this.svgGroup_,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const n=this.getRelativeToSurfaceXY();return e.setAttribute("x",Math.round(this.workspace.RTL?t-n.x:n.x)),e.setAttribute("y",Math.round(n.y)),e.setAttribute("h",this.getHeight()),e.setAttribute("w",this.getWidth()),e}toCopyData(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered_){var e=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=A(ol.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=A(ol.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(e.width,e.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&c(this.resizeGroup_,"pointerdown",this,this.resizeMouseDown_),this.isDeletable()&&(c(this.deleteGroup_,"pointerdown",this,this.deleteMouseDown_),c(this.deleteGroup_,"pointerout",this,this.deleteMouseOut_),c(this.deleteGroup_,"pointerup",this,this.deleteMouseUp_))}}createEditor_(){this.foreignObject_=A(ol.FOREIGNOBJECT,{x:0,y:cl.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(hs,"body");e.setAttribute("xmlns",hs),e.className="blocklyMinimalBody";const t=document.createElementNS(hs,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea_=t,this.foreignObject_.appendChild(e),c(t,"wheel",this,(function(e){e.stopPropagation()})),c(t,"change",this,(function(e){this.setContent(t.value)})),this.foreignObject_}addResizeDom_(){this.resizeGroup_=A(ol.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),A(ol.POLYGON,{points:"0,x x,x x,0".replace(/x/g,8..toString())},this.resizeGroup_),A(ol.LINE,{class:"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/3},this.resizeGroup_),A(ol.LINE,{class:"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.resizeGroup_)}addDeleteDom_(){this.deleteGroup_=A(ol.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=A(ol.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),A(ol.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),A(ol.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)}resizeMouseDown_(e){this.unbindDragEvents_(),p(e)||(this.workspace.startDrag(e,new bs(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=c(document,"pointerup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=c(document,"pointermove",this,this.resizeMouseMove_),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown_(e){this.deleteIconBorder_&&N(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut_(e){this.deleteIconBorder_&&D(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")}deleteMouseUp_(e){this.dispose(),e.stopPropagation()}unbindDragEvents_(){this.onMouseUpWrapper_&&(h(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(h(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}resizeMouseUp_(e){i(),this.unbindDragEvents_()}resizeMouseMove_(e){this.autoLayout_=!1,e=this.workspace.moveDrag(e),this.setSize_(this.RTL?-e.x:e.x,e.y)}resizeComment_(){const e=this.getHeightWidth(),t=cl.TOP_OFFSET;this.foreignObject_.setAttribute("width",e.width),this.foreignObject_.setAttribute("height",(e.height-t).toString()),this.RTL&&this.foreignObject_.setAttribute("x",(-e.width).toString()),this.textarea_.style.width=e.width-4+"px",this.textarea_.style.height=e.height-4-t+"px"}setSize_(e,t){e=Math.max(e,45),t=Math.max(t,20+cl.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",e),this.svgRect_.setAttribute("height",t),this.svgRectTarget_.setAttribute("width",e),this.svgRectTarget_.setAttribute("height",t),this.svgHandleTarget_.setAttribute("width",e),this.svgHandleTarget_.setAttribute("height",cl.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)")),this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(8-e)+","+(t-8)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(8-e)+",-8) scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(e-8)+","+(t-8)+")"),this.deleteGroup_.setAttribute("transform","translate("+(e-8)+",-8)"))),this.resizeComment_()}disposeInternal_(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0}setFocus(){this.focused_=!0,setTimeout((()=>{this.disposed_||(this.textarea_.focus(),this.addFocus(),this.svgRectTarget_&&N(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&N(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)}blurFocus(){this.focused_=!1,setTimeout((()=>{this.disposed_||(this.textarea_.blur(),this.removeFocus(),this.svgRectTarget_&&D(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&D(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)}static fromXmlRendered(e,t,n){let r;Be();try{const o=qa.parseAttributes(e);if(r=new cl(t,o.content,o.h,o.w,o.id),t.rendered&&(r.initSvg(!0),r.render()),!isNaN(o.x)&&!isNaN(o.y))if(t.RTL){const e=n||t.getWidth();r.moveBy(e-o.x,o.y)}else r.moveBy(o.x,o.y)}finally{Fe()}return qa.fireCreateEvent(r),r}};cl.DEFAULT_SIZE=100,cl.TOP_OFFSET=10,mt("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n"),e.module$build$src$core$xml={},e.module$build$src$core$xml.appendDomToWorkspace=function(e,t){if(!t.getBlocksBoundingBox)return xt(e,t);var n=t.getBlocksBoundingBox();if(e=xt(e,t),n&&n.top!==n.bottom){var r=n.bottom;n=t.RTL?n.right:n.left;var o=1/0;let i=-1/0,s=1/0;for(let n=0;n<e.length;n++){const r=t.getBlockById(e[n]).getRelativeToSurfaceXY();r.y<s&&(s=r.y),r.x<o&&(o=r.x),r.x>i&&(i=r.x)}for(r=r-s+10,n=t.RTL?n-i:n-o,o=0;o<e.length;o++)t.getBlockById(e[o]).moveBy(n,r)}return e},e.module$build$src$core$xml.blockToDom=kt,e.module$build$src$core$xml.blockToDomWithXY=Ct,e.module$build$src$core$xml.clearWorkspaceAndLoadFromXml=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=xt(e,t),t.setResizesEnabled(!0),e},e.module$build$src$core$xml.deleteNext=function(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}},e.module$build$src$core$xml.domToBlock=At,e.module$build$src$core$xml.domToPrettyText=function(e){e=Mt(e).split("<");let t="";for(let n=1;n<e.length;n++){const r=e[n];"/"===r[0]&&(t=t.substring(2)),e[n]=t+"<"+r,"/"!==r[0]&&"/>"!==r.slice(-2)&&(t+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},e.module$build$src$core$xml.domToText=Mt,e.module$build$src$core$xml.domToVariables=Nt,e.module$build$src$core$xml.domToWorkspace=xt,e.module$build$src$core$xml.textToDom=Ot,e.module$build$src$core$xml.variablesToDom=St,e.module$build$src$core$xml.workspaceToDom=function(e,t){const n=Xe("xml");var r=St(tt(e));r.hasChildNodes()&&n.appendChild(r),r=e.getTopComments(!0);for(let e=0;e<r.length;e++)n.appendChild(r[e].toXmlWithXY(t));for(e=e.getTopBlocks(!0),r=0;r<e.length;r++)n.appendChild(Ct(e[r],t));return n};var ul=class extends Wa{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}fromJson(e){t("Blockly.Events.BlockBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.blockId=e.blockId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ul)).blockId=e.blockId,t}},hl=class extends ul{constructor(e,t,n,r,o){super(e),this.type=sa,e&&(this.element=t,this.name=n||void 0,this.oldValue=r,this.newValue=o)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJson(e){t("Blockly.Events.BlockChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new hl)).element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":const n=hl.getExtraBlockState_(t);t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(Ot(e||"<mutation/>")),Le(new hl(t,"mutation",null,n,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState())?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Mt(e):""}};ye(Vs.EVENT,sa,hl);var dl=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),this.markers.delete(e)}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t,n=0;t=e[n];n++)this.unregisterMarker(t);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};dl.LOCAL_MARKER="local_marker_1",e.module$build$src$core$utils$string={},e.module$build$src$core$utils$string.commonWordPrefix=Bt,e.module$build$src$core$utils$string.commonWordSuffix=Ft,e.module$build$src$core$utils$string.isNumber=Wt,e.module$build$src$core$utils$string.shortestStringLength=$t,e.module$build$src$core$utils$string.startsWith=function(e,n){return t("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(n)},e.module$build$src$core$utils$string.wrap=Ut;var pl=void 0,fl=!1,gl=!1,ml=50,_l=0,vl=0,bl=0,El=0,yl=null,Tl=null,wl=0,Sl=10,Cl=10,Il=750,kl=5,Rl=null,Ml={};Ml.HOVER_MS=Il,Ml.LIMIT=ml,Ml.MARGINS=kl,Ml.OFFSET_X=wl,Ml.OFFSET_Y=Sl,Ml.RADIUS_OK=Cl,Ml.bindMouseEvents=Yt,Ml.block=nn,Ml.createDom=Xt,Ml.dispose=en,Ml.getCustomTooltip=function(){return pl},Ml.getDiv=function(){return Rl},Ml.getTooltipOfObject=zt,Ml.hide=tn,Ml.isVisible=function(){return fl},Ml.setCustomTooltip=function(e){pl=e},Ml.unbindMouseEvents=Kt,Ml.unblock=rn;var Ol=.45,xl=.65,Al={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Nl={};Nl.blend=pn,Nl.getHsvSaturation=an,Nl.getHsvValue=ln,Nl.hexToRgb=hn,Nl.hsvToHex=dn,Nl.hueToHex=fn,Nl.names=Al,Nl.parse=cn,Nl.rgbToHex=un,Nl.setHsvSaturation=function(e){Ol=e},Nl.setHsvValue=function(e){xl=e};var Ll={};Ll.checkMessageReferences=vn,Ll.parseBlockColour=bn,Ll.replaceMessageReferences=_n,Ll.tokenizeInterpolation=mn;var Dl,Pl=class{},$l=null,Bl=null,Fl="",Ul="",Gl={};Gl.createDom=yn,Gl.getDiv=En,Gl.hide=wn,Gl.hideIfOwner=Cn,Gl.isVisible=Sn,Gl.positionWithAnchor=kn,Gl.show=Tn,Gl.testOnly_setDiv=function(e){Dl=e};var jl=class{constructor(e,t,n){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Es(0,0),e!==jl.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(_n(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=A(ol.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}createBorderRect_(){this.borderRect_=A(ol.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=A(ol.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Yt(e),this.mouseDownWrapper_=c(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return null!==(e=this.saveLegacyState(jl))?e:this.getValue()}loadState(e){this.loadLegacyState(jl,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?((e=Xe("field")).setAttribute("name",this.name||""),Mt(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml&&(this.fromXml(Ot(t)),!0)}dispose(){_e(this),Cn(this),Kt(this.getClickTarget_()),this.mouseDownWrapper_&&h(this.mouseDownWrapper_),P(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(N(e,"blocklyEditableText"),D(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(N(e,"blocklyNonEditableText"),D(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==jl.prototype.showEditor_}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}updateSize_(e){const t=this.getConstants();let n=2*(e=void 0!==e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),r=t.FIELD_TEXT_HEIGHT,o=0;this.textElement_&&(o=j(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),n+=o),this.borderRect_&&(r=Math.max(r,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=r,this.size_.width=n,this.positionTextElement_(e,o),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var n,r=this.getConstants(),o=this.size_.height/2;this.textElement_.setAttribute("x",`${null!=(n=this.getSourceBlock())&&n.RTL?this.size_.width-t-e:e}`),this.textElement_.setAttribute("y",`${r.FIELD_TEXT_BASELINE_CENTER?o:o-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE}`)}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",`${this.size_.width}`),this.borderRect_.setAttribute("height",`${this.size_.height}`),this.borderRect_.setAttribute("rx",`${this.getConstants().FIELD_BORDER_RECT_RADIUS}`),this.borderRect_.setAttribute("ry",`${this.getConstants().FIELD_BORDER_RECT_RADIUS}`))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Es(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new Hl;if(this.borderRect_){var n=this.borderRect_.getBoundingClientRect();e=J(this.borderRect_),t=n.width,n=n.height}else{n=this.sourceBlock_.getHeightWidth();const r=t.workspace.scale;e=this.getAbsoluteXY_(),t=(n.width+1)*r,n=(n.height+1)*r,Wi?(e.x+=1.5*r,e.y+=1.5*r):(e.x-=.5*r,e.y-=.5*r)}return new vs(e.y,e.y+n,e.x,e.x+t)}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,jl.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):jl.NBSP}getText(){const e=this.getText_();return String(null!==e?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())}setValue(e){if(null!==e){var t=this.doClassValidation_(e);if(!((e=this.processValidation_(e,t))instanceof Error)){if((t=this.getValidator())&&(t=t.call(this,e),(e=this.processValidation_(e,t))instanceof Error))return;if(!(t=this.sourceBlock_)||!t.disposed){var n=this.getValue();n===e?this.doValueUpdate_(e):(this.doValueUpdate_(e),t&&Ue()&&Le(new(ze(sa))(t,"field",this.name||null,n,e)),this.isDirty_&&this.forceRerender())}}}}processValidation_(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)}getValue(){return this.value_}doClassValidation_(e){return null==e?null:e}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||""===e||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return zt(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return J(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new Hl;const n=t.inputList;for(let r=0;r<t.inputList.length;r++){const t=n[r],o=t.fieldRow;for(let n=0;n<o.length;n++)if(o[n]===this){e=t;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new Hl;(e=e.workspace).keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(dl.LOCAL_MARKER).draw()}};jl.NBSP=" ",jl.SKIP_SETUP=new Pl;var Hl=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Vl={};Vl.Field=jl,Vl.UnattachedFieldError=Hl;var Wl={fromJsonInternal:function(e){const t=ke(Vs.FIELD,e.type);if(t){if("function"!=typeof t.fromJson)throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null}},zl={};zl.TEST_ONLY=Wl,zl.fromJson=xn,zl.register=On,zl.unregister=function(e){we(Vs.FIELD,e)};var Zl,Xl,Yl="aria-",Kl="role";!function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"}(Zl||(Zl={})),function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"}(Xl||(Xl={}));var Jl,ql={};ql.Role=Zl,ql.State=Xl,ql.setRole=An,ql.setState=Nn,function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"}(Jl||(Jl={}));var Ql=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&An(t,this.roleName),this.element=t;for(let e,n=0;e=this.menuItems[n];n++)t.appendChild(e.createDom());return this.mouseOverHandler=c(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=c(t,"pointerdown",this,this.handleClick,!0),this.mouseEnterHandler=c(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=c(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=c(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),N(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),D(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(h(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(h(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(h(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(h(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(h(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e,t=0;e=this.menuItems[t];t++)e.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem"))for(let t,n=0;t=this.menuItems[n];n++)if(t.getElement()===e)return t;e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),ee(e.getElement(),t),Nn(t,Xl.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){let n;for(e+=t;n=this.menuItems[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&"number"==typeof e.clientX){const n=new bs(e.clientX,e.clientY);if(1>bs.distance(t,n))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.keyCode){case Jl.ENTER:case Jl.SPACE:t&&t.performAction();break;case Jl.UP:this.highlightPrevious();break;case Jl.DOWN:this.highlightNext();break;case Jl.PAGE_UP:case Jl.HOME:this.highlightFirst();break;case Jl.PAGE_DOWN:case Jl.END:this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=X(e);return t.height=e.scrollHeight,t}},ec=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=Oe(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content,"string"==typeof this.content&&(n=document.createTextNode(this.content)),t.appendChild(n),e.appendChild(t),this.roleName&&An(e,this.roleName),Nn(e,Xl.SELECTED,this.checkable&&this.checked||!1),Nn(e,Xl.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return null!=(e=this.opt_value)?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(N(t,"blocklyMenuItemHighlight"),N(t,"goog-menuitem-highlight")):(D(t,"blocklyMenuItemHighlight"),D(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},tc=class extends jl{constructor(e,t,n){super(jl.SKIP_SETUP),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions_=null,function(e){return e!==jl.SKIP_SETUP}(e)&&(Array.isArray(e)?(Dn(e),e=function(e){let t=!1;const n=e.map((([e,n])=>"string"==typeof e?[_n(e),n]:(t=!0,[null!==e.alt?Object.assign({},e,{alt:_n(e.alt)}):Object.assign({},e),n])));if(t||2>e.length)return{options:n};var r=n.map((([e])=>e)),o=$t(r);e=Bt(r,o);const i=Ft(r,o);return!e&&!i||o<=e+i?{options:n}:(o=e?r[0].substring(0,e-1):void 0,r=i?r[0].substr(1-i):void 0,{options:Ln(n,e,i),prefix:o,suffix:r})}(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption_=this.getOptions(!1)[0],n&&this.configure_(n),this.setValue(this.selectedOption_[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(tc,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=A(ol.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&N(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null!=(e=this.getSourceBlock())&&e.isShadow())}createTextArrow_(){let e,t;this.arrow_=A(ol.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(null!=(e=this.getSourceBlock())&&e.RTL?tc.ARROW_CHAR+" ":" "+tc.ARROW_CHAR)),null!=(t=this.getSourceBlock())&&t.RTL?this.getTextElement().insertBefore(this.arrow_,this.textContent_):this.getTextElement().appendChild(this.arrow_)}createSVGArrow_(){this.svgArrow_=A(ol.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(ds,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new Hl;this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new bs(e.clientX,e.clientY):null,se(),e=this.menu_.render(ie()),N(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(e=t.isShadow()?t.getParent().getColour():t.getColour(),t=t.isShadow()?t.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,ae(e,t)),le(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()}dropdownCreate_(){const e=this.getSourceBlock();if(!e)throw new Hl;const t=new Ql;t.setRole(Zl.LISTBOX),this.menu_=t;const n=this.getOptions(!1);this.selectedMenuItem_=null;for(let o=0;o<n.length;o++){const[i,s]=n[o];if("object"==typeof i){var r=new Image(i.width,i.height);r.src=i.src,r.alt=i.alt||""}else r=i;(r=new ec(r,s)).setRole(Zl.OPTION),r.setRightToLeft(e.RTL),r.setCheckable(!0),t.addChild(r),r.setChecked(s===this.value_),s===this.value_&&(this.selectedMenuItem_=r),r.onAction(this.handleMenuActionEvent_,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()}handleMenuActionEvent_(e){_e(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return"function"==typeof this.menuGenerator_}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:(e&&this.generatedOptions_||(this.generatedOptions_=this.menuGenerator_(),Dn(this.generatedOptions_)),this.generatedOptions_)}doClassValidation_(e){return this.getOptions(!0).some((t=>t[1]===e))?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t,n=0;t=e[n];n++)t[1]===this.value_&&(this.selectedOption_=t)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=e.colourSecondary:this.arrow_.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement_.style.display="none";const e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()}renderSelectedImage_(e){const t=this.getSourceBlock();if(!t)throw new Hl;this.imageElement_.style.display="",this.imageElement_.setAttributeNS(ds,"xlink:href",e.src),this.imageElement_.setAttribute("height",`${e.height}`),this.imageElement_.setAttribute("width",`${e.width}`);const n=Number(e.height);e=Number(e.width);var r=!!this.borderRect_;const o=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+nc);let i;r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,i=this.svgArrow_?this.positionSVGArrow_(e+r,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):j(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+i+2*r,this.size_.height=o;let s=0;t.RTL?this.imageElement_.setAttribute("x",(r+i).toString()):(s=e+i,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",r.toString())),this.imageElement_.setAttribute("y",(o/2-n/2).toString()),this.positionTextElement_(s+r,e+i)}renderSelectedText_(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();N(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const n=j(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let r=0;this.svgArrow_&&(r=this.positionSVGArrow_(n+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+r+2*t,this.size_.height=e,this.positionTextElement_(t,n)}positionSVGArrow_(e,t){if(!this.svgArrow_)return 0;const n=this.getSourceBlock();if(!n)throw new Hl;const r=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(n.RTL?r:e+o)+","+t+")"),i+o}getText_(){if(!this.selectedOption_)return null;const e=this.selectedOption_[0];return"object"==typeof e?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};tc.CHECKMARK_OVERHANG=25,tc.MAX_MENU_HEIGHT_VH=.45,tc.ARROW_CHAR="▾";var nc=10;On("field_dropdown",tc),e.module$build$src$core$field_dropdown={},e.module$build$src$core$field_dropdown.FieldDropdown=tc;var rc,oc=class extends Qa{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=ma,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=n)}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}fromJson(e){t("Blockly.Events.BubbleOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new oc)).isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}};!function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"}(rc||(rc={})),ye(Vs.EVENT,ma,oc);var ic={};ic.BubbleOpen=oc,ic.BubbleType=rc;var sc=class{constructor(e,t,n,r,o){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new bs(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new bs(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=n||!1,this.margin=void 0!==o?o:sc.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),r&&(e+=" "+r),this.outerSvg=A(ol.SVG,{class:e}),r=A(ol.G,{},this.outerSvg),this.svgBackground=A(ol.RECT,{class:"blocklyScrollbarBackground"},r),e=Math.floor((sc.scrollbarThickness-5)/2),this.svgHandle=A(ol.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},r),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),$(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=c(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=c(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=sc.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),h(this.onMouseDownBarWrapper_),h(this.onMouseDownHandleWrapper_),P(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,F(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){(e||(e=this.workspace.getMetrics()))&&(this.oldHostMetrics&&sc.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics()))}requiresViewResize(e){return!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=sc.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=sc.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-sc.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=sc.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-sc.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){const t=e!==this.isVisible();if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),i(),this.cleanUp(),p(e))e.stopPropagation();else{var t=f(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var n=bt(this.svgHandle);n=this.horizontal?n.x:n.y;var r=this.handlePosition,o=.95*this.handleLength;t<=n?r-=o:t>=n+this.handleLength&&(r+=o),this.setHandlePosition(this.constrainHandlePosition(r)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),p(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.workspace.setupDragSurface(),this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=c(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=c(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){this.workspace.resetDragSurface(),i(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(h(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(h(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||void 0===t)&&this.updateMetrics()}setOrigin(e,t){this.origin=new bs(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};sc.scrollbarThickness=Bi?25:15,sc.DEFAULT_SCROLLBAR_MARGIN=.5;var ac=class{constructor(e,t,n,r,o,i){this.resizeGroup=this.bubbleBack=this.bubbleArrow=this.bubbleGroup=null,this.height=this.width=this.relativeTop=this.relativeLeft=0,this.autoLayout=!0,this.onMouseDownResizeWrapper=this.onMouseDownBubbleWrapper=this.moveCallback=this.resizeCallback=null,this.rendered=this.disposed=!1,this.workspace_=e,this.content_=t,this.shape_=n,n=ac.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrowRadians=W(n),e.getBubbleCanvas().appendChild(this.createDom(t,!(!o||!i))),this.setAnchorLocation(r),o&&i||(o=(e=this.content_.getBBox()).width+2*ac.BORDER_WIDTH,i=e.height+2*ac.BORDER_WIDTH),this.setBubbleSize(o,i),this.positionBubble(),this.renderArrow(),this.rendered=!0}createDom(e,t){this.bubbleGroup=A(ol.G,{});var n={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return Vi&&(n={}),n=A(ol.G,n,this.bubbleGroup),this.bubbleArrow=A(ol.PATH,{},n),this.bubbleBack=A(ol.RECT,{class:"blocklyDraggable",x:0,y:0,rx:ac.BORDER_WIDTH,ry:ac.BORDER_WIDTH},n),t?(this.resizeGroup=A(ol.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup),t=2*ac.BORDER_WIDTH,A(ol.POLYGON,{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup),A(ol.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup),A(ol.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup)):this.resizeGroup=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper=c(this.bubbleBack,"pointerdown",this,this.bubbleMouseDown),this.resizeGroup&&(this.onMouseDownResizeWrapper=c(this.resizeGroup,"pointerdown",this,this.resizeMouseDown))),this.bubbleGroup.appendChild(e),this.bubbleGroup}getSvgRoot(){return this.bubbleGroup}setSvgId(e){let t;null==(t=this.bubbleGroup)||t.setAttribute("data-block-id",e)}bubbleMouseDown(e){const t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){}isDeletable(){return!1}setDeleteStyle(e){}resizeMouseDown(e){this.promote(),ac.unbindDragEvents(),p(e)||(this.workspace_.startDrag(e,new bs(this.workspace_.RTL?-this.width:this.width,this.height)),ac.onMouseUpWrapper=c(document,"pointerup",this,ac.bubbleMouseUp),ac.onMouseMoveWrapper=c(document,"pointermove",this,this.resizeMouseMove),this.workspace_.hideChaff()),e.stopPropagation()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble()}registerResizeEvent(e){this.resizeCallback=e}registerMoveEvent(e){this.moveCallback=e}promote(){let e;const t=null==(e=this.bubbleGroup)?void 0:e.parentNode;return!((null==t?void 0:t.lastChild)===this.bubbleGroup||!this.bubbleGroup||(null==t||t.appendChild(this.bubbleGroup),0))}setAnchorLocation(e){this.anchorXY=e,this.rendered&&this.positionBubble()}layoutBubble(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft(e),n=this.getOptimalRelativeTop(e),r=this.shape_.getBBox();const o={x:t,y:-this.height-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},i={x:-this.width-30,y:n};n={x:r.width,y:n};var s={x:t,y:r.height};t=r.width<r.height?n:s,r=r.width<r.height?s:n,n=this.getOverlap(o,e),s=this.getOverlap(i,e);const a=this.getOverlap(t,e);e=this.getOverlap(r,e),n===(e=Math.max(n,s,a,e))?(this.relativeLeft=o.x,this.relativeTop=o.y):s===e?(this.relativeLeft=i.x,this.relativeTop=i.y):a===e?(this.relativeLeft=t.x,this.relativeTop=t.y):(this.relativeLeft=r.x,this.relativeTop=r.y)}getOverlap(e,t){var n=this.workspace_.RTL?this.anchorXY.x-e.x-this.width:e.x+this.anchorXY.x;return e=e.y+this.anchorXY.y,Math.max(0,Math.min(1,(Math.min(n+this.width,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height,t.top+t.height)-Math.max(e,t.top))/(this.width*this.height)))}getOptimalRelativeLeft(e){let t=-this.width/4;if(this.width>e.width)return t;if(this.workspace_.RTL){var n=this.anchorXY.x-t,r=e.left+e.width;e=e.left+sc.scrollbarThickness/this.workspace_.scale,n-this.width<e?t=-(e-this.anchorXY.x+this.width):n>r&&(t=-(r-this.anchorXY.x))}else{r=(n=t+this.anchorXY.x)+this.width;const o=e.left;e=e.left+e.width-sc.scrollbarThickness/this.workspace_.scale,n<o?t=o-this.anchorXY.x:r>e&&(t=e-this.anchorXY.x-this.width)}return t}getOptimalRelativeTop(e){let t=-this.height/4;if(this.height>e.height)return t;const n=this.anchorXY.y+t,r=n+this.height,o=e.top;e=e.top+e.height-sc.scrollbarThickness/this.workspace_.scale;const i=this.anchorXY.y;return n<o?t=o-i:r>e&&(t=e-i-this.height),t}positionBubble(){let e=this.anchorXY.x;e=this.workspace_.RTL?e-(this.relativeLeft+this.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchorXY.y)}moveTo(e,t){let n;null==(n=this.bubbleGroup)||n.setAttribute("transform","translate("+e+","+t+")")}setDragging(e){!e&&this.moveCallback&&this.moveCallback()}getBubbleSize(){return new Es(this.width,this.height)}setBubbleSize(e,t){const n=2*ac.BORDER_WIDTH;let r,o;e=Math.max(e,n+45),t=Math.max(t,n+20),this.width=e,this.height=t,null==(r=this.bubbleBack)||r.setAttribute("width",e.toString()),null==(o=this.bubbleBack)||o.setAttribute("height",t.toString()),this.resizeGroup&&(this.workspace_.RTL?this.resizeGroup.setAttribute("transform","translate("+2*ac.BORDER_WIDTH+","+(t-n)+") scale(-1 1)"):this.resizeGroup.setAttribute("transform","translate("+(e-n)+","+(t-n)+")")),this.autoLayout&&this.layoutBubble(),this.positionBubble(),this.renderArrow(),this.resizeCallback&&this.resizeCallback()}renderArrow(){const e=[];var t=this.width/2,n=this.height/2,r=-this.relativeLeft,o=-this.relativeTop;if(t===r&&n===o)e.push("M "+t+","+n);else{o-=n,r-=t,this.workspace_.RTL&&(r*=-1);var i=Math.sqrt(o*o+r*r),s=Math.acos(r/i);0>o&&(s=2*Math.PI-s);var a=s+Math.PI/2;a>2*Math.PI&&(a-=2*Math.PI);var l=Math.sin(a);const u=Math.cos(a);var c=this.getBubbleSize();a=(c.width+c.height)/ac.ARROW_THICKNESS,a=Math.min(a,c.width,c.height)/4,r=t+(c=1-ac.ANCHOR_RADIUS/i)*r,o=n+c*o,c=t+a*u;const h=n+a*l;t-=a*u,n-=a*l,(l=s+this.arrowRadians)>2*Math.PI&&(l-=2*Math.PI),s=Math.sin(l)*i/ac.ARROW_BEND,i=Math.cos(l)*i/ac.ARROW_BEND,e.push("M"+c+","+h),e.push("C"+(c+i)+","+(h+s)+" "+r+","+o+" "+r+","+o),e.push("C"+r+","+o+" "+(t+i)+","+(n+s)+" "+t+","+n)}let u;e.push("z"),null==(u=this.bubbleArrow)||u.setAttribute("d",e.join(" "))}setColour(e){let t,n;null==(t=this.bubbleBack)||t.setAttribute("fill",e),null==(n=this.bubbleArrow)||n.setAttribute("fill",e)}dispose(){this.onMouseDownBubbleWrapper&&h(this.onMouseDownBubbleWrapper),this.onMouseDownResizeWrapper&&h(this.onMouseDownResizeWrapper),ac.unbindDragEvents(),P(this.bubbleGroup),this.disposed=!0}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft=this.workspace_.RTL?this.anchorXY.x-t.x-this.width:t.x-this.anchorXY.x,this.relativeTop=t.y-this.anchorXY.y,this.renderArrow()}getRelativeToSurfaceXY(){return new bs(this.workspace_.RTL?-this.relativeLeft+this.anchorXY.x-this.width:this.anchorXY.x+this.relativeLeft,this.anchorXY.y+this.relativeTop)}setAutoLayout(e){this.autoLayout=e}static unbindDragEvents(){ac.onMouseUpWrapper&&(h(ac.onMouseUpWrapper),ac.onMouseUpWrapper=null),ac.onMouseMoveWrapper&&(h(ac.onMouseMoveWrapper),ac.onMouseMoveWrapper=null)}static bubbleMouseUp(e){i(),ac.unbindDragEvents()}static textToDom(e){const t=A(ol.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:ac.BORDER_WIDTH});e=e.split("\n");for(let n=0;n<e.length;n++){const r=A(ol.TSPAN,{dy:"1em",x:ac.BORDER_WIDTH},t),o=document.createTextNode(e[n]);r.appendChild(o)}return t}static createNonEditableBubble(e,t,n){if((n=new ac(t.workspace,e,t.pathObject.svgPath,n,null,null)).setSvgId(t.id),t.RTL){t=e.getBBox().width;for(let n,r=0;n=e.childNodes[r];r++)n.setAttribute("text-anchor","end"),n.setAttribute("x",(t+ac.BORDER_WIDTH).toString())}return n}};ac.BORDER_WIDTH=6,ac.ARROW_THICKNESS=5,ac.ARROW_ANGLE=20,ac.ARROW_BEND=4,ac.ANCHOR_RADIUS=8,ac.onMouseUpWrapper=null,ac.onMouseMoveWrapper=null,e.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:28,connectingSnapRadius:28,currentConnectionPreference:8,bumpDelay:250},e.config$$module$build$src$core$config;var lc=class{constructor(e){this.iconGroup_=null,this.collapseHidden=!0,this.SIZE=17,this.iconXY_=this.bubble_=null,e||t("Calling the Icon constructor with a null block","version 9","version 10","a non-null block"),this.block_=e}createIcon(){this.iconGroup_||(this.iconGroup_=A(ol.G,{class:"blocklyIconGroup"}),this.getBlock().isInFlyout&&N(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.getBlock().getSvgRoot().appendChild(this.iconGroup_),c(this.iconGroup_,"pointerup",this,this.iconClick_),this.updateEditable())}dispose(){P(this.iconGroup_),this.setVisible(!1)}updateEditable(){}isVisible(){return!!this.bubble_}iconClick_(e){this.getBlock().workspace.isDragging()||this.getBlock().isInFlyout||p(e)||this.setVisible(!this.isVisible())}applyColour(){this.bubble_&&this.isVisible()&&this.bubble_.setColour(this.getBlock().style.colourPrimary)}setIconLocation(e){this.iconXY_=e,this.bubble_&&this.isVisible()&&this.bubble_.setAnchorLocation(e)}computeIconLocation(){var e=this.getBlock().getRelativeToSurfaceXY();const t=vt(this.iconGroup_);e=new bs(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),bs.equals(this.getIconLocation(),e)||this.setIconLocation(e)}getIconLocation(){return this.iconXY_}getCorrectedSize(){return new Es(this.SIZE,this.SIZE-2)}drawIcon_(e){}setVisible(e){}getBlock(){if(!this.block_)throw Error("Block is not set for this icon.");return this.block_}},cc={};cc.deepMerge=Pn,cc.inherits=function(e,n){t("Blockly.utils.object.inherits","version 9","version 10"),e.superClass_=n.prototype,Object.setPrototypeOf(e,n),e.prototype=Object.create(n.prototype),e.prototype.constructor=e},cc.mixin=function(e,n){t("Blockly.utils.object.mixin","May 2022","May 2023","Object.assign");for(const t in n)e[t]=n[t]},cc.values=function(e){return t("Blockly.utils.object.values","version 9","version 10","Object.values"),Object.values(e)};var uc,hc=class{constructor(e,t,n,r){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=n||Object.create(null),this.componentStyles=r||Object.create(null),this.fontStyle=Object.create(null),ye(Vs.THEME,e,this)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const n=new hc(e);let r=t.base;if(r){if("string"==typeof r){let e;r=null!=(e=ke(Vs.THEME,r))?e:void 0}r instanceof hc&&(Pn(n,r),n.name=e)}return Pn(n.blockStyles,t.blockStyles),Pn(n.categoryStyles,t.categoryStyles),Pn(n.componentStyles,t.componentStyles),Pn(n.fontStyle,t.fontStyle),null!==t.startHats&&(n.startHats=t.startHats),n}},dc=new hc("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}),pc="categoryToolbox",fc="flyoutToolbox";!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(uc||(uc={}));var gc={hasCategoriesInternal:function(e){if(!e)return!1;const t=e.kind;return t?t===pc:!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length}},mc={};mc.Position=uc,mc.TEST_ONLY=gc,mc.convertFlyoutDefToJsonArray=Fn,mc.convertToolboxDefToJson=$n,mc.hasCategories=Un,mc.isCategoryCollapsible=Gn,mc.parseToolboxTree=Wn;var _c=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let n=null,r=!1;var o=!1,i=!1,s=!1,a=!1,l=!1;const c=!!e.readOnly;var u;c||(n=$n(null!=(u=e.toolbox)?u:null),r=Un(n),o=void 0===(o=e.trashcan)?r:o,i=void 0===(i=e.collapse)?r:i,s=void 0===(s=e.comments)?r:s,a=void 0===(a=e.disable)?r:a,l=void 0===(l=e.sounds)||l),u=e.maxTrashcanContents,o?void 0===u&&(u=32):u=0;const h=!!e.rtl;let d=e.horizontalLayout;void 0===d&&(d=!1);var p="end"!==e.toolboxPosition;p=d?p?uc.TOP:uc.BOTTOM:p===h?uc.RIGHT:uc.LEFT;let f=e.css;void 0===f&&(f=!0);let g="https://blockly-demo.appspot.com/static/media/";e.media?g=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(t("path","Nov 2014","Jul 2023","media"),g=e.path+"media/");const m=e.oneBasedIndex,_=e.renderer||"geras",v=e.plugins||{};let b,E,y,T=e.modalInputs;void 0===T&&(T=!0),this.RTL=h,this.oneBasedIndex=void 0===m||m,this.collapse=i,this.comments=s,this.disable=a,this.readOnly=c,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=null!=(b=e.maxInstances)?b:null,this.modalInputs=T,this.pathToMedia=g,this.hasCategories=r,this.moveOptions=_c.parseMoveOptions_(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=u,this.hasSounds=l,this.hasCss=f,this.horizontalLayout=d,this.languageTree=n,this.gridOptions=_c.parseGridOptions_(e),this.zoomOptions=_c.parseZoomOptions_(e),this.toolboxPosition=p,this.theme=_c.parseThemeOptions_(e),this.renderer=_,this.rendererOverrides=null!=(E=e.rendererOverrides)?E:null,this.parentWorkspace=null!=(y=e.parentWorkspace)?y:null,this.plugins=v}static parseMoveOptions_(e,t){const n=e.move||{},r={};return void 0===n.scrollbars&&void 0===e.scrollbars?r.scrollbars=t:"object"==typeof n.scrollbars?(r.scrollbars={horizontal:!!n.scrollbars.horizontal,vertical:!!n.scrollbars.vertical},r.scrollbars.horizontal&&r.scrollbars.vertical?r.scrollbars=!0:r.scrollbars.horizontal||r.scrollbars.vertical||(r.scrollbars=!1)):r.scrollbars=!!n.scrollbars||!!e.scrollbars,r.wheel=r.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof r.scrollbars,r.drag=!(!r.scrollbars||void 0!==n.drag&&!n.drag),r}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return"string"==typeof(e=e.theme||dc)?ke(Vs.THEME,e):e instanceof hc?e:hc.defineTheme(e.name||"builtin"+Oe(),e)}};e.Mutator$$module$build$src$core$mutator=class extends lc{constructor(e,n){n||t("Calling the Mutator constructor without passing the block it is attached to","version 9","version 10","the constructor by passing the list of subblocks and the block instance to attach the mutator to"),super(null!=n?n:null),this.workspace_=null,this.workspaceHeight=this.workspaceWidth=0,this.updateWorkspacePid=this.sourceListener=this.rootBlock=this.svgDialog=null,this.quarkNames=e}setBlock(e){this.block_=e}getWorkspace(){return this.workspace_}drawIcon_(e){A(ol.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),A(ol.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),A(ol.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)}iconClick_(e){this.getBlock().isEditable()&&super.iconClick_(e)}createEditor(){if(this.svgDialog=A(ol.SVG,{x:ac.BORDER_WIDTH,y:ac.BORDER_WIDTH}),this.quarkNames.length){var e=Xe("xml");for(let n,r=0;n=this.quarkNames[r];r++){var t=Xe("block");t.setAttribute("type",n),e.appendChild(t)}}else e=null;var n=this.getBlock();return(t=new _c({disable:!1,parentWorkspace:n.workspace,media:n.workspace.options.pathToMedia,rtl:n.RTL,horizontalLayout:!1,renderer:n.workspace.options.renderer,rendererOverrides:n.workspace.options.rendererOverrides})).toolboxPosition=n.RTL?uc.RIGHT:uc.LEFT,(n=!!e)&&(t.languageTree=$n(e)),this.workspace_=this.newWorkspaceSvg(t),this.workspace_.internalIsMutator=!0,this.workspace_.addChangeListener(Ze),e=n?this.workspace_.addFlyout(ol.G):null,t=this.workspace_.createDom("blocklyMutatorBackground"),e&&t.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog.appendChild(t),this.svgDialog}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}updateEditable(){super.updateEditable(),this.getBlock().isInFlyout||(this.getBlock().isEditable()?this.iconGroup_&&D(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&N(this.iconGroup_,"blocklyIconGroupReadonly")))}resizeBubble(){if(this.workspace_){var e=2*ac.BORDER_WIDTH,t=this.workspace_.getCanvas(),n=t.getBBox(),r=n.width+n.x,o=n.height+3*e,i=this.workspace_.getFlyout();if(i){const e=i.getWorkspace().getMetricsManager().getScrollMetrics();o=Math.max(o,e.height+20),r+=i.getWidth()}(i=this.getBlock().RTL)&&(r=-n.x),r+=3*e,(Math.abs(this.workspaceWidth-r)>e||Math.abs(this.workspaceHeight-o)>e)&&(this.workspaceWidth=r,this.workspaceHeight=o,this.bubble_.setBubbleSize(r+e,o+e),this.svgDialog.setAttribute("width",`${r}`),this.svgDialog.setAttribute("height",`${o}`),this.workspace_.setCachedParentSvgSize(r,o)),i&&t.setAttribute("transform",`translate(${this.workspaceWidth}, 0)`),this.workspace_.resize()}}onBubbleMove(){this.workspace_&&this.workspace_.recordDragTargets()}setVisible(e){if(e!==this.isVisible()){var t=this.getBlock();if(Le(new(ze(ma))(t,e,"mutator")),e){this.bubble_=new ac(t.workspace,this.createEditor(),t.pathObject.svgPath,this.iconXY_,null,null),e=this.workspace_,this.bubble_.setSvgId(t.id),this.bubble_.registerMoveEvent(this.onBubbleMove.bind(this));var n=e.options.languageTree,r=e.getFlyout();n&&(r.init(e),r.show(n)),this.rootBlock=t.decompose(e),n=this.rootBlock.getDescendants(!1);for(let e,t=0;e=n[t];t++)e.render();if(this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1),r?(n=2*r.CORNER_RADIUS,r=this.rootBlock.RTL?r.getWidth()+n:n):r=n=16,t.RTL&&(r=-r),this.rootBlock.moveBy(r,n),t.saveConnections){const e=this.rootBlock;t.saveConnections(e),this.sourceListener=()=>{const t=this.getBlock();t.saveConnections&&t.saveConnections(e)},t.workspace.addChangeListener(this.sourceListener)}this.resizeBubble(),e.addChangeListener(this.workspaceChanged.bind(this)),this.updateWorkspace(),this.applyColour()}else this.svgDialog=null,this.workspace_.dispose(),this.rootBlock=this.workspace_=null,null==(r=this.bubble_)||r.dispose(),this.bubble_=null,this.workspaceHeight=this.workspaceWidth=0,this.sourceListener&&(t.workspace.removeChangeListener(this.sourceListener),this.sourceListener=null)}}workspaceChanged(e){this.shouldIgnoreMutatorEvent_(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout((()=>{this.updateWorkspacePid=null,this.updateWorkspace()}),0))}shouldIgnoreMutatorEvent_(e){return e.isUiEvent||e.type===oa||e.type===sa&&"disabled"===e.element}updateWorkspace(){if(!this.workspace_.isDragging()){var t=this.workspace_.getTopBlocks(!1);for(let e,o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY();if(20>n.y&&e.moveBy(0,20-n.y),e.RTL){var r=-20;const t=this.workspace_.getFlyout();t&&(r-=t.getWidth()),n.x>r&&e.moveBy(r-n.x,0)}else 20>n.x&&e.moveBy(20-n.x,0)}}if(this.rootBlock&&this.rootBlock.workspace===this.workspace_){(t=Ge())||je(!0);const o=this.getBlock();if(n=hl.getExtraBlockState_(o),r=o.rendered,o.rendered=!1,o.compose(this.rootBlock),o.rendered=r,o.initSvg(),o.rendered&&o.render(),n!==(r=hl.getExtraBlockState_(o))){Le(new(ze(sa))(o,"mutation",null,n,r));const t=Ge();setTimeout((function(){const e=Ge();je(t),o.bumpNeighbours(),je(e)}),e.config$$module$build$src$core$config.bumpDelay)}this.workspace_.isDragging()||setTimeout((()=>this.resizeBubble()),0),je(t)}}dispose(){this.getBlock().mutator=null,super.dispose()}updateBlockStyle(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){const t=e.getAllBlocks(!1);for(let e,n=0;e=t[n];n++)e.setStyle(e.getStyleName());if(e=e.getFlyout()){e=e.getWorkspace().getAllBlocks(!1);for(let t,n=0;t=e[n];n++)t.setStyle(t.getStyleName())}}}static reconnect(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;const r=e.targetBlock();return!(r&&r!==t||!n||n.targetConnection===e||(n.isConnected()&&n.disconnect(),n.connect(e),0))}static findParentWs(e){let t=null;if(e&&e.options){const n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t}},e.Mutator$$module$build$src$core$mutator;var vc=Object.create(null),bc={allExtensions:vc};zn("parent_tooltip_when_inline",(function(){const e=this.tooltip;this.setTooltip(function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}.bind(this))})),e.module$build$src$core$extensions={},e.module$build$src$core$extensions.TEST_ONLY=bc,e.module$build$src$core$extensions.apply=Xn,e.module$build$src$core$extensions.buildTooltipForDropdown=function(e,t){const n=[];return"object"==typeof document&&tr((function(){for(const e in t)vn(t[e])})),function(){this.type&&-1===n.indexOf(this.type)&&(nr(this,e,t),n.push(this.type)),this.setTooltip(function(){var r=String(this.getFieldValue(e));let o=t[r];return null===o?-1===n.indexOf(this.type)&&(r="No tooltip mapping for value "+r+" of field "+e,null!==this.type&&(r+=" of block type "+this.type),console.warn(r+".")):o=_n(o),o}.bind(this))}},e.module$build$src$core$extensions.buildTooltipWithFieldText=function(e,t){return"object"==typeof document&&tr((function(){vn(e)})),function(){this.setTooltip(function(){const n=this.getField(t);return _n(e).replace("%1",n?n.getText():"")}.bind(this))}},e.module$build$src$core$extensions.isRegistered=Zn,e.module$build$src$core$extensions.register=zn,e.module$build$src$core$extensions.registerMixin=function(e,t){if(!t||"object"!=typeof t)throw Error('Error: Mixin "'+e+'" must be a object');zn(e,(function(){this.mixin(t)}))},e.module$build$src$core$extensions.registerMutator=function(t,n,r,o){const i='Error when registering mutator "'+t+'": ';qn(i,n);const s=Kn(n,i);if(r&&"function"!=typeof r)throw Error(i+'Extension "'+t+'" is not a function');zn(t,(function(){s&&this.setMutator(new e.Mutator$$module$build$src$core$mutator(o||[],this)),this.mixin(n),r&&r.apply(this)}))},e.module$build$src$core$extensions.runAfterPageLoad=tr,e.module$build$src$core$extensions.unregister=function(e){Zn(e)?delete vc[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')};var Ec={};Ec.removeElem=rr;var yc={};yc.arc=hr,yc.curve=ir,yc.line=cr,yc.lineOnAxis=ur,yc.lineTo=lr,yc.moveBy=ar,yc.moveTo=sr,yc.point=or;var Tc={};Tc.Coordinate=bs,Tc.KeyCodes=Jl,Tc.Rect=vs,Tc.Size=Es,Tc.Svg=ol,Tc.aria=ql,Tc.array=Ec,Tc.arrayRemove=function(e,n){return t("Blockly.utils.arrayRemove","December 2021","December 2022","Blockly.array.removeElem"),rr(e,n)},Tc.browserEvents=es,Tc.checkMessageReferences=function(e){return t("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),vn(e)},Tc.colour=Nl,Tc.deprecation=Ii,Tc.dom=ms,Tc.extensions=e.module$build$src$core$extensions,Tc.getBlockTypeCounts=function(e,n){return t("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),k(e,n)},Tc.getDocumentScroll=function(){return t("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),Tt()},Tc.getInjectionDivXY_=dr,Tc.getRelativeXY=function(e){return t("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),vt(e)},Tc.getViewportBBox=function(){return t("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),yt()},Tc.idGenerator=Ys,Tc.is3dSupported=function(){return t("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),Et()},Tc.math=_s,Tc.object=cc,Tc.parseBlockColour=function(e){return t("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),bn(e)},Tc.parsing=Ll,Tc.replaceMessageReferences=function(e){return t("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),_n(e)},Tc.runAfterPageLoad=function(e){t("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),tr(e)},Tc.screenToWsCoordinates=function(e,n){return t("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),wt(e,n)},Tc.string=e.module$build$src$core$utils$string,Tc.style=Ts,Tc.svgMath=ll,Tc.svgPaths=yc,Tc.tokenizeInterpolation=function(e){return t("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),mn(e)},Tc.toolbox=mc,Tc.userAgent=Ji,Tc.xml=e.module$build$src$core$utils$xml;var wc=class extends Qa{constructor(e,t){super(t),this.type=_a,this.isOpen=e}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}fromJson(e){t("Blockly.Events.TrashcanOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new wc)).isOpen=e.isOpen,t}};ye(Vs.EVENT,_a,wc);var Sc=class{constructor(e){this.name_=e}toString(){return this.name_}};Sc.POSITIONABLE=new Sc("positionable"),Sc.DRAG_TARGET=new Sc("drag_target"),Sc.DELETE_AREA=new Sc("delete_area"),Sc.AUTOHIDEABLE=new Sc("autohideable");var Cc=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const n=e.component.id;var r;if(!t&&this.componentData.has(n))throw Error('Plugin "'+n+'" with capabilities "'+(null==(r=this.componentData.get(n))?void 0:r.capabilities)+'" already added.');for(this.componentData.set(n,e),t=[],r=0;r<e.capabilities.length;r++){const o=String(e.capabilities[r]).toLowerCase();if(t.push(o),this.capabilityToComponentIds.has(o)){let e;null==(e=this.capabilityToComponentIds.get(o))||e.push(n)}else this.capabilityToComponentIds.set(o,[n])}this.componentData.get(n).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let n=0;n<t.capabilities.length;n++){const r=String(t.capabilities[n]).toLowerCase();rr(this.capabilityToComponentIds.get(r),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');var n,r;this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=String(t).toLowerCase(),null==(n=this.componentData.get(e))||n.capabilities.push(t),null==(r=this.capabilityToComponentIds.get(t))||r.push(e))}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=String(t).toLowerCase(),rr(this.componentData.get(e).capabilities,t),rr(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')}hasCapability(e,t){return t=String(t).toLowerCase(),this.componentData.has(e)&&-1!==this.componentData.get(e).capabilities.indexOf(t)}getComponent(e){let t;return null==(t=this.componentData.get(e))?void 0:t.component}getComponents(e,t){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds.get(e)))return[];const n=[];if(t){const t=[];e.forEach((e=>{t.push(this.componentData.get(e))})),t.sort((function(e,t){return e.weight-t.weight})),t.forEach((function(e){n.push(e.component)}))}else e.forEach((e=>{n.push(this.componentData.get(e).component)}));return n}};Cc.Capability=Sc;var Ic=class extends Error{},kc=class extends Ic{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Rc=class extends Ic{constructor(e,t,n){super(`The block ${t.toDevString()} is missing a(n) ${e}\nconnection`),this.block=t,this.state=n}},Mc=class extends Ic{constructor(e,t,n,r){super(`The block ${n.toDevString()} could not connect its\n${t} to its parent, because: ${e}`),this.childBlock=n,this.childState=r}},Oc=class extends Ic{constructor(e){super("Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e}},xc={};xc.BadConnectionCheck=Mc,xc.DeserializationError=Ic,xc.MissingBlockType=kc,xc.MissingConnection=Rc,xc.RealChildOfShadow=Oc;var Ac={BLOCKS:50,PROCEDURES:75,VARIABLES:100},Nc={};Nc.register=pr,Nc.unregister=function(e){we(Vs.SERIALIZER,e)};var Lc=class{constructor(){this.priority=50}save(e){const t=[];for(const n of e.getTopBlocks(!1))(e=fr(n,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const n of e)wr(n,t,{recordUndo:Ne()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};pr("blocks",new Lc);var Dc={};Dc.BlockSerializer=Lc,Dc.append=wr,Dc.appendInternal=Sr,Dc.save=fr;var Pc=class extends ul{constructor(e){super(e),this.type=oa,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Ct(e),this.ids=He(e),this.json=fr(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Mt(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){t("Blockly.Events.BlockCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=Ot(e.xml),this.ids=e.ids,this.json=e.json,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Pc)).xml=Ot(e.xml),t.ids=e.ids,t.json=e.json,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(e)wr(this.json,t);else for(e=0;e<this.ids.length;e++){const n=this.ids[e],r=t.getBlockById(n);r?r.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}};ye(Vs.EVENT,oa,Pc);var $c,Bc=class extends ul{constructor(e){if(super(e),this.type=ia,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Ct(e),this.ids=He(e),this.wasShadow=e.isShadow(),this.oldJson=fr(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Mt(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){t("Blockly.Events.BlockDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldXml=Ot(e.oldXml),this.ids=e.ids,this.wasShadow=e.wasShadow||"shadow"===this.oldXml.tagName.toLowerCase(),this.oldJson=e.oldJson,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Bc)).oldXml=Ot(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||"shadow"===t.oldXml.tagName.toLowerCase(),t.oldJson=e.oldJson,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const n=this.ids[e],r=t.getBlockById(n);r?r.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else wr(this.oldJson,t)}};ye(Vs.EVENT,ia,Bc),function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"}($c||($c={})),e.module$build$src$core$connection_type={},e.module$build$src$core$connection_type.ConnectionType=$c;var Fc=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom_=this.check_=null,this.y=this.x=0,this.shadowState_=null,this.sourceBlock_=e}connect_(e){const t=$c.INPUT_VALUE,n=this.getSourceBlock();var r=e.getSourceBlock();let o,i;if(e.isConnected()&&e.disconnect(),this.isConnected()){const e=this.stashShadowState_(),t=this.targetBlock();t.isShadow()?t.dispose(!1):(this.disconnect(),o=t),this.applyShadowState_(e)}Ue()&&(i=new(ze(aa))(r)),function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e}(this,e),r.setParent(n),i&&(i.recordNew(),Le(i)),o&&(e=this.type===t?o.outputConnection:o.previousConnection,(r=Fc.getConnectionForOrphanedConnection(r,e))?e.connect(r):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal_();const e=this.targetBlock();e&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===$c.INPUT_VALUE||this.type===$c.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=Ge();t||je(!0),this.isSuperior()?this.connect_(e):e.connect_(this),t||je(!1)}return this.isConnected()}disconnect(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!==this)throw Error("Target connection not connected to source connection.");let t,n;this.isSuperior()?(t=this.sourceBlock_,n=e.getSourceBlock(),e=this):(t=e.getSourceBlock(),n=this.sourceBlock_);const r=Ge();r||je(!0),this.disconnectInternal_(t,n),n.isShadow()||e.respawnShadow_(),r||je(!1)}disconnectInternal_(e,t){let n;Ue()&&(n=new(ze(aa))(t)),(e=this.targetConnection)&&(e.targetConnection=null),this.targetConnection=null,t.setParent(null),n&&(n.recordNew(),Le(n))}respawnShadow_(){this.createShadowBlock_(!0)}targetBlock(){if(this.isConnected()){let e,t;return null!=(t=null==(e=this.targetConnection)?void 0:e.getSourceBlock())?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this}getCheck(){return this.check_}setShadowDom(e){this.setShadowStateInternal_({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?kt(this.targetBlock()):this.shadowDom_}setShadowState(e){this.setShadowStateInternal_({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?fr(this.targetBlock()):this.shadowState_}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let n,r=0;n=e.inputList[r];r++)if(n.connection===this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()}stashShadowState_(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:e,shadowState:t}}applyShadowState_({shadowDom:e,shadowState:t}){this.shadowDom_=e,this.shadowState_=t}setShadowStateInternal_({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom_=e,this.shadowState_=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock())):(e=this.createShadowBlock_(!1),this.serializeShadow_(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))}createShadowBlock_(e){var t=this.getSourceBlock();const n=this.getShadowState(),r=this.getShadowDom();if(t.isDeadOrDying()||!n&&!r)return null;if(n)return Sr(n,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(r){if(t=At(r,t.workspace),e)if(this.type===$c.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==$c.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}return t}return null}serializeShadow_(e){e&&(this.shadowDom_=kt(e),this.shadowState_=fr(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===$c.OUTPUT_VALUE)return function(e,t){let n;for(;n=Pr(e,t);)if(!(e=n.targetBlock())||e.isShadow())return n;return null}(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const n=t.getConnectionChecker();return e&&n.canConnect(t,e,!1)?e:null}};Fc.CAN_CONNECT=0,Fc.REASON_SELF_CONNECTION=1,Fc.REASON_WRONG_TYPE=2,Fc.REASON_TARGET_NULL=3,Fc.REASON_CHECKS_FAILED=4,Fc.REASON_DIFFERENT_WORKSPACES=5,Fc.REASON_SHADOW_PARENT=6,Fc.REASON_DRAG_CHECKS_FAILED=7,Fc.REASON_PREVIOUS_AND_OUTPUT=8;var Uc="_TEMP_COLLAPSED_INPUT",Gc="_TEMP_COLLAPSED_FIELD",jc={};jc.COLLAPSED_FIELD_NAME=Gc,jc.COLLAPSED_INPUT_NAME=Uc,e.FieldLabel$$module$build$src$core$field_label=class extends jl{constructor(e,t,n){super(jl.SKIP_SETUP),this.class_=null,this.EDITABLE=!1,e!==jl.SKIP_SETUP&&(n?this.configure_(n):this.class_=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class_=e.class)}initView(){this.createTextElement_(),this.class_&&N(this.getTextElement(),this.class_)}doClassValidation_(e){return null==e?null:String(e)}setClass(e){this.textElement_&&(this.class_&&D(this.textElement_,this.class_),e&&N(this.textElement_,e)),this.class_=e}static fromJson(e){return new this(_n(e.text),void 0,e)}},On("field_label",e.FieldLabel$$module$build$src$core$field_label),e.FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE="",e.FieldLabel$$module$build$src$core$field_label;var Hc,Vc=class{constructor(t,n,r,o){if(this.type=t,this.name=n,this.connection=o,this.fieldRow=[],this.align=e.Align$$module$build$src$core$input.LEFT,this.visible=!0,t!==Ks.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.sourceBlock=r}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""===t&&n?("string"==typeof t&&(t=xn({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.render(),this.sourceBlock.bumpNeighbours()),e):e}removeField(e,t){for(let t,n=0;t=this.fieldRow[n];n++)if(t.name===e)return t.dispose(),this.fieldRow.splice(n,1),this.sourceBlock.rendered&&(this.sourceBlock.render(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let t,n=0;t=this.fieldRow[n];n++)t.setVisible(e);if(this.connection){var n=this.connection;e?t=n.startTrackingAll():n.stopTrackingAll(),(n=n.targetBlock())&&(n.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e,t=0;e=this.fieldRow[t];t++)e.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.render(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose()}};!function(e){(e=e.Align||(e.Align={}))[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"}(Vc||(Vc={})),e.Align$$module$build$src$core$input=Vc.Align,(Hc={}).Align=e.Align$$module$build$src$core$input,Hc.Input=Vc;var Wc=class{constructor(e,t,n){if(this.wsCoordinate_=null,!t)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=Wc.isConnectionType_(e),this.location_=t,this.processParams_(n||null)}processParams_(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)}getLocation(){return this.location_}getType(){return this.type_}getWsCoordinate(){return this.wsCoordinate_}isConnection(){return this.isConnection_}findNextForInput_(){var e=this.location_.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const n=t.inputList[e],r=n.fieldRow;for(let e=0;e<r.length;e++){const t=r[e];if(t.isClickable()||Wc.NAVIGATE_ALL_FIELDS)return Wc.createFieldNode(t)}if(n.connection)return Wc.createInputNode(n)}return null}findNextForField_(){var e=this.location_,t=e.getParentInput();const n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var r=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;r<n.inputList.length;r++){const o=(t=n.inputList[r]).fieldRow;for(;e<o.length;){if(o[e].isClickable()||Wc.NAVIGATE_ALL_FIELDS)return Wc.createFieldNode(o[e]);e++}if(e=0,t.connection)return Wc.createInputNode(t)}return null}findPrevForInput_(){const e=this.location_.getParentInput(),t=e.getSourceBlock();for(var n=t.inputList.indexOf(e);0<=n;n--){var r=t.inputList[n];if(r.connection&&r!==e)return Wc.createInputNode(r);for(let e=(r=r.fieldRow).length-1;0<=e;e--){const t=r[e];if(t.isClickable()||Wc.NAVIGATE_ALL_FIELDS)return Wc.createFieldNode(t)}}return null}findPrevForField_(){var e=this.location_;const t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var r=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=r;r--){var o=n.inputList[r];if(o.connection&&o!==t)return Wc.createInputNode(o);for(o=o.fieldRow;-1<e;){if(o[e].isClickable()||Wc.NAVIGATE_ALL_FIELDS)return Wc.createFieldNode(o[e]);e--}0<=r-1&&(e=n.inputList[r-1].fieldRow.length-1)}return null}navigateBetweenStacks_(e){var t=this.getLocation();if(t.getSourceBlock){var n=t.getSourceBlock();n&&(t=n)}if(!t||t.isDeadOrDying())return null;n=t.getRootBlock(),t=n.workspace.getTopBlocks(!0);for(let r=0;r<t.length;r++)if(n.id===t[r].id)return-1===(e=r+(e?1:-1))||e===t.length?null:Wc.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock_(e){const t=$r(e);return t?Wc.createConnectionNode(t):Wc.createBlockNode(e)}getOutAstNodeForBlock_(e){if(!e)return null;e=e.getTopStackBlock();const t=$r(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?Wc.createInputNode(t.targetConnection.getParentInput()):Wc.createStackNode(e)}findFirstFieldOrInput_(e){e=e.inputList;for(let t=0;t<e.length;t++){const n=e[t],r=n.fieldRow;for(let e=0;e<r.length;e++){const t=r[e];if(t.isClickable()||Wc.NAVIGATE_ALL_FIELDS)return Wc.createFieldNode(t)}if(n.connection)return Wc.createInputNode(n)}return null}getSourceBlock(){return this.getType()===Wc.types.BLOCK||this.getType()===Wc.types.STACK?this.getLocation():this.getType()===Wc.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type_){case Wc.types.STACK:return this.navigateBetweenStacks_(!0);case Wc.types.OUTPUT:return Wc.createBlockNode(this.location_.getSourceBlock());case Wc.types.FIELD:return this.findNextForField_();case Wc.types.INPUT:return this.findNextForInput_();case Wc.types.BLOCK:return Wc.createConnectionNode(this.location_.nextConnection);case Wc.types.PREVIOUS:return Wc.createBlockNode(this.location_.getSourceBlock());case Wc.types.NEXT:return Wc.createConnectionNode(this.location_.targetConnection)}return null}in(){switch(this.type_){case Wc.types.WORKSPACE:const e=this.location_.getTopBlocks(!0);if(0<e.length)return Wc.createStackNode(e[0]);break;case Wc.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case Wc.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case Wc.types.INPUT:return Wc.createConnectionNode(this.location_.targetConnection)}return null}prev(){switch(this.type_){case Wc.types.STACK:return this.navigateBetweenStacks_(!1);case Wc.types.FIELD:return this.findPrevForField_();case Wc.types.INPUT:return this.findPrevForInput_();case Wc.types.BLOCK:var e=$r(this.location_);return Wc.createConnectionNode(e);case Wc.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return Wc.createConnectionNode(e);break;case Wc.types.NEXT:return Wc.createBlockNode(this.location_.getSourceBlock())}return null}out(){switch(this.type_){case Wc.types.STACK:var e=this.location_,t=e.getRelativeToSurfaceXY();return t=new bs(t.x,t.y+Wc.DEFAULT_OFFSET_Y),Wc.createWorkspaceNode(e.workspace,t);case Wc.types.OUTPUT:return(t=(e=this.location_).targetConnection)?Wc.createConnectionNode(t):Wc.createStackNode(e.getSourceBlock());case Wc.types.FIELD:if(!(e=this.location_.getSourceBlock()))throw Error("The current AST location is not associated with a block");return Wc.createBlockNode(e);case Wc.types.INPUT:return Wc.createBlockNode(this.location_.getSourceBlock());case Wc.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case Wc.types.PREVIOUS:case Wc.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null}static isConnectionType_(e){switch(e){case Wc.types.PREVIOUS:case Wc.types.NEXT:case Wc.types.INPUT:case Wc.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new Wc(Wc.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===$c.INPUT_VALUE||t===$c.NEXT_STATEMENT&&e.getParentInput()?Wc.createInputNode(e.getParentInput()):t===$c.NEXT_STATEMENT?new Wc(Wc.types.NEXT,e):t===$c.OUTPUT_VALUE?new Wc(Wc.types.OUTPUT,e):t===$c.PREVIOUS_STATEMENT?new Wc(Wc.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new Wc(Wc.types.INPUT,e.connection):null}static createBlockNode(e){return e?new Wc(Wc.types.BLOCK,e):null}static createStackNode(e){return e?new Wc(Wc.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new Wc(Wc.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=$r(e);return t?Wc.createConnectionNode(t):Wc.createBlockNode(e)}};Wc.NAVIGATE_ALL_FIELDS=!1,Wc.DEFAULT_OFFSET_Y=-20,function(e){(e=e.types||(e.types={})).FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(Wc||(Wc={}));var zc=class{constructor(e,t,n){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.loadExtraState=this.saveExtraState=this.domToMutation=this.mutationToDom=this.destroy=this.init=void 0,this.suppressPrefixSuffix=!1,this.decompose=this.compose=this.getDeveloperVariables=void 0,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.disposing=!1,this.comment=null,this.isInsertionMarker_=!1,this.hat=void 0,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=n&&!e.getBlockById(n)?n:xe(),e.setBlockById(this.id,this),this.commentModel={text:null,pinned:!1,size:new Es(160,80)},this.xy_=new bs(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,!(n=as[t])||"object"!=typeof n)throw TypeError("Invalid block definition for type: "+t);Object.assign(this,n)}e.addTopBlock(this),e.addTypedBlock(this),new.target===zc&&this.doInit_()}doInit_(){const e=Ge();e||je(!0);const t=Ne();try{"function"==typeof this.init&&(Ae(!1),this.init(),Ae(t)),Ue()&&Le(new(ze(oa))(this))}finally{e||je(!1),Ae(t)}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)}dispose(e){if(!this.isDeadOrDying()){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),Ue()&&Le(new(ze(ia))(this)),Be();try{this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0;for(let e=this.childBlocks_.length-1;0<=e;e--)this.childBlocks_[e].dispose(!1);for(let e,t=0;e=this.inputList[t];t++)e.dispose();this.inputList.length=0;const e=this.getConnections_(!0);for(let t,n=0;t=e[n];n++)t.dispose()}finally{Fe(),"function"==typeof this.destroy&&this.destroy(),this.disposed=!0}}}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(let e,t=0;e=this.inputList[t];t++)for(let t,n=0;t=e.fieldRow[n];n++)t.initModel&&t.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(null==(e=e.targetConnection)||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):null==e||e.onFailedConnect(t))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const n=this.inputList[t].connection;if(n&&n.type===$c.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e}unplugFromStack_(e){let t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());const n=this.getNextBlock();e&&n&&!n.isShadow()&&(null==(e=this.nextConnection.targetConnection)||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()===e)return t;return null}getSurroundParent(){let e,t=this;do{if(e=t,t=t.getParent(),!t)return null}while(t.getNextBlock()===e);return t}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getFirstStatementConnection(){for(let e,t=0;e=this.inputList[t];t++)if(e.connection&&e.connection.type===$c.NEXT_STATEMENT)return e.connection;return null}getRootBlock(){let e,t=this;do{e=t,t=e.parentBlock_}while(t);return e}getTopStackBlock(){let e,t=this;do{e=t.getPreviousBlock()}while(e&&e.getNextBlock()===t&&(t=e));return t}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let n,r=0;n=this.inputList[r];r++)if(n.connection){var t=n.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?rr(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],n=this.getChildren(e);for(let r,o=0;r=n[o];o++)t.push(...r.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setMovable(e){this.movable_=e}isDuplicatable(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(k(this,!0))}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setEditable(e){this.editable_=e;for(let e,t=0;e=this.inputList[t];t++)for(let t,n=0;t=e.fieldRow[n];n++)t.updateEditable()}isDisposed(){return this.disposed}getMatchingConnection(e,t){const n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(let r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return zt(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=bn(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if("string"!=typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)if(n.name===e)return n;return null}getVars(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.push(n.getValue());return e}getVarModels(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)if(n.referencesVariables()){const t=this.workspace.getVariableById(n.getValue());t&&e.push(t)}return e}updateVarName(e){for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.getId()===n.getValue()&&n.refreshVariableName()}renameVarById(e,t){for(let n,r=0;n=this.inputList[r];r++)for(let r,o=0;r=n.fieldRow[o];o++)r.referencesVariables()&&e===r.getValue()&&r.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)}setPreviousStatement(e,t){if(e)void 0===t&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_($c.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_($c.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)void 0===t&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_($c.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(Le(new(ze(sa))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(void 0!==this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===Ks.DUMMY&&this.inputList[e].type===Ks.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===Ks.VALUE&&this.inputList[e].type===Ks.DUMMY)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,Le(new(ze(sa))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(Le(new(ze(sa))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){function n(e){let t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!==t.indexOf("Boolean")||-1!==t.indexOf("Number"))}function r(){let e,t;s&&s.getType()===(null==(e=a)?void 0:e.getType())&&s.getLocation()===(null==(t=a)?void 0:t.getLocation())&&(s=null)}var o=[];t=t||"?";const i=Wc.NAVIGATE_ALL_FIELDS;Wc.NAVIGATE_ALL_FIELDS=!0;let s=Wc.createBlockNode(this);const a=s;for(;s;){switch(s.getType()){case Wc.types.INPUT:var l=s.getLocation();s.in()?n(l)&&o.push("("):o.push(t);break;case Wc.types.FIELD:(l=s.getLocation()).name!==Gc&&o.push(l.getText())}if(s=(l=s).in()||l.next(),!s){for(s=l.out(),r();s&&!s.next();)s=s.out(),r(),s&&s.getType()===Wc.types.INPUT&&n(s.getLocation())&&o.push(")");s&&(s=s.next())}}for(Wc.NAVIGATE_ALL_FIELDS=i,t=2;t<o.length;t++)"("===o[t-2]&&")"===o[t]&&(o[t-2]=o[t-1],o.splice(t-1,2));return o=(o=o.reduce((function(e,t){return e+("("===e.substr(-1)||")"===t?"":" ")+t}),"")).trim()||"???",e&&o.length>e&&(o=o.substring(0,e-3)+"..."),o}appendValueInput(e){return this.appendInput_(Ks.VALUE,e)}appendStatementInput(e){return this.appendInput_(Ks.STATEMENT,e)}appendDummyInput(e){return this.appendInput_(Ks.DUMMY,e||"")}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t);for(var n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["lastDummyAlign"+n],t),n++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=_n(e.tooltip),this.setTooltip(n)),void 0!==e.enableContextMenu&&(this.contextMenu=!!e.enableContextMenu),void 0!==e.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),void 0!==e.helpUrl&&(n=_n(e.helpUrl),this.setHelpUrl(n)),"string"==typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&Xn(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)Xn(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(void 0!==t&&"boolean"!=typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const n in e)void 0!==this[n]&&t.push(n);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,n,r){e=mn(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,n),n=[];for(let o,i=0;o=t[i];i++)if(this.isInputKeyword_(o.type)){if(e=this.inputFromJson_(o,r)){for(let t,r=0;t=n[r];r++)e.appendField(t[0],t[1]);n.length=0}}else(e=this.fieldFromJson_(o))&&n.push([e,o.name])}validateTokens_(e,t){const n=[];let r=0;for(let o=0;o<e.length;o++){const i=e[o];if("number"==typeof i){if(1>i||i>t)throw Error('Block "'+this.type+'": Message index %'+i+" out of range.");if(n[i])throw Error('Block "'+this.type+'": Message index %'+i+" duplicated.");n[i]=!0,r++}}if(r!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,n){const r=[];for(let n=0;n<e.length;n++){let o=e[n];"number"==typeof o&&(o=t[o-1]),("string"!=typeof o||(o=this.stringToFieldJson_(o),o))&&r.push(o)}return(e=r.length)&&!this.isInputKeyword_(r[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),r.push(e)),r}fieldFromJson_(e){const t=xn(e);return!t&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(t,n){var r={LEFT:e.Align$$module$build$src$core$input.LEFT,RIGHT:e.Align$$module$build$src$core$input.RIGHT,CENTRE:e.Align$$module$build$src$core$input.CENTRE,CENTER:e.Align$$module$build$src$core$input.CENTRE};let o=null;switch(t.type){case"input_value":o=this.appendValueInput(t.name);break;case"input_statement":o=this.appendStatementInput(t.name);break;case"input_dummy":o=this.appendDummyInput(t.name)}return o?(t.check&&o.setCheck(t.check),t.align&&(void 0===(r=r[t.align.toUpperCase()])?console.warn(n+"Illegal align value: ",t.align):o.setAlign(r)),o):null}isInputKeyword_(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}appendInput_(e,t){let n=null;return e!==Ks.VALUE&&e!==Ks.STATEMENT||(n=this.makeConnection_(e)),e===Ks.STATEMENT&&this.statementInputCount++,e=new Vc(e,t,this,n),this.inputList.push(e),e}moveInputBefore(e,t){if(e!==t){var n=-1,r=t?-1:this.inputList.length;for(let o,i=0;o=this.inputList[i];i++)if(o.name===e){if(n=i,-1!==r)break}else if(t&&o.name===t&&(r=i,-1!==n))break;if(-1===n)throw Error('Named input "'+e+'" not found.');if(-1===r)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(n,r)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)}removeInput(e,t){for(let t,n=0;t=this.inputList[n];n++)if(t.name===e)return t.type===Ks.STATEMENT&&this.statementInputCount--,t.dispose(),this.inputList.splice(n,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t,n=0;t=this.inputList[n];n++)if(t.name===e)return t;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){return this.commentModel.text}setCommentText(e){this.commentModel.text!==e&&(Le(new(ze(sa))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)}setWarningText(e,t){}setMutator(e){}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const n=new(ze(aa))(this);this.xy_.translate(e,t),n.recordNew(),Le(n)}makeConnection_(e){return new Fc(this,e)}allInputsFilled(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(let n,r=0;n=this.inputList[r];r++)if(n.connection){var t=n.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return!(t=this.getNextBlock())||t.allInputsFilled(e)}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};zc.COLLAPSED_INPUT_NAME=Uc,zc.COLLAPSED_FIELD_NAME=Gc;var Zc=null,Xc=null,Yc={};Yc.connectionUiEffect=Ur,Yc.disconnectUiEffect=jr,Yc.disconnectUiStop=Vr,Yc.disposeUiEffect=Br;var Kc=class extends lc{constructor(e){let t;super(e),this.cachedText="",this.paragraphElement_=this.textarea_=this.foreignObject=this.onInputWrapper=this.onChangeWrapper=this.onWheelWrapper=this.onMouseUpWrapper=null,this.model=e.commentModel,this.model.text=null!=(t=this.model.text)?t:"",this.createIcon()}drawIcon_(e){A(ol.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),A(ol.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),A(ol.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)}createEditor(){this.foreignObject=A(ol.FOREIGNOBJECT,{x:ac.BORDER_WIDTH,y:ac.BORDER_WIDTH});const e=document.createElementNS(hs,"body");e.setAttribute("xmlns",hs),e.className="blocklyMinimalBody";const t=this.textarea_=document.createElementNS(hs,"textarea");let n;return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.getBlock().RTL?"RTL":"LTR"),t.value=null!=(n=this.model.text)?n:"",this.resizeTextarea(),e.appendChild(t),this.foreignObject.appendChild(e),this.onMouseUpWrapper=c(t,"focus",this,this.startEdit,!0),this.onWheelWrapper=c(t,"wheel",this,(function(e){e.stopPropagation()})),this.onChangeWrapper=c(t,"change",this,(function(e){this.cachedText!==this.model.text&&Le(new(ze(sa))(this.getBlock(),"comment",null,this.cachedText,this.model.text))})),this.onInputWrapper=c(t,"input",this,(function(e){this.model.text=t.value})),setTimeout(t.focus.bind(t),0),this.foreignObject}updateEditable(){super.updateEditable(),this.isVisible()&&(this.disposeBubble(),this.createBubble())}onBubbleResize(){this.isVisible()&&this.bubble_&&(this.model.size=this.bubble_.getBubbleSize(),this.resizeTextarea())}resizeTextarea(){if(this.textarea_&&this.foreignObject){var e=this.model.size,t=2*ac.BORDER_WIDTH,n=e.width-t;e=e.height-t,this.foreignObject.setAttribute("width",`${n}`),this.foreignObject.setAttribute("height",`${e}`),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=e-4+"px"}}setVisible(e){e!==this.isVisible()&&(Le(new(ze(ma))(this.getBlock(),e,"comment")),(this.model.pinned=e)?this.createBubble():this.disposeBubble())}createBubble(){this.getBlock().isEditable()?this.createEditableBubble():this.createNonEditableBubble()}createEditableBubble(){const e=this.getBlock();this.bubble_=new ac(e.workspace,this.createEditor(),e.pathObject.svgPath,this.iconXY_,this.model.size.width,this.model.size.height),this.bubble_.setSvgId(e.id),this.bubble_.registerResizeEvent(this.onBubbleResize.bind(this)),this.applyColour()}createNonEditableBubble(){let e;this.paragraphElement_=ac.textToDom(null!=(e=this.model.text)?e:""),this.bubble_=ac.createNonEditableBubble(this.paragraphElement_,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){this.onMouseUpWrapper&&(h(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onWheelWrapper&&(h(this.onWheelWrapper),this.onWheelWrapper=null),this.onChangeWrapper&&(h(this.onChangeWrapper),this.onChangeWrapper=null),this.onInputWrapper&&(h(this.onInputWrapper),this.onInputWrapper=null),this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement_=this.foreignObject=this.textarea_=null}startEdit(e){let t;null!=(t=this.bubble_)&&t.promote()&&this.textarea_.focus(),this.cachedText=this.model.text}getBubbleSize(){return this.model.size}setBubbleSize(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model.size.width=e,this.model.size.height=t)}updateText(){if(this.textarea_){let e;this.textarea_.value=null!=(e=this.model.text)?e:""}else this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model.text)}dispose(){this.getBlock().comment=null,super.dispose()}};mt("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var Jc,qc,Qc,eu=null,tu={duplicateInternal:function(e){const t=eu;let n,r,o;return Wr(e),e=null!=(o=null==(n=e.toCopyData())||null==(r=n.source)?void 0:r.paste(eu.saveInfo))?o:null,eu=t,e},copyInternal:function(e){eu=e.toCopyData()}},nu={};nu.TEST_ONLY=tu,nu.copy=Wr,nu.duplicate=Zr,nu.paste=zr,Jc=null,qc={},Qc=null,e.module$build$src$core$contextmenu={},e.module$build$src$core$contextmenu.callbackFactory=function(t,n){return()=>{let r;Be();try{r=At(n,t.workspace);const o=t.getRelativeToSurfaceXY();o.x=t.RTL?o.x-e.config$$module$build$src$core$config.snapRadius:o.x+e.config$$module$build$src$core$config.snapRadius,o.y+=2*e.config$$module$build$src$core$config.snapRadius,r.moveBy(o.x,o.y)}finally{Fe()}Ue()&&!r.isShadow()&&Le(new(ze(oa))(r)),r.select()}},e.module$build$src$core$contextmenu.commentDeleteOption=ro,e.module$build$src$core$contextmenu.commentDuplicateOption=oo,e.module$build$src$core$contextmenu.dispose=no,e.module$build$src$core$contextmenu.getCurrentBlock=Xr,e.module$build$src$core$contextmenu.hide=to,e.module$build$src$core$contextmenu.setCurrentBlock=Yr,e.module$build$src$core$contextmenu.show=Kr,e.module$build$src$core$contextmenu.workspaceCommentOption=function(e,t){const n={enabled:!0};return n.text=Ba.ADD_COMMENT,n.callback=function(){const n=new cl(e,Ba.WORKSPACE_COMMENT_DEFAULT_TEXT,cl.DEFAULT_SIZE,cl.DEFAULT_SIZE);var r=e.getInjectionDiv().getBoundingClientRect();r=new bs(t.clientX-r.left,t.clientY-r.top);const o=e.getOriginOffsetInPixels();(r=bs.difference(r,o)).scale(1/e.scale),n.moveBy(r.x,r.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n};var ru=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return null!=(t=this.registry_.get(e))?t:null}getContextMenuOptions(e,t){const n=[];for(const o of this.registry_.values())if(e===o.scopeType){var r=o.preconditionFn(t);"hidden"!==r&&(r={text:"function"==typeof o.displayText?o.displayText(t):o.displayText,enabled:"enabled"===r,callback:o.callback,scope:t,weight:o.weight},n.push(r))}return n.sort((function(e,t){return e.weight-t.weight})),n}};!function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e}(ru||(ru={}));var ou=ru.ScopeType,iu={};iu.ContextMenuRegistry=ru,iu.ScopeType=ou;var su=!0,au=[];au[$c.INPUT_VALUE]=$c.OUTPUT_VALUE,au[$c.OUTPUT_VALUE]=$c.INPUT_VALUE,au[$c.NEXT_STATEMENT]=$c.PREVIOUS_STATEMENT,au[$c.PREVIOUS_STATEMENT]=$c.NEXT_STATEMENT;var lu="RENAME_VARIABLE_ID",cu="DELETE_VARIABLE_ID",uu={COLLAPSE_CHARS:30};uu.DELETE_VARIABLE_ID=cu,uu.DRAG_STACK=su,uu.OPPOSITE_TYPE=au,uu.RENAME_VARIABLE_ID=lu;var hu=class{constructor(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}setDrawer(e){this.drawer_=e}getDrawer(){return this.drawer_}getCurNode(){return this.curNode_}setCurNode(e){const t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)}draw(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)}hide(){this.drawer_&&this.drawer_.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},du=class extends hu{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===Wc.types.NEXT||e.getType()===Wc.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;let t,n;return e.getType()!==Wc.types.PREVIOUS&&e.getType()!==Wc.types.OUTPUT||(e=e.next()),(e=null!=(n=null==(t=e)?void 0:t.in())?n:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===Wc.types.NEXT||e.getType()===Wc.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===Wc.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};ye(Vs.CURSOR,Hs,du);var pu=class extends du{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,t):null}getPreviousNode_(e,t){if(!e)return null;let n=e.prev();return n=n?this.getRightMostChild_(n):e.out(),t(n)?n:n?this.getPreviousNode_(n,t):null}validNode_(e){let t=!1;return(e=e&&e.getType())!==Wc.types.OUTPUT&&e!==Wc.types.INPUT&&e!==Wc.types.FIELD&&e!==Wc.types.NEXT&&e!==Wc.types.PREVIOUS&&e!==Wc.types.WORKSPACE||(t=!0),t}findSiblingOrParent_(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent_(e.out())}getRightMostChild_(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild_(e)}};pu.registrationName="basicCursor",ye(Vs.CURSOR,pu.registrationName,pu);var fu=class extends pu{validNode_(e){let t=!1;const n=e&&e.getType();return e&&(e=e.getLocation(),n===Wc.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},gu=class extends Fc{constructor(e,t){super(e,t),this.targetConnection=this.highlightPath=null,this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[au[t]],this.offsetInBlock_=new bs(0,0),this.trackedState_=gu.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState_===gu.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var r=!1;if(!n.isMovable()){if(!(n=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,r=!0}var o=T()==n;o||n.addSelect();var i=t.x+e.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random())-this.x,s=t.y+e.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random())-this.y;r&&(s=-s),n.RTL&&(i=t.x-e.config$$module$build$src$core$config.snapRadius-Math.floor(10*Math.random())-this.x),n.moveBy(i,s),o||n.removeSelect()}}}moveTo(e,t){this.trackedState_===gu.TrackedState.WILL_TRACK?(this.db_.addConnection(this,t),this.trackedState_=gu.TrackedState.TRACKED):this.trackedState_===gu.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,t)),this.x=e,this.y=t}moveBy(e,t){this.moveTo(this.x+e,this.y+t)}moveToOffset(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)}setOffsetInBlock(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t}getOffsetInBlock(){return this.offsetInBlock_}tighten(){const e=this.targetConnection.x-this.x,t=this.targetConnection.y-this.y;if(0!==e||0!==t){const r=this.targetBlock();var n=r.getSvgRoot();if(!n)throw Error("block is not rendered.");n=vt(n),r.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+","+(n.y-t)+")"),r.moveConnections(-e,-t)}}closest(e,t){return this.dbOpposite_.searchForClosest(this,e,t)}highlight(){if(!this.highlightPath){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),t=e.shapeFor(this);this.type===$c.INPUT_VALUE||this.type===$c.OUTPUT_VALUE?(e=e.TAB_OFFSET_FROM_TOP,t=ar(0,-e)+ur("v",e)+t.pathDown+ur("v",e)):(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS,t=ar(-e,0)+ur("h",e)+t.pathLeft+ur("h",e)),e=this.sourceBlock_.getRelativeToSurfaceXY(),this.highlightPath=A(ol.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())}}unhighlight(){this.highlightPath&&(P(this.highlightPath),this.highlightPath=null)}setTracking(e){e&&this.trackedState_===gu.TrackedState.TRACKED||!e&&this.trackedState_===gu.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=gu.TrackedState.TRACKED):(this.trackedState_===gu.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=gu.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const n=this.targetBlock().getDescendants(!1);for(let r=0;r<n.length;r++){var e=n[r],t=e.getConnections_(!0);for(let e=0;e<t.length;e++)t[e].setTracking(!1);for(e=e.getIcons(),t=0;t<e.length;t++)e[t].setVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==$c.INPUT_VALUE&&this.type!==$c.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let n;t.isCollapsed()?(n=[],t.outputConnection&&n.push(t.outputConnection),t.nextConnection&&n.push(t.nextConnection),t.previousConnection&&n.push(t.previousConnection)):n=t.getConnections_(!0);for(let t=0;t<n.length;t++)e.push(...n[t].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(t){const n=this.getSourceBlock();if(Ne()){const r=Ge();setTimeout(function(){n.isDisposed()||n.getParent()||(je(r),this.bumpAwayFrom(t),je(!1))}.bind(this),e.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal_(e,t){super.disconnectInternal_(e,t),e.rendered&&e.render(),t.rendered&&(t.updateDisabled(),t.render(),t.getSvgRoot().style.display="block")}respawnShadow_(){super.respawnShadow_();var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())}neighbours(e){return this.dbOpposite_.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const n=t.rendered,r=e.rendered;n&&t.updateDisabled(),r&&e.updateDisabled(),n&&r&&(this.type===$c.NEXT_STATEMENT||this.type===$c.PREVIOUS_STATEMENT?e.render():t.render()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}};!function(e){(e=e.TrackedState||(e.TrackedState={}))[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"}(gu||(gu={}));var mu=gu.TrackedState,_u={};_u.RenderedConnection=gu,_u.TrackedState=mu;var vu=class extends lc{constructor(e){super(e),this.paragraphElement=null,this.collapseHidden=!1,this.createIcon(),this.text=Object.create(null)}drawIcon_(e){A(ol.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),A(ol.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),A(ol.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)}setVisible(e){e!==this.isVisible()&&(Le(new(ze(ma))(this.getBlock(),e,"warning")),e?this.createBubble():this.disposeBubble())}createBubble(){this.paragraphElement=ac.textToDom(this.getText()),this.bubble_=ac.createNonEditableBubble(this.paragraphElement,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement=null}setText(e,t){this.text[t]!==e&&(e?this.text[t]=e:delete this.text[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))}getText(){const e=[];for(const t in this.text)e.push(this.text[t]);return e.join("\n")}dispose(){this.getBlock().warning=null,super.dispose()}},bu=class extends zc{constructor(e,t,n){super(e,t,n),this.renderingDebugger=null,this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.commentIcon_=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.decompose=this.decompose,this.compose=this.compose,this.saveConnections=this.saveConnections,this.customContextMenu=this.customContextMenu,this.svgGroup_=A(ol.G,{}),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.useDragSurface_=!!e.getBlockDragSurface(),(e=this.pathObject.svgPath).tooltip=this,Yt(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let e,t=0;e=this.inputList[t];t++)e.init();var e=this.getIcons();for(let t=0;t<e.length;t++)e[t].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||c(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(T()!==this){var e=null;if(T()){e=T().id,Be();try{T().unselect()}finally{Fe()}}e=new(ze(pa))(e,this.id,this.workspace.id),Le(e),w(this),this.addSelect()}}unselect(){if(T()===this){var e=new(ze(pa))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,Le(e),w(null),this.removeSelect()}}getIcons(){const e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e}setParent(e){const t=this.parentBlock_;if(e!==t){U(),super.setParent(e),G();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var r=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(n),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-r.x,e.y-r.y)):t&&(this.workspace.getCanvas().appendChild(n),this.translate(r.x,r.y)),this.applyColour()}}}getRelativeToSurfaceXY(){let e=0,t=0;const n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let r=this.getSvgRoot();if(r)do{var o=vt(r);e+=o.x,t+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===r&&(e+=(o=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,t+=o.y),r=r.parentNode}while(r&&r!==this.workspace.getCanvas()&&r!==n);return new bs(e,t)}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const n=Ue();let r=null;n&&(r=new(ze(aa))(this));const o=this.getRelativeToSurfaceXY();this.translate(o.x+e,o.y+t),this.moveConnections(e,t),n&&r&&(r.recordNew(),Le(r)),this.workspace.resizeContents()}translate(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}}moveTo(e){const t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)}moveOffDragSurface(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))}moveDuringDrag(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,r=this.getRelativeToSurfaceXY();e=Math.round(Math.round((r.x-n)/t)*t+n-r.x),t=Math.round(Math.round((r.y-n)/t)*t+n-r.y),(e||t)&&this.moveBy(e,t)}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let n,r;return this.RTL?(n=e.x-t.width,r=e.x):(n=e.x,r=e.x+t.width),new vs(e.y,e.y+t.height,n,r)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e,t=0;e=this.inputList[t];t++)e.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),e?this.rendered&&this.render():this.updateCollapsed_())}updateCollapsed_(){var t=this.isCollapsed();const n=Uc,r=Gc;for(let e,r=0;e=this.inputList[r];r++)e.name!==n&&e.setVisible(!t);if(t){t=this.getIcons();for(let e,n=0;e=t[n];n++)e.setVisible(!1);t=this.toString(30);var o=this.getField(r);o?o.setValue(t):(this.getInput(n)||this.appendDummyInput(n)).appendField(new e.FieldLabel$$module$build$src$core$field_label(t),r)}else this.updateDisabled(),this.removeInput(n)}tab(e,t){const n=new fu;n.setCurNode(Wc.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=ru.registry.getContextMenuOptions(ru.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Kr(e,t,this.RTL),Yr(this))}moveConnections(e,t){if(this.rendered){for(var n=this.getConnections_(!1),r=0;r<n.length;r++)n[r].moveBy(e,t);for(n=this.getIcons(),r=0;r<n.length;r++)n[r].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections(e,t)}}setDragging(e){if(e){var t=this.getSvgRoot();t.translate_="",t.skew_="",is.push(...this.getConnections_(!0)),N(this.svgGroup_,"blocklyDragging")}else is.length=0,D(this.svgGroup_,"blocklyDragging");for(t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){if(!this.isDeadOrDying()){en(),Kt(this.pathObject.svgPath),U();var n=this.workspace;for(var r of(T()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Xr()===this&&to(),t&&this.rendered&&(this.unplug(e),Br(this)),this.rendered=!1,this.warningTextDb.values()))clearTimeout(r);for(this.warningTextDb.clear(),t=this.getIcons(),r=0;r<t.length;r++)t[r].dispose();T()===this&&w(null),super.dispose(!!e),P(this.svgGroup_),n.resizeContents(),this.svgGroup_=null,G()}}checkAndDelete(){this.workspace.isFlyout||(je(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),je(!1))}toCopyData(){return this.isInsertionMarker_?null:{saveInfo:fr(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:k(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let e,t=0;e=this.inputList[t];t++)for(let t,n=0;t=e.fieldRow[n];n++)t.applyColour()}updateDisabled(){const e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(let t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()}getCommentIcon(){return this.commentIcon_}setCommentText(e){this.commentModel.text!==e&&(super.setCommentText(e),e=null!==e,!!this.commentIcon_===e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new Kc(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))}setWarningText(e,t){const n=t||"";if(n)this.warningTextDb.has(n)&&(clearTimeout(this.warningTextDb.get(n)),this.warningTextDb.delete(n));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(n,setTimeout((()=>{this.isDeadOrDying()||(this.warningTextDb.delete(n),this.setWarningText(e,n))}),100));else{if(this.isInFlyout&&(e=null),t=!1,"string"==typeof e){r=this.getSurroundParent();let o=null;for(;r;)r.isCollapsed()&&(o=r),r=r.getSurroundParent();o&&o.setWarningText(Ba.COLLAPSED_WARNINGS_WARNING,bu.COLLAPSED_WARNING_ID),this.warning||(this.warning=new vu(this),t=!0),this.warning.setText(e,n)}else this.warning&&!n?(this.warning.dispose(),t=!0):this.warning&&(t=this.warning.getText(),this.warning.setText("",n),(r=this.warning.getText())||this.warning.dispose(),t=t!==r);t&&this.rendered&&(this.render(),this.bumpNeighbours())}}setMutator(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()}bringToFront(){let e=this;do{const t=e.getSvgRoot(),n=t.parentNode,r=n.childNodes;r[r.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.render(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}appendInput_(e,t){return e=super.appendInput_(e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let e,n=0;e=this.inputList[n];n++)e.connection&&t.push(e.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new gu(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){this.getRootBlock().bumpNeighboursInternal()}bumpNeighboursInternal(){const t=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||t.isInFlyout))for(const n of this.getConnections_(!1)){if(n.isSuperior()){let e;null==(e=n.targetBlock())||e.bumpNeighboursInternal()}for(const r of n.neighbours(e.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==t&&(n.isConnected()&&r.isConnected()||(n.isSuperior()?r.bumpAwayFrom(n):n.bumpAwayFrom(r)))}}scheduleSnapAndBump(){const t=Ge();setTimeout((()=>{je(t),this.snapToGrid(),je(!1)}),e.config$$module$build$src$core$config.bumpDelay/2),setTimeout((()=>{je(t),this.bumpNeighbours(),je(!1)}),e.config$$module$build$src$core$config.bumpDelay)}positionNearConnection(e,t){e.type!==$c.NEXT_STATEMENT&&e.type!==$c.INPUT_VALUE||this.moveBy(t.x-e.x,t.y-e.y)}getFirstStatementConnection(){return super.getFirstStatementConnection()}getChildren(e){return super.getChildren(e)}render(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,U(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){const e=this.getParent();e?e.render(!0):this.workspace.resizeContents()}G(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(dl.LOCAL_MARKER).draw()}updateConnectionLocations_(){const e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(let t=0;t<this.inputList.length;t++){const n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var n=this.getNextBlock();if(n){n=n.getHeightWidth();const r=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-r,t=Math.max(t,n.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};bu.INLINE=-1,bu.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var Eu,yu,Tu,wu=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},Su=class extends wu{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof bu?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}};!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(Eu||(Eu={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(yu||(yu={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(Tu||(Tu={}));var Cu={};Cu.bumpDirection=Tu,Cu.bumpPositionRect=ao,Cu.getCornerOppositeToolbox=so,Cu.getStartPositionRect=io,Cu.horizontalPosition=yu,Cu.verticalPosition=Eu;var Iu={width:96,height:124,url:"sprites.png"},ku=class extends Su{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents_=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness_=0,this.lidTask_=this.svgLid_=this.svgGroup_=null,this.top_=this.left_=this.lidOpen_=0,this.initialized_=!1,0>=this.workspace.options.maxTrashcanContents||(e=new _c({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===uc.TOP?uc.BOTTOM:uc.TOP,this.flyout=new(Me(Vs.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===uc.RIGHT?uc.LEFT:uc.RIGHT,this.flyout=new(Me(Vs.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete_.bind(this)))}createDom(){let e;this.svgGroup_=A(ol.G,{class:"blocklyTrash"});const t=String(Math.random()).substring(2);e=A(ol.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_),A(ol.RECT,{width:Ru,height:Mu,y:Ou},e);const n=A(ol.IMAGE,{width:Iu.width,x:-Lu,height:Iu.height,y:-Du,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return n.setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Iu.url),e=A(ol.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),A(ol.RECT,{width:Ru,height:Ou},e),this.svgLid_=A(ol.IMAGE,{width:Iu.width,x:-Lu,height:Iu.height,y:-Du,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Iu.url),u(this.svgGroup_,"pointerdown",this,this.blockMouseDownWhenOpenable_),u(this.svgGroup_,"pointerup",this,this.click),u(n,"pointerover",this,this.mouseOver_),u(n,"pointerout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_}init(){0<this.workspace.options.maxTrashcanContents&&($(this.flyout.createDom(ol.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[Cc.Capability.AUTOHIDEABLE,Cc.Capability.DELETE_AREA,Cc.Capability.DRAG_TARGET,Cc.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(P(this.svgGroup_),this.svgGroup_=null),this.svgLid_=null,this.lidTask_&&clearTimeout(this.lidTask_)}hasContents_(){return!!this.contents_.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents_.map((function(e){return JSON.parse(e)})),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout((()=>{let n;null==(n=this.flyout)||n.show(e),t.cursor=""}),10),this.fireUiEvent_(!0)}}closeFlyout(){var e;this.contentsIsOpen()&&(null==(e=this.flyout)||e.hide(),this.fireUiEvent_(!1),this.workspace.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())}position(e,t){if(this.initialized_){var n,r=so(this.workspace,e);e=io(r,new Es(Ru,Mu+Ou),Au,xu,e,this.workspace),t=ao(e,xu,r.vertical===Eu.TOP?Tu.DOWN:Tu.UP,t),this.top_=t.top,this.left_=t.left,null==(n=this.svgGroup_)||n.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}getBoundingRectangle(){return new vs(this.top_,this.top_+Mu+Ou,this.left_,this.left_+Ru)}getClientRect(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect();const t=e.top+Du-Nu;return e=e.left+Lu-Nu,new vs(t,t+Ou+Mu+2*Nu,e,e+Ru+2*Nu)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask_&&clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())}animateLid_(){const e=Bu;var t=1/(e+1);this.lidOpen_+=this.isLidOpen?t:-t,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*Gu),t=Fu+this.lidOpen_*(Uu-Fu),this.svgGroup_&&(this.svgGroup_.style.opacity=t.toString()),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),$u/e))}setLidAngle_(e){const t=this.workspace.toolboxPosition===uc.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let n;null==(n=this.svgLid_)||n.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:Ru-4)+","+(Ou-2)+")")}setMinOpenness_(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*Gu)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents_()&&this.openFlyout()}fireUiEvent_(e){e=new(ze(_a))(e,this.workspace.id),Le(e)}blockMouseDownWhenOpenable_(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()}mouseOver_(){this.hasContents_()&&this.setLidOpen(!0)}mouseOut_(){this.setLidOpen(!1)}onDelete_(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==ia||e.type!==ia||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson_(e.oldJson)),-1===this.contents_.indexOf(e)){for(this.contents_.unshift(e);this.contents_.length>this.workspace.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(Pu)}}}cleanBlockJson_(e){return function e(t){if(t){if(delete t.id,delete t.x,delete t.y,delete t.enabled,t.icons&&t.icons.comment){var n=t.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var r in n=t.inputs){var o=n[r];const t=o.block;o=o.shadow,t&&e(t),o&&e(o)}t.next&&(t=(r=t.next).block,r=r.shadow,t&&e(t),r&&e(r))}}(e=JSON.parse(JSON.stringify(e))),Object.assign({},{kind:"BLOCK"},e)}},Ru=47,Mu=44,Ou=16,xu=20,Au=20,Nu=10,Lu=0,Du=32,Pu=.1,$u=80,Bu=4,Fu=.4,Uu=.8,Gu=45,ju=class extends Qa{constructor(e,t,n){super(n),this.type=va,this.oldItem=null!=e?e:void 0,this.newItem=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}fromJson(e){t("Blockly.Events.ToolboxItemSelect.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldItem=e.oldItem,this.newItem=e.newItem}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ju)).oldItem=e.oldItem,t.newItem=e.newItem,t}};ye(Vs.EVENT,va,ju);var Hu=class{constructor(e,t,n){this.id_=e.toolboxitemid||Oe(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},Vu=class extends Hu{constructor(e,t,n){super(e,t,n),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(n)}}parseCategoryDef_(e){this.name_="name"in e?_n(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),An(this.htmlDiv_,Zl.TREEITEM),Nn(this.htmlDiv_,Xl.SELECTED,!1),Nn(this.htmlDiv_,Xl.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),An(this.iconDom_,Zl.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Nn(this.htmlDiv_,Xl.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&N(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&N(e,t),t=Vu.nestedPadding*this.getLevel()+"px",this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&N(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&N(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&N(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Vu.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(null==(e=_n(e))||""===e)return"";var t=Number(e);return isNaN(t)?(t=cn(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):fn(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&L(e,t),(t=this.cssConfig_.openicon)&&N(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&L(e,t),(t=this.cssConfig_.closedicon)&&N(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const e=this.parseColour_(Vu.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||e,t&&N(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&D(this.rowDiv_,t);Nn(this.htmlDiv_,Xl.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_="string"==typeof e?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Fn(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){P(this.htmlDiv_)}};Vu.registrationName="category",Vu.nestedPadding=19,Vu.borderWidth=8,Vu.defaultBackgroundColour="#57e",mt('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),ye(Vs.TOOLBOX_ITEM,Vu.registrationName,Vu);var Wu=class extends Hu{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&N(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){P(this.htmlDiv_)}};Wu.registrationName="sep",mt('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),ye(Vs.TOOLBOX_ITEM,Wu.registrationName,Wu);var zu=class extends Vu{constructor(e,t,n){super(e,t,n),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){const t=e.contents;let n=!0;if(e.custom)this.flyoutItems_=e.custom;else if(t)for(e=0;e<t.length;e++){const r=t[e];!Ce(Vs.TOOLBOX_ITEM,r.kind)||r.kind.toLowerCase()===Wu.registrationName&&n?(this.flyoutItems_.push(r),n=!0):(this.createToolboxItem_(r),n=!1)}}createToolboxItem_(e){let t=e.kind;"CATEGORY"===t.toUpperCase()&&Gn(e)&&(t=zu.registrationName),e=new(Ie(Vs.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded("true"===this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),An(this.subcategoriesDiv_,Zl.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&N(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");var n=this.cssConfig_.contents;for(n&&N(t,n),n=0;n<e.length;n++){const r=e[n];r.init();const o=r.getDiv();if(t.appendChild(o),r.getClickTarget){let e;null==(e=r.getClickTarget())||e.setAttribute("id",r.getId())}}return t}setExpanded(e){this.expanded_!==e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),Nn(this.htmlDiv_,Xl.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};zu.registrationName="collapsibleCategory",ye(Vs.TOOLBOX_ITEM,zu.registrationName,zu);var Zu=class extends Su{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),$(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[Cc.Capability.AUTOHIDEABLE,Cc.Capability.DELETE_AREA,Cc.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,An(this.contentsDiv_,Zl.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),N(e,"blocklyToolboxDiv"),N(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return N(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=c(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=c(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(p(e)||e.target===this.HtmlDiv)E().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t)).isSelectable()&&(this.setSelectedItem(t),t.onClick(e)),E().hideChaff(!0)}i()}onKeyDown_(e){let t=!1;switch(e.keyCode){case Jl.DOWN:t=this.selectNext_();break;case Jl.UP:t=this.selectPrevious_();break;case Jl.LEFT:t=this.selectParent_();break;case Jl.RIGHT:t=this.selectChild_();break;case Jl.ENTER:case Jl.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}if(!t&&this.selectedItem_){const n=this.selectedItem_;n.onKeyDown&&(t=n.onKeyDown(e))}t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new _c({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?Me(Vs.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):Me(Vs.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t&&t.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let n=0;n<e.length;n++)this.createToolboxItem_(e[n],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&Gn(e)&&(n=zu.registrationName),(n=Ie(Vs.TOOLBOX_ITEM,n.toLowerCase()))&&((e=new n(e,this)).init(),this.addToolboxItem_(e),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&N(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&D(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,n=t+e.height,r=e.left;return e=r+e.width,this.toolboxPosition===uc.TOP?new vs(-1e7,n,-1e7,1e7):this.toolboxPosition===uc.BOTTOM?new vs(t,1e7,-1e7,1e7):this.toolboxPosition===uc.LEFT?new vs(-1e7,1e7,-1e7,e):new vs(-1e7,1e7,r,1e7)}wouldDelete(e,t){return e instanceof bu?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===uc.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===uc.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===uc.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===uc.TOP?e.scrollY+t.height:e.scrollY),I(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return null!==e&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return null!==t&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Nn(this.contentsDiv_,Xl.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Nn(this.contentsDiv_,Xl.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const n=e&&e.getName();let r=t&&t.getName();e===t&&(r=null),e=new(ze(va))(n,r,this.workspace_.id),Le(e)}selectParent_(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)h(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),P(this.HtmlDiv)}};mt('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),ye(Vs.TOOLBOX,Hs,Zu);var Xu=new hc("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}}),Yu={};Yu.Classic=dc,Yu.Zelos=Xu;var Ku,Ju=class extends Qa{constructor(e,t,n){null===(t=e?e.workspace.id:t)&&(t=void 0),super(t),this.type=fa,this.blockId=e?e.id:void 0,this.targetType=n}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}fromJson(e){t("Blockly.Events.Click.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.targetType=e.targetType,this.blockId=e.blockId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Ju)).targetType=e.targetType,t.blockId=e.blockId,t}};!function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"}(Ku||(Ku={})),ye(Vs.EVENT,fa,Ju);var qu={};qu.Click=Ju,qu.ClickTarget=Ku;var Qu,eh=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY(),this.dragSurface_=t.getBlockDragSurface()}startBubbleDrag(){Ge()||je(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout(!1),this.dragSurface_&&(this.bubble.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.bubble.getSvgRoot())),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=bs.sum(this.startXY_,t),this.bubble.moveDuringDrag(this.dragSurface_,t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return!(!e||!this.workspace.getComponentManager().hasCapability(e.id,Cc.Capability.DELETE_AREA))&&e.wouldDelete(this.bubble,!1)}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=bs.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.bubble.dispose()):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace.getBubbleCanvas()),this.bubble.setDragging&&this.bubble.setDragging(!1),this.fireMoveEvent_()),this.workspace.setResizesEnabled(!0),je(!1)}fireMoveEvent_(){if(this.bubble instanceof cl){const e=new(ze(Sa))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),Le(e)}}pixelsToWorkspaceUnits_(e){return e=new bs(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},th=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new bs(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){T()&&T().unselect(),this.workspace.setupDragSurface()}endDrag(e){this.drag(e),this.workspace.resetDragSurface()}drag(e){if(e=bs.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace.scroll(this.workspace.scrollX,e.y)}}},nh=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY_=new bs(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.hasExceededDragRadius_=!1,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isMultiTouch_=this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.cachedPoints=new Map,this.startDistance_=this.previousScale_=0,this.currentDropdownOwner=this.isPinchZoomEnabled_=this.onStartWrapper_=null,this.mostRecentEvent_=e,this.currentDragDeltaXY_=new bs(0,0),this.healStack_=!1}dispose(){i(),rn(),this.creatorWorkspace.clearGesture(),this.onMoveWrapper_&&h(this.onMoveWrapper_),this.onUpWrapper_&&h(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.onStartWrapper_&&h(this.onStartWrapper_)}updateFromEvent_(e){const t=new bs(e.clientX,e.clientY);this.updateDragDelta_(t)&&(this.updateIsDragging_(),o()),this.mostRecentEvent_=e}updateDragDelta_(t){return this.currentDragDeltaXY_=bs.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=bs.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.config$$module$build$src$core$config.flyoutDragRadius:e.config$$module$build$src$core$config.dragRadius))}updateIsDraggingFromFlyout_(){let e;if(!this.targetBlock_||null==(e=this.flyout_)||!e.isBlockCreatable(this.targetBlock_))return!1;if(!this.flyout_.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Ge()||je(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))}updateIsDraggingBubble_(){return!!this.startBubble_&&(this.startDraggingBubble_(),!0)}updateIsDraggingBlock_(){if(!this.targetBlock_)return!1;if(this.flyout_){if(this.updateIsDraggingFromFlyout_())return this.startDraggingBlock_(),!0}else if(this.targetBlock_.isMovable())return this.startDraggingBlock_(),!0;return!1}updateIsDraggingWorkspace_(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new th(this.startWorkspace_),this.workspaceDragger_.startDrag())}updateIsDragging_(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()}startDraggingBlock_(){this.blockDragger_=new(Me(Vs.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)}startDraggingBubble_(){if(!this.startBubble_)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger_=new eh(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,d(e)?this.cancel():(this.hasStarted_=!0,Vr(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=oe(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,nn(),this.targetBlock_&&this.targetBlock_.select(),p(e)?this.handleRightClick(e):("pointerdown"===e.type.toLowerCase()&&"mouse"!==e.pointerType&&r(e,this),this.mouseDownXY_=new bs(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.onStartWrapper_=c(document,"pointerdown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=c(document,"pointermove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=c(document,"pointerup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&o())}handleMove(e){this.isDragging()&&s(e)||!this.isMultiTouch()?(this.updateFromEvent_(e),this.workspaceDragger_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.bubbleDragger_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),o())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!s(e))return;if(this.updateFromEvent_(e),o(),this.isEnding_)return void console.log("Trying to end a gesture recursively.");this.isEnding_=!0,this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.workspaceDragger_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=a(e);this.cachedPoints.set(t,this.getTouchPoint(e));var n=Array.from(this.cachedPoints.keys());2===n.length&&(t=this.cachedPoints.get(n[0]),n=this.cachedPoints.get(n[1]),this.startDistance_=bs.distance(t,n),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=a(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled_&&2===this.cachedPoints.size?this.handlePinch_(e):this.handleMove(e)}handlePinch_(e){var t=Array.from(this.cachedPoints.keys()),n=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),n=bs.distance(n,t)/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){if(t=0<(t=n-this.previousScale_)?5*t:6*t,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const r=this.startWorkspace_,o=f(e,r.getParentSvg(),r.getInverseScreenCTM());r.zoom(o.x,o.y,t)}this.previousScale_=n,e.preventDefault()}handleTouchEnd(e){e=a(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale_=0)}getTouchPoint(e){return this.startWorkspace_?new bs(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(o(),this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.workspaceDragger_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())}handleRightClick(e){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)}fireWorkspaceClick_(e){Le(new(ze(fa))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e}handleBubbleStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e}doBubbleClick_(){this.startBubble_ instanceof cl&&(this.startBubble_.setFocus(),this.startBubble_.select())}doFieldClick_(){if(!this.startField_)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField_&&this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()}doBlockClick_(){if(this.flyout_&&this.flyout_.autoClose){if(!this.targetBlock_)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock_.isEnabled()&&(Ge()||je(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(ze(fa))(this.startBlock_,this.startWorkspace_.id,"block");Le(e)}this.bringBlockToFront_(),je(!1)}doWorkspaceClick_(e){e=this.creatorWorkspace,T()&&T().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)}bringBlockToFront_(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()}setStartField(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)}setStartBubble(e){this.startBubble_||(this.startBubble_=e)}setStartBlock(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))}setTargetBlock_(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e}setStartWorkspace_(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout_(e){this.flyout_||(this.flyout_=e)}isBubbleClick_(){return!!this.startBubble_&&!this.hasExceededDragRadius_}isBlockClick_(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()}isFieldClick_(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)}isWorkspaceClick_(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)}isDragging(){return!!this.workspaceDragger_||!!this.blockDragger_||!!this.bubbleDragger_}hasStarted(){return this.hasStarted_}getInsertionMarkers(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return null!=(t=null!=(e=this.blockDragger_)?e:this.workspaceDragger_)?t:this.bubbleDragger_}static inProgress(){const e=_();for(let t,n=0;t=e[n];n++)if(t.currentGesture_)return!0;return!1}},rh=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let n=0;n<t.length;n++)this.addKeyMapping(t[n],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,n){e=String(e);const r=this.keyMap.get(e);if(r&&!n)throw Error(`Shortcut named "${t}" collides with shortcuts "${r}"`);r&&n?r.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,n){const r=this.keyMap.get(e);if(!r)return n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const o=r.indexOf(t);return-1<o?(r.splice(o,1),0===r.length&&this.keyMap.delete(e),!0):(n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,n]of this.keyMap)e[t]=n;return e}getRegistry(){const e=Object.create(null);for(const[t,n]of this.shortcuts)e[t]=n;return Pn(Object.create(null),e)}onKeyDown(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(let r,o=0;r=n[o];o++){const n=this.shortcuts.get(r);let o,i;if(null==(o=n)||!o.preconditionFn||null!=(i=n)&&i.preconditionFn(e)){let r,o;if(null!=(r=n)&&r.callback&&null!=(o=n)&&o.callback(e,t,n))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[n,r]of this.keyMap)-1<r.indexOf(e)&&t.push(n);return t}serializeKeyEvent_(e){let t="";for(const n in rh.modifierKeys)e.getModifierState(n)&&(""!==t&&(t+="+"),t+=n);return""!==t&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=e.keyCode.toString()),t}checkModifiers_(e){for(let t,n=0;t=e[n];n++)if(!(t in rh.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let n="";if(t){this.checkModifiers_(t);for(const e in rh.modifierKeys)-1<t.indexOf(rh.modifierKeys[e])&&(""!==n&&(n+="+"),n+=e)}return""!==n&&e?n=n+"+"+e:e&&(n=e.toString()),n}};rh.registry=new rh,function(e){(e=e.modifierKeys||(e.modifierKeys={}))[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(rh||(rh={})),function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"}(Qu||(Qu={})),mo();var oh={};oh.names=Qu,oh.registerCopy=uo,oh.registerCut=ho,oh.registerDefaultShortcuts=mo,oh.registerDelete=co,oh.registerEscape=lo,oh.registerPaste=po,oh.registerRedo=go,oh.registerUndo=fo;var ih=class extends Qa{constructor(e,t){super(t),this.type=ba,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}fromJson(e){t("Blockly.Events.ThemeChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.themeName=e.themeName}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ih)).themeName=e.themeName,t}};ye(Vs.EVENT,ba,ih);var sh=class extends Qa{constructor(e,t,n,r,o){super(r),this.type=Ea,this.viewTop=e,this.viewLeft=t,this.scale=n,this.oldScale=o}toJson(){const e=super.toJson();if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}fromJson(e){t("Blockly.Events.Viewport.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new sh)).viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};ye(Vs.EVENT,Ea,sh);var ah=class{constructor(e){this.connectionChecker=e,this.connections_=[]}addConnection(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)}findIndexOfConnection_(e,t){if(!this.connections_.length)return-1;const n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;let r=n;for(;0<=r&&this.connections_[r].y===t;){if(this.connections_[r]===e)return r;r--}for(r=n;r<this.connections_.length&&this.connections_[r].y===t;){if(this.connections_[r]===e)return r;r++}return-1}calculateIndexForYPos_(e){if(!this.connections_.length)return 0;let t=0,n=this.connections_.length;for(;t<n;){const r=Math.floor((t+n)/2);if(this.connections_[r].y<e)t=r+1;else{if(!(this.connections_[r].y>e)){t=r;break}n=r}}return t}removeConnection(e,t){if(-1===(e=this.findIndexOfConnection_(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)}getNeighbours(e,t){function n(e){const n=o-r[e].x,s=i-r[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(r[e]),s<t}const r=this.connections_,o=e.x,i=e.y;e=0;let s=r.length-2,a=s;for(;e<a;)r[a].y<i?e=a:s=a,a=Math.floor((e+s)/2);const l=[];if(s=e=a,r.length){for(;0<=e&&n(e);)e--;do{s++}while(s<r.length&&n(s))}return l}isInYRange_(e,t,n){return Math.abs(this.connections_[e].y-t)<=n}searchForClosest(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};const r=e.y,o=e.x;e.x=o+n.x,e.y=r+n.y;var i=this.calculateIndexForYPos_(e.y);n=null;let s,a=t,l=i-1;for(;0<=l&&this.isInYRange_(l,e.y,t);)s=this.connections_[l],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;i<this.connections_.length&&this.isInYRange_(i,e.y,t);)s=this.connections_[i],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),i++;return e.x=o,e.y=r,{connection:n,radius:a}}static init(e){const t=[];return t[$c.INPUT_VALUE]=new ah(e),t[$c.OUTPUT_VALUE]=new ah(e),t[$c.NEXT_STATEMENT]=new ah(e),t[$c.PREVIOUS_STATEMENT]=new ah(e),t}},lh=class{constructor(e,t){let n,r,o;this.pattern=e,this.spacing=null!=(n=t.spacing)?n:0,this.length=null!=(r=t.length)?r:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling,this.snapToGrid=null!=(o=t.snap)&&o}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){var t=this.spacing*e||100;this.pattern.setAttribute("width",t.toString()),this.pattern.setAttribute("height",t.toString());let n=(t=Math.floor(this.spacing/2)+.5)-this.length/2,r=t+this.length/2;t*=e,n*=e,r*=e,this.setLineAttributes(this.line1,e,n,r,t,t),this.setLineAttributes(this.line2,e,t,t,n,r)}setLineAttributes(e,t,n,r,o,i){e&&(e.setAttribute("stroke-width",t.toString()),e.setAttribute("x1",n.toString()),e.setAttribute("y1",o.toString()),e.setAttribute("x2",r.toString()),e.setAttribute("y2",i.toString()))}moveTo(e,t){this.pattern.setAttribute("x",e.toString()),this.pattern.setAttribute("y",t.toString())}static createDom(e,t,n){let r,o;if(e=A(ol.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<(null!=(r=t.length)?r:1)&&0<(null!=(o=t.spacing)?o:0)){let n;A(ol.LINE,{stroke:t.colour},e),null!=(n=t.length)&&n&&A(ol.LINE,{stroke:t.colour},e)}else A(ol.LINE,{},e);return e}},ch=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap_=null,this.variablePrefix_=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap_=null}setVariableMap(e){this.variableMap_=e}getNameForUserVariable_(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}populateVariables(t){t=tt(t);for(let n=0;n<t.length;n++)this.getName(t[n].getId(),e.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(t,n){let r=t;n===e.NameType$$module$build$src$core$names.VARIABLE&&(t=this.getNameForUserVariable_(t))&&(r=t),t=r.toLowerCase();const o=n===e.NameType$$module$build$src$core$names.VARIABLE||n===e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"";this.db.has(n)||this.db.set(n,new Map);const i=this.db.get(n);return i.has(t)?o+i.get(t):(n=this.getDistinctName(r,n),i.set(t,n.substr(o.length)),n)}getUserNames(e){let t;return(e=null==(t=this.db.get(e))?void 0:t.keys())?Array.from(e):[]}getDistinctName(t,n){t=this.safeName_(t);let r="";for(;this.dbReverse.has(t+r)||this.reservedWords.has(t+r);)r=r?r+1:2;return t+=r,this.dbReverse.add(t),(n===e.NameType$$module$build$src$core$names.VARIABLE||n===e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"")+t}safeName_(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(e[0])&&(e="my_"+e)):e=Ba.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}};!function(e){(e=e.NameType||(e.NameType={})).DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(ch||(ch={})),e.NameType$$module$build$src$core$names=ch.NameType,ch.DEVELOPER_VARIABLE_TYPE=e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,e.module$build$src$core$names={},e.module$build$src$core$names.NameType=e.NameType$$module$build$src$core$names,e.module$build$src$core$names.Names=ch;var uh,hh,dh=class extends Map{constructor(e){super(),this.workspace=e}set(e,t){return this.get(e)===t||(super.set(e,t),Le(new(ze(Ia))(this.workspace,t)),_o(t)&&t.startPublishing()),this}delete(e){const t=this.get(e);return(e=super.delete(e))?(bo(this.workspace),Le(new(ze(ka))(this.workspace,t)),_o(t)&&t.stopPublishing(),e):e}clear(){if(this.size){for(const e of this.keys()){const t=this.get(e);super.delete(e),Le(new(ze(ka))(this.workspace,t))}bo(this.workspace)}}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},ph=class{constructor(e,t,n){this.workspace=e,this.parameters=[],this.returnTypes=null,this.enabled=!0,this.shouldFireEvents=!1,this.id=null!=n?n:xe(),this.name=t}setName(e){if(e===this.name)return this;const t=this.name;return this.name=e,bo(this.workspace),this.shouldFireEvents&&Le(new(ze(Ra))(this.workspace,this,t)),this}insertParameter(e,t){return this.parameters[t]&&this.parameters[t].getId()===e.getId()||(this.parameters.splice(t,0,e),e.setProcedureModel(this),_o(e)&&(this.shouldFireEvents?e.startPublishing():e.stopPublishing()),bo(this.workspace),this.shouldFireEvents&&Le(new(ze(xa))(this.workspace,this,e,t))),this}deleteParameter(e){if(!this.parameters[e])return this;const t=this.parameters[e];return this.parameters.splice(e,1),bo(this.workspace),_o(t)&&t.stopPublishing(),this.shouldFireEvents&&Le(new(ze(Aa))(this.workspace,this,t,e)),this}setReturnTypes(e){if(e&&e.length)throw Error("The built-in ProcedureModel does not support typing. You need to implement your own custom ProcedureModel.");if(!!e==!!this.returnTypes)return this;const t=this.returnTypes;return this.returnTypes=e,bo(this.workspace),this.shouldFireEvents&&Le(new(ze(Oa))(this.workspace,this,t)),this}setEnabled(e){return e===this.enabled||(this.enabled=e,bo(this.workspace),this.shouldFireEvents&&Le(new(ze(Ma))(this.workspace,this))),this}getId(){return this.id}getName(){return this.name}getParameter(e){return this.parameters[e]}getParameters(){return[...this.parameters]}getReturnTypes(){return this.returnTypes}getEnabled(){return this.enabled}startPublishing(){this.shouldFireEvents=!0;for(const e of this.parameters)_o(e)&&e.startPublishing()}stopPublishing(){this.shouldFireEvents=!1;for(const e of this.parameters)_o(e)&&e.stopPublishing()}},fh=class{constructor(e,t,n){let r;this.workspace=e,this.shouldFireEvents=!1,this.procedureModel=null,this.id=null!=n?n:xe(),this.variable=null!=(r=this.workspace.getVariable(t))?r:e.createVariable(t)}setName(e){if(e===this.variable.name)return this;const t=this.variable.name;let n;return this.variable=null!=(n=this.workspace.getVariable(e))?n:this.workspace.createVariable(e),bo(this.workspace),this.shouldFireEvents&&Le(new(ze(Na))(this.workspace,this.procedureModel,this,t)),this}setTypes(e){throw Error("The built-in ParameterModel does not support typing. You need to implement your own custom ParameterModel.")}getName(){return this.variable.name}getTypes(){return[]}getId(){return this.id}getVariableModel(){return this.variable}startPublishing(){this.shouldFireEvents=!0}stopPublishing(){this.shouldFireEvents=!1}setProcedureModel(e){return this.procedureModel=e,this}};uh="PROCEDURE",hh="x",e.module$build$src$core$procedures={},e.module$build$src$core$procedures.CATEGORY_NAME=uh,e.module$build$src$core$procedures.DEFAULT_ARG=hh,e.module$build$src$core$procedures.ObservableParameterModel=fh,e.module$build$src$core$procedures.ObservableProcedureMap=dh,e.module$build$src$core$procedures.ObservableProcedureModel=ph,e.module$build$src$core$procedures.allProcedures=Eo,e.module$build$src$core$procedures.findLegalName=To,e.module$build$src$core$procedures.flyoutCategory=Co,e.module$build$src$core$procedures.getCallers=Mo,e.module$build$src$core$procedures.getDefinition=function(e,t){t=t.getAllBlocks(!1);for(let r=0;r<t.length;r++){var n=t[r];if(n.getProcedureDef&&(n=n.getProcedureDef())&&ch.equals(n[0],e))return t[r]}return null},e.module$build$src$core$procedures.isNameUsed=So,e.module$build$src$core$procedures.mutateCallers=function(e){const t=Ne();var n=e.getProcedureDef()[0];const r=e.mutationToDom(!0);e=Mo(n,e.workspace);for(let i,s=0;i=e[s];s++){n=(n=i.mutationToDom())&&Mt(n),i.domToMutation&&i.domToMutation(r);var o=i.mutationToDom();n!==(o=o&&Mt(o))&&(Ae(!1),Le(new(ze(sa))(i,"mutation",null,n,o)),Ae(t))}},e.module$build$src$core$procedures.mutatorOpenListener=ko,e.module$build$src$core$procedures.rename=function(e){var t=this.getSourceBlock();if(!t)throw new Hl;e=e.trim();const n=To(e,t),r=this.getValue();if(r!==e&&r!==n)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const o=e[t];o.renameProcedure&&o.renameProcedure(r,n)}return n};var gh=new class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},mh=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=gh.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},_h=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=gh.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(gh.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(gh.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(gh.isSpacer(t))return t}return null}},vh=class extends _h{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=gh.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let r=0;r<this.elements.length;r++){const o=this.elements[r];t+=o.width,gh.isSpacer(o)||(gh.isNextConnection(o)?n=Math.max(n,o.height):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},bh=class extends mh{constructor(e,t){super(e),this.connectionModel=t,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.type|=gh.CONNECTION}},Eh=class extends bh{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=gh.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},yh=class extends Eh{constructor(e,t){super(e,t),this.height=0,this.type|=gh.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},Th=class extends mh{constructor(e,t,n){super(e),this.field=t,this.parentInput=n,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=gh.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},wh=class extends mh{constructor(e){super(e),this.type|=gh.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},Sh=class extends mh{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=t.isVisible(),this.type|=gh.ICON,e=t.getCorrectedSize(),this.height=e.height,this.width=e.width}},Ch=class extends mh{constructor(e,t){super(e),this.type=this.type|gh.SPACER|gh.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Ih=class extends Eh{constructor(e,t){super(e,t),this.type|=gh.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},kh=class extends Eh{constructor(e,t){super(e,t),this.type|=gh.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},Rh=class extends _h{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=gh.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const n=this.elements[t];this.width+=n.width,gh.isInput(n)&&n instanceof Eh&&(gh.isStatementInput(n)&&n instanceof kh?e+=n.connectedBlockWidth:gh.isExternalInput(n)&&n instanceof yh&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),gh.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Mh=class extends mh{constructor(e){super(e),this.type|=gh.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},Oh=class extends bh{constructor(e,t){super(e,t),this.type|=gh.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},xh=class extends bh{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=gh.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},Ah=class extends bh{constructor(e,t){super(e,t),this.type|=gh.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Nh=class extends mh{constructor(e,t){super(e),this.type=(t&&"left"!==t?gh.RIGHT_ROUND_CORNER:gh.LEFT_ROUND_CORNER)|gh.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},Lh=class extends _h{constructor(e,t,n){super(e),this.height=t,this.width=n,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|gh.SPACER|gh.BETWEEN_ROW_SPACER,this.elements=[new Ch(this.constants_,n)]}measure(){}},Dh=class extends mh{constructor(e,t){super(e),this.type=(t&&"left"!==t?gh.RIGHT_SQUARE_CORNER:gh.LEFT_SQUARE_CORNER)|gh.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Ph=class extends _h{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=gh.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let r=0;r<this.elements.length;r++){const o=this.elements[r];t+=o.width,gh.isSpacer(o)||(gh.isHat(o)&&o instanceof wh?n=Math.max(n,o.ascenderHeight):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},$h=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=ar(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const e in t)this.blockStyles[e]=this.validatedBlockStyle_(t[e]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=void 0!==e.startHats?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=V("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&0===e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=bn(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?bn(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?bn(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return pn("#fff",e,.6)||e}generateTertiaryColour_(e){return pn("#fff",e,.3)||e}dispose(){this.embossFilter_&&P(this.embossFilter_),this.disabledPattern_&&P(this.disabledPattern_),this.debugFilter_&&P(this.debugFilter_),this.cssNode_=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH;return{height:e,width:t,path:cr([or(t,e/4),or(2*-t,e/2),or(t,e/4)])}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:ir("c",[or(30,-e),or(70,-e),or(t,0)])}}makePuzzleTab(){function e(e){const r=-(e=e?-1:1);var o=n/2;const i=o+2.5,s=o+.5,a=or(-t,e*o);return o=or(t,e*o),ir("c",[or(0,e*i),or(-t,r*s),a])+ir("s",[or(t,2.5*r),o])}const t=this.TAB_WIDTH,n=this.TAB_HEIGHT,r=e(!0),o=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:o,pathUp:r}}makeNotch(){function e(e){return cr([or(e*r,n),or(3*e,0),or(e*r,-n)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=(t-3)/2,o=e(1),i=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:o,pathRight:i}}makeInsideCorners(){const e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:hr("a","0 0,0",e,or(-e,e)),pathBottom:hr("a","0 0,0",e,or(e,e))}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=ar(0,e)+hr("a","0 0,1",e,or(e,-e)),n=hr("a","0 0,1",e,or(e,e)),r=hr("a","0 0,1",e,or(-e,-e));return{topLeft:t,topRight:n,bottomRight:hr("a","0 0,1",e,or(-e,e)),bottomLeft:r,rightHeight:e}}shapeFor(e){switch(e.type){case $c.INPUT_VALUE:case $c.OUTPUT_VALUE:return this.PUZZLE_TAB;case $c.PREVIOUS_STATEMENT:case $c.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,n){this.injectCSS_(t,n),this.defs_=A(ol.DEFS,{},e),e=A(ol.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),A(ol.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=A(ol.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),A(ol.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),A(ol.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),A(ol.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter_=e,e=A(ol.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),A(ol.RECT,{width:10,height:10,fill:"#aaa"},e),A(ol.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern_=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter_){const e=A(ol.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),t=A(ol.FECOMPONENTTRANSFER,{result:"outBlur"},e);A(ol.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),A(ol.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),A(ol.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);const n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Bh={};Bh.ConstantProvider=$h,Bh.isDynamicShape=Oo;var Fh=!1,Uh={};Uh.isDebuggerEnabled=xo,Uh.startDebugger=function(){t("Blockly.blockRendering.debug.startDebugger()","version 8","version 10","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Fh=!0},Uh.stopDebugger=Ao;var Gh=class{constructor(e){this.constants=e,this.debugElements_=[],this.svgRoot_=null,this.randomColour_=""}clearElems(){for(let e=0;e<this.debugElements_.length;e++)P(this.debugElements_[e]);this.debugElements_=[]}drawSpacerRow(e,t,n){if(Gh.config.rowSpacers){var r=Math.abs(e.height),o=0>e.height;o&&(t-=r),this.debugElements_.push(A(ol.RECT,{class:"rowSpacerRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:t,width:e.width,height:r,stroke:o?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawSpacerElem(e,t,n){if(Gh.config.elemSpacers){t=Math.abs(e.width);var r=0>e.width,o=r?e.xPos-t:e.xPos;n&&(o=-(o+t)),this.debugElements_.push(A(ol.RECT,{class:"elemSpacerRect blockRenderDebug",x:o,y:e.centerline-e.height/2,width:t,height:e.height,stroke:"pink",fill:r?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawRenderedElem(t,n){if(Gh.config.elems){let r=t.xPos;n&&(r=-(r+t.width)),n=t.centerline-t.height/2,this.debugElements_.push(A(ol.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),gh.isField(t)&&t instanceof Th&&t.field instanceof e.FieldLabel$$module$build$src$core$field_label&&this.debugElements_.push(A(ol.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n+this.constants.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}gh.isInput(t)&&t instanceof Eh&&Gh.config.connections&&this.drawConnection(t.connectionModel)}drawConnection(e){if(Gh.config.connections){var t="",n=0,r="";e.type===$c.INPUT_VALUE?(n=4,t="magenta",r="none"):e.type===$c.OUTPUT_VALUE?(n=2,r=t="magenta"):e.type===$c.NEXT_STATEMENT?(n=4,t="goldenrod",r="none"):e.type===$c.PREVIOUS_STATEMENT&&(n=2,r=t="goldenrod"),this.debugElements_.push(A(ol.CIRCLE,{class:"blockRenderDebug",cx:e.getOffsetInBlock().x,cy:e.getOffsetInBlock().y,r:n,fill:r,stroke:t},this.svgRoot_))}}drawRenderedRow(e,t,n){Gh.config.rows&&(this.debugElements_.push(A(ol.RECT,{class:"elemRenderingRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),gh.isTopOrBottomRow(e)||Gh.config.connectedBlockBounds&&this.debugElements_.push(A(ol.RECT,{class:"connectedBlockWidth blockRenderDebug",x:n?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}drawRowWithElements(e,t,n){for(let t=0;t<e.elements.length;t++){const r=e.elements[t];r?gh.isSpacer(r)?this.drawSpacerElem(r,e.height,n):this.drawRenderedElem(r,n):console.warn("A row has an undefined or null element.",e,r)}this.drawRenderedRow(e,t,n)}drawBoundingBox(e){if(Gh.config.blockBounds){var t=e.RTL?-e.width:0;this.debugElements_.push(A(ol.RECT,{class:"blockBoundingBox blockRenderDebug",x:t,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),Gh.config.connectedBlockBounds&&(t=e.RTL?-e.widthWithChildren:0,this.debugElements_.push(A(ol.RECT,{class:"blockRenderDebug",x:t,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}}drawDebug(e,t){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);let n=0;for(let e=0;e<t.rows.length;e++){const r=t.rows[e];gh.isBetweenRowSpacer(r)?this.drawSpacerRow(r,n,t.RTL):this.drawRowWithElements(r,n,t.RTL),n+=r.height}e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),t.rightSide&&this.drawRenderedElem(t.rightSide,t.RTL),this.drawBoundingBox(t),this.drawRender(e.pathObject.svgPath)}drawRender(e){Gh.config.render&&(e.setAttribute("filter","url(#"+this.constants.debugFilterId+")"),setTimeout((function(){e.setAttribute("filter","")}),100))}};Gh.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0};var jh=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){if(this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),xo()){let e;null==(e=this.block_.renderingDebugger)||e.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}hideHiddenIcons_(){for(let e,t=0;e=this.info_.hiddenIcons[t];t++){let t;null==(t=e.icon.iconGroup_)||t.setAttribute("display","none")}}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=ar(e.xPos,this.info_.startY);for(let e,n=0;e=t[n];n++)gh.isLeftRoundedCorner(e)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:gh.isRightRoundedCorner(e)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:gh.isPreviousConnection(e)&&e instanceof bh?this.outlinePath_+=e.shape.pathLeft:gh.isHat(e)?this.outlinePath_+=this.constants_.START_HAT.path:gh.isSpacer(e)&&(this.outlinePath_+=ur("h",e.width));this.outlinePath_+=ur("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+ur("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const n=Oo(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=ur("H",t.xPos+t.width)+n+ur("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+ur("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var r=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=ur("H",n)+t+ur("v",r)+this.constants_.INSIDE_CORNERS.pathBottom+ur("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=ur("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let n=0,r="";for(let o,i=t.length-1;o=t[i];i--)gh.isNextConnection(o)&&o instanceof bh?r+=o.shape.pathRight:gh.isLeftSquareCorner(o)?r+=ur("H",e.xPos):gh.isLeftRoundedCorner(o)?r+=this.constants_.OUTSIDE_CORNERS.bottomLeft:gh.isRightRoundedCorner(o)?(r+=this.constants_.OUTSIDE_CORNERS.bottomRight,n=this.constants_.OUTSIDE_CORNERS.rightHeight):gh.isSpacer(o)&&(r+=ur("h",-1*o.width));this.outlinePath_+=ur("V",e.baseline-n),this.outlinePath_+=r}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=Oo(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=ur("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e,t=0;e=this.info_.rows[t];t++)for(let t,n=0;t=e.elements[n];n++)gh.isInlineInput(t)?this.drawInlineInput_(t):(gh.isIcon(t)||gh.isField(t))&&this.layoutField_(t)}layoutField_(e){const t=gh.isField(e)?e.field.getSvgRoot():e.icon.iconGroup_,n=e.centerline-e.height/2;let r=e.xPos,o="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,o="scale(-1 1)")),gh.isIcon(e)?(t.setAttribute("display","block"),t.setAttribute("transform","translate("+r+","+n+")"),e.icon.computeIconLocation()):t.setAttribute("transform","translate("+r+","+n+")"+o),this.info_.isInsertionMarker&&t.setAttribute("display","none")}drawInlineInput_(e){const t=e.width,n=e.height,r=e.connectionOffsetY,o=e.connectionHeight+r;this.inlinePath_+=sr(e.xPos+e.connectionWidth,e.centerline-n/2)+ur("v",r)+e.shape.pathDown+ur("v",n-o)+ur("h",t-e.connectionWidth)+ur("v",-n)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}},Hh=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new xh(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new Ph(this.constants_),this.bottomRow=new vh(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new Rh(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let n,r=0;n=t[r];r++){const t=new Sh(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(t):e.elements.push(t)}t=void 0;for(let n,r=0;n=this.block_.inputList[r];r++)if(n.isVisible()){this.shouldStartNewRow_(n,t)&&(this.rows.push(e),e=new Rh(this.constants_),this.inputRows.push(e));for(let t,r=0;t=n.fieldRow[r];r++)e.elements.push(new Th(this.constants_,t,n));this.addInput_(n,e),t=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Mh(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let n=this.topRow.hasLeftSquareCorner(this.block_)?Dh:Nh;this.topRow.elements.push(new n(this.constants_)),t?(e=new wh(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Ah(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===Ks.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,n=this.topRow.hasRightSquareCorner(this.block_)?Dh:Nh,this.topRow.elements.push(new n(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===Ks.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Dh(this.constants_)):this.bottomRow.elements.push(new Nh(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Oh(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Dh(this.constants_,"right")):this.bottomRow.elements.push(new Nh(this.constants_,"right"))}addInput_(e,t){this.isInline&&e.type===Ks.VALUE?(t.elements.push(new Ih(this.constants_,e)),t.hasInlineInput=!0):e.type===Ks.STATEMENT?(t.elements.push(new kh(this.constants_,e)),t.hasStatement=!0):e.type===Ks.VALUE?(t.elements.push(new yh(this.constants_,e)),t.hasExternalInput=!0):e.type===Ks.DUMMY&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null===t.align&&(t.align=e.align)}shouldStartNewRow_(e,t){return!(!t||e.type!==Ks.STATEMENT&&t.type!==Ks.STATEMENT&&(e.type!==Ks.VALUE&&e.type!==Ks.DUMMY||this.isInline))}addElemSpacing_(){for(let e,t=0;e=this.rows[t];t++){const t=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new Ch(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let n=0;n<t.length-1;n++){e.elements.push(t[n]);const r=this.getInRowSpacing_(t[n],t[n+1]);e.elements.push(new Ch(this.constants_,r))}e.elements.push(t[t.length-1]),e.endsWithElemSpacer()&&e.elements.push(new Ch(this.constants_,this.getInRowSpacing_(t[t.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&gh.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&gh.isInput(e)&&!t){if(gh.isExternalInput(e))return this.constants_.NO_PADDING;if(gh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(gh.isStatementInput(e))return this.constants_.NO_PADDING}return e&&gh.isLeftSquareCorner(e)&&t&&(gh.isPreviousConnection(t)||gh.isNextConnection(t))?t.notchOffset:e&&gh.isLeftRoundedCorner(e)&&t&&(gh.isPreviousConnection(t)||gh.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,n=0;for(let o,i=0;o=this.rows[i];i++){if(o.measure(),t=Math.max(t,o.width),o.hasStatement){var r=o.getLastInput();let t,n;r=o.width-(null!=(n=null==(t=r)?void 0:t.width)?n:0),e=Math.max(e,r)}n=Math.max(n,o.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let e,t=0;e=this.rows[t];t++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var e=t.width;0<(e=this.getDesiredRowWidth_(t)-e)&&this.addAlignmentPadding_(t,e),gh.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(t,n){const r=t.getFirstSpacer(),o=t.getLastSpacer();if((t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align===e.Align$$module$build$src$core$input.LEFT&&o)o.width+=n;else if(t.align===e.Align$$module$build$src$core$input.CENTRE&&r&&o)r.width+=n/2,o.width+=n/2;else if(t.align===e.Align$$module$build$src$core$input.RIGHT&&r)r.width+=n;else{if(!o)return;o.width+=n}t.width+=n}alignStatementRow_(e){const t=e.getLastInput();if(t){var n=e.width-t.width,r=this.statementEdge;0<(n=r-n)&&this.addAlignmentPadding_(e,n),n=e.width,r=this.getDesiredRowWidth_(e),t.width+=r-n,t.height=Math.max(t.height,e.height),e.width+=r-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var n=this.getSpacerRowHeight_(e,t);const r=this.getSpacerRowWidth_(e,t);return n=new Lh(this.constants_,n,r),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return gh.isSpacer(t)?e.yPos+t.height/2:gh.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,gh.isNextConnection(t)?e+t.height/2:e-t.height/2):gh.isTopRow(e)?gh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let n,r=0;n=e.elements[r];r++)gh.isSpacer(n)&&(n.height=e.height),n.xPos=t,n.centerline=this.getElemCenterline_(e,n),t+=n.width}finalize_(){let e=0,t=0;for(let n,r=0;n=this.rows[r];r++)n.yPos=t,n.xPos=this.startX,t+=n.height,e=Math.max(e,n.widthWithConnectedBlocks),this.recordElemPositions_(n);if(this.outputConnection&&this.block_.nextConnection){const t=this.block_.nextConnection.targetBlock();t&&(e=Math.max(e,t.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}},Vh=class extends Qa{constructor(e,t,n,r){let o=e?e.workspace.id:void 0;r&&r.getType()===Wc.types.WORKSPACE&&(o=r.getLocation().id),super(o),this.type=ga,this.blockId=null==e?void 0:e.id,this.oldNode=n||void 0,this.newNode=r,this.isCursor=t}toJson(){const e=super.toJson();if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}fromJson(e){t("Blockly.Events.MarkerMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Vh)).isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};ye(Vs.EVENT,ga,Vh);var Wh=class{constructor(e,t,n){this.workspace=e,this.marker=n,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent_=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return"cursor"===this.marker.type}createDom(){const e=this.isCursor()?"blocklyCursor":"blocklyMarker";return this.svgGroup_=A(ol.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===Wc.types.BLOCK?this.showWithBlock_(e):e.getType()===Wc.types.OUTPUT?this.showWithOutput_(e):t===$c.INPUT_VALUE?this.showWithInput_(e):t===$c.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===Wc.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===Wc.types.FIELD?this.showWithField_(e):e.getType()===Wc.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===Wc.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput_(e){const t=(e=e.getSourceBlock()).width;var n=e.height,r=.75*n;const o=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,o,r,n)):e.outputConnection?(r=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,r)):this.positionBlock_(t,o,r),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput_(e)}showWithPrevious_(e){this.showWithBlockPrevOutput_(e)}showWithOutput_(e){this.showWithBlockPrevOutput_(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){const t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()}showWithInput_(e){const t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let n=0;t=t.getOffsetInBlock().y;const r=e.getHeightWidth().width;this.workspace.RTL&&(n=-r),this.positionLine_(n,t,r),this.setParent_(e),this.showCurrent_()}showWithStack_(e){var t=(e=e.getLocation()).getHeightWidth();const n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const r=-this.constants_.CURSOR_STACK_PADDING/2,o=-this.constants_.CURSOR_STACK_PADDING/2;let i=r;this.workspace.RTL&&(i=-(n+r)),this.positionRect_(i,o,n,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,n){if(e=ar(-t,n)+ur("V",-t)+ur("H",e+2*t)+ur("V",n),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=sr(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,n){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${n}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,n){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=ar(e,0)+ur("h",-(e-n.width))+ur("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+ur("V",t)+ur("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,n,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=ar(-t,n)+ur("V",-t)+ur("H",this.constants_.NOTCH_OFFSET_LEFT)+r.pathLeft+ur("H",e+2*t)+ur("V",n),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,n,r){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${n}`),this.markerSvgRect_.setAttribute("height",`${r}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl_(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent_(e,t){const n=t.getSourceBlock();e=new(ze(ga))(n,this.isCursor(),e,t),Le(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=A(ol.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=A(ol.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=A(ol.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=A(ol.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=A(ol.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();A(ol.ANIMATE,e,this.markerSvgLine_),A(ol.ANIMATE,e,this.markerInput_),A(ol.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&P(this.svgGroup_)}},zh=class{constructor(e,t,n){this.markerSvg=this.cursorSvg=null,this.constants=n,this.style=t,this.svgRoot=e,this.svgPath=A(ol.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?N(this.svgRoot,e):D(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}},Zh="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",Xh=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,w(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections()}dispose(){this.availableConnections.length=0,Be();try{this.firstMarker&&this.firstMarker.dispose(),this.lastMarker&&this.lastMarker.dispose()}finally{Fe()}}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){Be(),this.hidePreview(),Fe();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const n=e.isSuperior()?t:e;Ur(n.getSourceBlock()),this.topBlock.getRootBlock().bringToFront()}}}update(e,t){const n=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!n,t))||this.shouldUpdatePreviews(n,e))&&(Be(),this.maybeHidePreview(n),this.maybeShowPreview(n),Fe())}createMarkerBlock(e){var t=e.type;let n;Be();try{if(n=this.workspace.newBlock(t),n.setInsertionMarker(!0),e.saveExtraState){var r=e.saveExtraState();r&&n.loadExtraState&&n.loadExtraState(r)}else if(e.mutationToDom){const t=e.mutationToDom();t&&n.domToMutation&&n.domToMutation(t)}for(t=0;t<e.inputList.length;t++){const o=e.inputList[t];if(o.name===Uc)continue;const i=n.inputList[t];if(!i)throw Error(Zh.replace("%1","an input"));for(r=0;r<o.fieldRow.length;r++){const e=o.fieldRow[r],t=i.fieldRow[r];if(!t)throw Error(Zh.replace("%1","a field"));t.setValue(e.getValue())}}n.setCollapsed(e.isCollapsed()),n.setInputsInline(e.getInputsInline()),n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{Fe()}return n}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);if(t&&t!==this.topBlock.nextConnection){if(e.push(t),this.lastOnStack=t,this.lastMarker){Be();try{this.lastMarker.dispose()}finally{Fe()}}this.lastMarker=this.createMarkerBlock(t.getSourceBlock())}return e}shouldUpdatePreviews(t,n){if(!t)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:r,closest:o}=this.activeCandidate;if(o===t.closest&&r===t.local)return!1;const i=r.x+n.x-o.x;return n=r.y+n.y-o.y,t.radius<Math.sqrt(i*i+n*n)-e.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),n=null;for(let r=0;r<this.availableConnections.length;r++){const o=this.availableConnections[r],i=o.closest(t,e);i.connection&&(n={closest:i.connection,local:o,radius:i.radius},t=i.radius)}return n}getStartRadius(){return this.activeCandidate?e.config$$module$build$src$core$config.connectingSnapRadius:e.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return!(!t||!this.workspace.getComponentManager().hasCapability(t.id,Cc.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock,e)}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t,n=e.closest;n===(null==(t=this.activeCandidate)?void 0:t.closest)||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case Xh.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case Xh.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case Xh.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(e){if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}}else this.hidePreview();this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=null==(e=this.activeCandidate)?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:n}=e;let r,o=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");try{r=o.getMatchingConnection(t.getSourceBlock(),t)}catch(n){if(this.firstMarker=this.createMarkerBlock(this.topBlock),o=e?this.lastMarker:this.firstMarker,!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");r=o.getMatchingConnection(t.getSourceBlock(),t)}if(!r)throw Error("Cannot show the insertion marker because there is no associated connection");if(r===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),r&&n&&o.positionNearConnection(r,n),n&&r.connect(n),this.markerConnection=r}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),n=t.previousConnection,r=t.outputConnection,o=e===t.nextConnection;if(r=e.type===$c.INPUT_VALUE&&!(r&&r.targetConnection),o&&(!n||!n.targetConnection)||r?e.targetBlock().unplug(!1):e.type!==$c.NEXT_STATEMENT||o?t.unplug(!0):((o=e.targetConnection)&&o.getSourceBlock().unplug(!1),n=n?n.targetConnection:null,t.unplug(!0),n&&o&&n.connect(o)),e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}};!function(e){(e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}))[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"}(Xh||(Xh={}));var Yh=Xh.PREVIEW_TYPE,Kh={};Kh.InsertionMarkerManager=Xh,Kh.PreviewType=Yh;var Jh=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new $h}makeRenderInfo_(e){return new Hh(this,e)}makeDrawer_(e,t){return new jh(e,t)}makeDebugger_(){return new Gh(this.getConstants())}makeMarkerDrawer(e,t){return new Wh(e,this.getConstants(),t)}makePathObject(e,t){return new zh(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,n){return!!Fc.getConnectionForOrphanedConnection(e,n===$c.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,n){return t.type===$c.OUTPUT_VALUE||t.type===$c.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),t.type)?Xh.PREVIEW_TYPE.INSERTION_MARKER:Xh.PREVIEW_TYPE.REPLACEMENT_FADE:Xh.PREVIEW_TYPE.INSERTION_MARKER}render(e){xo()&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},qh={};qh.BottomRow=vh,qh.Connection=bh,qh.ConstantProvider=$h,qh.Debug=Gh,qh.Drawer=jh,qh.ExternalValueInput=yh,qh.Field=Th,qh.Hat=wh,qh.Icon=Sh,qh.InRowSpacer=Ch,qh.InlineInput=Ih,qh.InputConnection=Eh,qh.InputRow=Rh,qh.JaggedEdge=Mh,qh.MarkerSvg=Wh,qh.Measurable=mh,qh.NextConnection=Oh,qh.OutputConnection=xh,qh.PathObject=zh,qh.PreviousConnection=Ah,qh.RenderInfo=Hh,qh.Renderer=Jh,qh.RoundCorner=Nh,qh.Row=_h,qh.SpacerRow=Lh,qh.SquareCorner=Dh,qh.StatementInput=kh,qh.TopRow=Ph,qh.Types=gh,qh.init=Lo,qh.register=No,qh.stopDebugger=function(){t("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Ao()},qh.unregister=function(e){we(Vs.RENDERER,e)};var Qh=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&D(e,t),(t=this.theme.getClassName())&&N(e,t));for(let e,t=0;e=this.subscribedWorkspaces_[t];t++)e.refreshTheme();for(const[n,r]of this.componentDB)for(const o of r){e=o.element,t=o.propertyName;const r=this.theme&&this.theme.getComponentStyle(n);e.style[t]=r||""}for(const e of this.subscribedWorkspaces_)e.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!rr(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,n){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:n}),t=this.theme&&this.theme.getComponentStyle(t),e.style[n]=t||""}unsubscribe(e){if(e)for(const[t,n]of this.componentDB){for(let t=n.length-1;0<=t;t--)n[t].element===e&&n.splice(t,1);n.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_=this.theme=this.owner_=null,this.componentDB.clear()}},ed="VARIABLE_DYNAMIC",td={};td.CATEGORY_NAME=ed,td.flyoutCategory=Bo,td.flyoutCategoryBlocks=Fo,td.onCreateVariableButtonClick_Colour=$o,td.onCreateVariableButtonClick_Number=Po,td.onCreateVariableButtonClick_String=Do;var nd=class{canConnect(e,t,n,r){return this.canConnectWithReason(e,t,n,r)===Fc.CAN_CONNECT}canConnectWithReason(e,t,n,r){const o=this.doSafetyChecks(e,t);return o!==Fc.CAN_CONNECT?o:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,r||0)?Fc.REASON_DRAG_CHECKS_FAILED:Fc.CAN_CONNECT:Fc.REASON_CHECKS_FAILED}getErrorMessage(e,t,n){switch(e){case Fc.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Fc.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Fc.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Fc.REASON_TARGET_NULL:return"Target connection is null.";case Fc.REASON_CHECKS_FAILED:return"Connection checks failed. "+t+" expected "+t.getCheck()+", found "+n.getCheck();case Fc.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Fc.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Fc.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return Fc.REASON_TARGET_NULL;let n,r,o;return e.isSuperior()?(n=e.getSourceBlock(),r=t.getSourceBlock(),o=t):(r=e.getSourceBlock(),n=t.getSourceBlock(),o=e,e=t),n===r?Fc.REASON_SELF_CONNECTION:o.type!==au[e.type]?Fc.REASON_WRONG_TYPE:n.workspace!==r.workspace?Fc.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!r.isShadow()?Fc.REASON_SHADOW_PARENT:o.type===$c.OUTPUT_VALUE&&r.previousConnection&&r.previousConnection.isConnected()||o.type===$c.PREVIOUS_STATEMENT&&r.outputConnection&&r.outputConnection.isConnected()?Fc.REASON_PREVIOUS_AND_OUTPUT:Fc.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}doDragChecks(e,t,n){if(e.distanceFrom(t)>n||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case $c.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case $c.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case $c.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case $c.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection)return!1;break;default:return!1}return-1===is.indexOf(t)}canConnectToPrevious_(e,t){return!(e.targetConnection||-1!==is.indexOf(t)||t.targetConnection&&(!(e=t.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))}};ye(Vs.CONNECTION_CHECKER,Hs,nd);var rd=class extends za{constructor(e){super(e),this.type=ca,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(!this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){t("Blockly.Events.VarDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new rd)).varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};ye(Vs.EVENT,ca,rd);var od=class extends za{constructor(e,t){super(e),this.type=ua,e&&(this.oldName=e.name,this.newName=void 0===t?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}fromJson(e){t("Blockly.Events.VarRename.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldName=e.oldName,this.newName=e.newName}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new od)).oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};ye(Vs.EVENT,ua,od);var id=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){this.variableMap.clear()}renameVariable(e,t){if(e.name!==t){var n=this.getVariable(t,e.type),r=this.workspace.getAllBlocks(!1);je(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,n,r):this.renameVariableAndUses_(e,t,r)}finally{je(!1)}}}renameVariableById(e,t){const n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)}renameVariableAndUses_(e,t,n){for(Le(new(ze(ua))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)}renameVariableWithConflict_(e,t,n,r){const o=e.type;for(t!==n.name&&this.renameVariableAndUses_(n,t,r),t=0;t<r.length;t++)r[t].renameVarById(e.getId(),n.getId());Le(new(ze(ca))(e)),rr(this.variableMap.get(o),e)}createVariable(e,t,n){var r=this.getVariable(e,t);if(r){if(n&&r.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+r.getId()+'" which conflicts with the passed in id, "'+n+'".');return r}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return r=n||xe(),t=t||"",r=new Ja(this.workspace,e,t,r),(e=this.variableMap.get(t)||[]).push(r),this.variableMap.delete(t),this.variableMap.set(t,e),Le(new(ze(la))(r)),r}deleteVariable(e){const t=e.getId(),n=this.variableMap.get(e.type);if(n)for(let r=0;r<n.length;r++)if(n[r].getId()===t){n.splice(r,1),Le(new(ze(ca))(e));break}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var n=t.name;const r=this.getVariableUsesById(e);for(let t,o=0;t=r[o];o++)if("procedures_defnoreturn"===t.type||"procedures_defreturn"===t.type)return e=String(t.getFieldValue("NAME")),n=Ba.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",e),void qe(n);1<r.length?(n=Ba.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",n),Qe(n,(e=>{e&&t&&this.deleteVariableInternal(t,r)}))):this.deleteVariableInternal(t,r)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const n=Ge();n||je(!0);try{for(let e=0;e<t.length;e++)t[e].dispose(!0);this.deleteVariable(e)}finally{n||je(!1)}}getVariable(e,t){if(t=this.variableMap.get(t||""))for(let n,r=0;n=t[r];r++)if(ch.equals(n.name,e))return n;return null}getVariableById(e){for(const[,t]of this.variableMap)for(const n of t)if(n.getId()===e)return n;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const n of e.getPotentialVariableMap().variableMap.keys())t.add(n);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map((e=>e.name))}getVariableUsesById(e){const t=[],n=this.workspace.getAllBlocks(!1);for(let r=0;r<n.length;r++){const o=n[r].getVarModels();if(o)for(let i=0;i<o.length;i++)o[i].getId()===e&&t.push(n[r])}return t}},sd=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new dh(this),this.potentialVariableMap=null,this.id=xe(),v(this),this.options=e||new _c({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(Me(Vs.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new id(this)}dispose(){this.listeners.length=0,this.clear(),b(this)}sortObjects_(e,t){return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+sd.prototype.sortObjects_.offset*e.x-(t.y+sd.prototype.sortObjects_.offset*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!rr(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e){const t=[].concat(this.topBlocks);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin(W(sd.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){rr(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&(this.sortObjects_.offset=Math.sin(W(sd.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e.filter((function(e){return!e.isInsertionMarker()}))):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!rr(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e){const t=[].concat(this.topComments);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin(W(sd.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t}getAllBlocks(e){if(e){var t=this.getTopBlocks(!0);e=[];for(let n=0;n<t.length;n++)e.push(...t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter((function(e){return!e.isInsertionMarker()}))}clear(){this.isClearing=!0;try{const e=Ge();for(e||je(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();e||je(!1),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,n){return this.variableMap.createVariable(e,t,n)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const n in e){if(e[n]>this.remainingCapacityOfType(n))return!1;t+=e[n]}return!(t>this.remainingCapacity())}hasBlockLimits(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_;const r=t.pop();if(r){for(var o=[r];t.length&&r.group&&r.group===t[t.length-1].group;)o.push(t.pop());for(t=0;t<o.length;t++)n.push(o[t]);o=Pe(o,e),Ae(!1);try{for(n=0;n<o.length;n++)o[n].run(e)}finally{Ae(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,$e()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){rr(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return null!=(t=this.commentDB.get(e))?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new id(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}static getById(e){return m(e)}static getAll(){return _()}};sd.SCAN_ANGLE=3;var ad=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var n=new globalThis.Audio}catch(e){return}for(let t=0;t<e.length;t++){const o=e[t],i=o.match(/\.(\w+)$/);if(i&&n.canPlayType("audio/"+i[1])){var r=new globalThis.Audio(o);break}}r&&this.sounds.set(t,r)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(void 0!==t?t.then(e.pause).catch((function(){})):e.pause(),Zi||Xi)break}}play(e,t){var n=this.sounds.get(e);n?(e=new Date,null!==this.lastSound_&&e.getTime()-this.lastSound_.getTime()<100||(this.lastSound_=e,(n=Zi||zi?n:n.cloneNode()).volume=void 0===t?1:t,n.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}},ld=class{constructor(e){this.workspace=e,this.id="zoomControls",this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=this.onZoomOutWrapper=this.onZoomInWrapper=this.onZoomResetWrapper=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=A(ol.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[Cc.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&P(this.svgGroup),this.onZoomResetWrapper&&h(this.onZoomResetWrapper),this.onZoomInWrapper&&h(this.onZoomInWrapper),this.onZoomOutWrapper&&h(this.onZoomOutWrapper)}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new vs(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var n,r=so(this.workspace,e),o=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(o+=this.LARGE_SPACING+this.HEIGHT),e=io(r,new Es(this.WIDTH,o),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,t=ao(e,this.MARGIN_VERTICAL,r===Eu.TOP?Tu.DOWN:Tu.UP,t),r===Eu.TOP){var i,s=this.SMALL_SPACING+this.HEIGHT;null==(i=this.zoomInGroup)||i.setAttribute("transform","translate(0, "+s+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(s+this.LARGE_SPACING+this.HEIGHT)+")")}else{let e;i=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0,null==(e=this.zoomInGroup)||e.setAttribute("transform","translate(0, "+i+")"),i=i+this.SMALL_SPACING+this.HEIGHT,null==(s=this.zoomOutGroup)||s.setAttribute("transform","translate(0, "+i+")")}this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=A(ol.G,{class:"blocklyZoom"},this.svgGroup);const t=A(ol.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);A(ol.RECT,{width:32,height:32},t),A(ol.IMAGE,{width:Iu.width,height:Iu.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Iu.url),this.onZoomOutWrapper=c(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1))}createZoomInSvg(e){this.zoomInGroup=A(ol.G,{class:"blocklyZoom"},this.svgGroup);const t=A(ol.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);A(ol.RECT,{width:32,height:32},t),A(ol.IMAGE,{width:Iu.width,height:Iu.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Iu.url),this.onZoomInWrapper=c(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),i(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=A(ol.G,{class:"blocklyZoom"},this.svgGroup);const t=A(ol.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);A(ol.RECT,{width:32,height:32},t),A(ol.IMAGE,{width:Iu.width,height:Iu.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Iu.url),this.onZoomResetWrapper=c(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),i(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(ze(fa))(null,this.workspace.id,"zoom_controls");Le(e)}};mt("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var cd=class extends sd{constructor(t,n,r){let o;super(t),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.workspaceDragSurface=this.blockDragSurface=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.isDragSurfaceActive=!1,this.inverseScreenCTM=this.targetWorkspace=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=null,this.metricsManager=new(Me(Vs.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=t.setMetrics||cd.setTopLevelWorkspaceMetrics_,this.componentManager=new Cc,this.connectionDBList=ah.init(this.connectionChecker),n&&(this.blockDragSurface=n),r&&(this.workspaceDragSurface=r),this.useWorkspaceDragSurface=!!this.workspaceDragSurface,this.audioManager=new ad(t.parentWorkspace),this.grid=this.options.gridPattern?new lh(this.options.gridPattern,t.gridOptions):null,this.markerManager=new dl(this),e.module$build$src$core$variables&&nt&&this.registerToolboxCategoryCallback(Xa,nt),td&&Bo&&this.registerToolboxCategoryCallback(ed,Bo),e.module$build$src$core$procedures&&Co&&(this.registerToolboxCategoryCallback(uh,Co),this.addChangeListener(ko)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Qh(this,this.options.theme||dc),this.themeManager_.subscribeWorkspace(this),this.renderer=Lo(this.options.renderer||"geras",this.getTheme(),null!=(o=this.options.rendererOverrides)?o:void 0),this.cachedParentSvgSize=new Es(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=dc),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(ze(ba))(this.getTheme().name,this.id);Le(e)}updateBlockStyles_(e){for(let t,n=0;t=e[n];n++){const e=t.getStyleName();if(e){const n=t;n.setStyle(e),n.mutator&&n.mutator.updateBlockStyle()}}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,n=0,r=1;(B(this.getCanvas(),e)||B(this.getBubbleCanvas(),e))&&(r=this.scale);do{const o=vt(e);e!==this.getCanvas()&&e!==this.getBubbleCanvas()||(r=1),t+=o.x*r,n+=o.y*r,e=e.parentNode}while(e&&e!==this.getParentSvg());return new bs(t,n)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Es(e.width,e.height)}getOriginOffsetInPixels(){return bt(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if(-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getBlockCanvas(){return this.svgBlockCanvas_}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e){return this.svgGroup_=A(ol.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=A(ol.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=A(ol.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=A(ol.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(c(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),document.body.addEventListener("wheel",(function(){})),c(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(Me(Vs.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=Me(Vs.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&P(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&P(e.parentNode)}this.resizeHandlerWrapper&&(h(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null)}addTrashcan(){this.trashcan=cd.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new ld(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new _c({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(Me(Vs.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(Me(Vs.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Cc.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),n=[];for(let r,o=0;r=e[o];o++){r.position(t,n);const e=r.getBoundingRectangle();e&&n.push(e)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=Tt();bs.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getCanvas(){return this.svgBlockCanvas_}setCachedParentSvgSize(e,t){const n=this.getParentSvg();null!=e&&(this.cachedParentSvgSize.width=e,n.setAttribute("data-cached-width",e.toString())),null!=t&&(this.cachedParentSvgSize.height=t,n.setAttribute("data-cached-height",t.toString()))}getBubbleCanvas(){return this.svgBubbleCanvas_}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if("svg"===e.tagName){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Ue()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(n-this.oldLeft))){var r=new(ze(Ea))(t,n,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=n,Le(r)}}}translate(e,t){var n;this.useWorkspaceDragSurface&&this.isDragSurfaceActive?null==(n=this.workspaceDragSurface)||n.translateSurface(e,t):(n="translate("+e+","+t+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)),this.blockDragSurface&&this.blockDragSurface.translateAndScaleGroup(e,t,this.scale),this.grid&&this.grid.moveTo(e,t),this.maybeFireViewportChangeEvent()}resetDragSurface(){if(this.useWorkspaceDragSurface){this.isDragSurfaceActive=!1;var e=this.workspaceDragSurface.getSurfaceTranslation();this.workspaceDragSurface.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}}setupDragSurface(){if(this.useWorkspaceDragSurface&&!this.isDragSurfaceActive){this.isDragSurfaceActive=!0;var e,t,n=this.svgBlockCanvas_.previousSibling,r=parseInt(null!=(e=this.getParentSvg().getAttribute("width"))?e:"0");e=parseInt(null!=(t=this.getParentSvg().getAttribute("height"))?t:"0"),t=vt(this.getCanvas()),this.workspaceDragSurface.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),n,r,e,this.scale),this.workspaceDragSurface.translateSurface(t.x,t.y)}}getBlockDragSurface(){return this.blockDragSurface}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(let t=(e=this.getAllBlocks(!1)).length-1;0<=t;t--)e[t].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager.updateMarkers()}highlightBlock(e,t){if(void 0===t){for(let e,t=0;e=this.highlightedBlocks[t];t++)e.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?-1===this.highlightedBlocks.indexOf(e)&&this.highlightedBlocks.push(e):rr(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=Ge();return t||je(!0),e=e.type?this.pasteBlock_(null,e):"comment"===e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null),je(t),e}pasteBlock_(t,n){let r;Be();try{let o=0,i=0;if(t){let e,n;r=At(t,this),o=parseInt(null!=(e=t.getAttribute("x"))?e:"0"),this.RTL&&(o=-o),i=parseInt(null!=(n=t.getAttribute("y"))?n:"0")}else n&&(r=wr(n,this),o=n.x||10,this.RTL&&(o=this.getWidth()-o),i=n.y||10);if(!isNaN(o)&&!isNaN(i)){let t;do{t=!1;const n=this.getAllBlocks(!1);for(let e,r=0;e=n[r];r++){const n=e.getRelativeToSurfaceXY();if(1>=Math.abs(o-n.x)&&1>=Math.abs(i-n.y)){t=!0;break}}if(!t){const n=r.getConnections_(!1);for(let r,s=0;r=n[s];s++)if(r.closest(e.config$$module$build$src$core$config.snapRadius,new bs(o,i)).connection){t=!0;break}}t&&(o=this.RTL?o-e.config$$module$build$src$core$config.snapRadius:o+e.config$$module$build$src$core$config.snapRadius,i+=2*e.config$$module$build$src$core$config.snapRadius)}while(t);r.moveTo(new bs(o,i))}}finally{Fe()}return Ue()&&!r.isShadow()&&Le(new(ze(oa))(r)),r.select(),r}pasteWorkspaceComment_(e){let t;Be();try{t=cl.fromXmlRendered(e,this);let n,r,o=parseInt(null!=(n=e.getAttribute("x"))?n:"0"),i=parseInt(null!=(r=e.getAttribute("y"))?r:"0");isNaN(o)||isNaN(i)||(this.RTL&&(o=-o),t.moveBy(o+50,i+50))}finally{Fe()}return Ue()&&qa.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,n){return e=super.createVariable(e,t,n),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(Cc.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t,n=0;t=e[n];n++){const e=t.getClientRect();e&&this.dragTargetAreas.push({component:t,clientRect:e})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t,n=0;t=this.dragTargetAreas[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){(e=f(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY=bs.difference(t,e)}moveDrag(e){return(e=f(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,bs.sum(this.dragDeltaXY,e)}isDragging(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(nh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var r=g(e);if(Yi)var o=e.metaKey;t&&(e.ctrlKey||o||!n)?(r=-r.y/50,t=f(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,r)):(t=this.scrollX-r.x,n=this.scrollY-r.y,e.shiftKey&&!r.x&&(t=this.scrollX-r.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new vs(0,0,0,0);const t=e[0].getBoundingRectangle();for(let r=1;r<e.length;r++){var n=e[r];n.isInsertionMarker&&n.isInsertionMarker()||((n=n.getBoundingRectangle()).top<t.top&&(t.top=n.top),n.bottom>t.bottom&&(t.bottom=n.bottom),n.left<t.left&&(t.left=n.left),n.right>t.right&&(t.right=n.right))}return t}cleanUp(){this.setResizesEnabled(!1),je(!0);const e=this.getTopBlocks(!0);let t=0;for(let n,r=0;n=e[r];r++){if(!n.isMovable())continue;const e=n.getRelativeToSurfaceXY();n.moveBy(-e.x,t-e.y),n.snapToGrid(),t=n.getRelativeToSurfaceXY().y+n.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}je(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=ru.registry.getContextMenuOptions(ru.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Kr(e,t,this.RTL)}}updateToolbox(e){if(e=$n(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Un(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(y(this),this.setBrowserFocus())}setBrowserFocus(){document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentElement.setActive()}catch(e){this.getParentSvg().parentElement.focus({preventScroll:!0})}}}zoom(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);const r=this.scale*n;if(this.scale!==r){r>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:r<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var o=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=t,e=(i=i.matrixTransform(o.inverse())).x,t=i.y,o=o.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=o.e,this.scrollY=o.f,this.setScale(r)}}zoomCenter(e){var t=this.getMetrics();let n;this.flyout?(n=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(n,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),r=n.right-n.left+40;if(n=n.bottom-n.top+40,r){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),n+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),r+=this.flyout.getWidth()/this.scale)),t/=r,e/=n,Be();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{Fe()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){N(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),N(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}endCanvasTransition(){D(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),D(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),r=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*r,t=(t.y+n.height/2)*r,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);const r=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-r),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e){return super.getAllBlocks(e)}getTopBlocks(e){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){rr(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return null!=(t=this.flyoutButtonCallbacks.get(e))?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t="pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new nh(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e){tn(),wn(),be();const t=!!e;this.getComponentManager().getComponents(Cc.Capability.AUTOHIDEABLE,!0).forEach((e=>e.autoHide(t)))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},ud={};ud.WorkspaceSvg=cd,ud.resizeSvgContents=Uo;var hd={load:function(e,t,{recordUndo:n=!1}={}){var r=Re(Vs.SERIALIZER,!0);if(r){r=Object.entries(r).sort(((e,t)=>t[1].priority-e[1].priority));var o=Ne();Ae(n),(n=Ge())||je(!0),U(),t instanceof cd&&t.setResizesEnabled(!1);for(const[,e]of r.reverse()){let n;null==(n=e)||n.clear(t)}for(let[n,o]of r.reverse())if(e[n]){let r;null==(r=o)||r.load(e[n],t)}t instanceof cd&&t.setResizesEnabled(!0),G(),Le(new(ze(Ca))(t)),je(n),Ae(o)}},save:function(e){const t=Object.create(null),n=Re(Vs.SERIALIZER,!0);for(const r in n){let o;const i=null==(o=n[r])?void 0:o.save(e);i&&(t[r]=i)}return t}},dd=class{constructor(){this.priority=100}save(e){const t=[];for(const n of e.getAllVariables())e={name:n.name,id:n.getId()},n.type&&(e.type=n.type),t.push(e);return t.length?t:null}load(e,t){for(const n of e)t.createVariable(n.name,n.type,n.id)}clear(e){e.getVariableMap().clear()}};pr("variables",new dd);var pd={};pd.VariableSerializer=dd;var fd=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=75}save(e){return e.getProcedureMap().getProcedures().map((e=>Go(e)))}load(e,t){const n=t.getProcedureMap();for(const r of e)n.add(Ho(this.procedureModelClass,this.parameterModelClass,r,t))}clear(e){e.getProcedureMap().clear()}},gd=new fd(ph,fh),md={};md.ProcedureSerializer=fd,md.loadParameter=Vo,md.loadProcedure=Ho,md.observableProcedureSerializer=gd,md.saveParameter=jo,md.saveProcedure=Go;var _d={blocks:Dc,exceptions:xc,priorities:Ac,procedures:md,registry:Nc,variables:pd,workspaces:hd},vd=class extends $h{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter_=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter_&&P(this.selectedGlowFilter_),this.replacementGlowFilter_&&P(this.replacementGlowFilter_)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:ir("c",[or(25,-e),or(71,-e),or(t,0)])}}makeHexagonal(){function e(e,n,r){var o=e/2;return lr(-(r=r?-1:1)*(o=o>t?t:o),e=(n?-1:1)*e/2)+lr(r*o,e)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeRounded(){function e(e,t,r){const o=e>n?e-n:0;return hr("a","0 0,1",e=(e>n?n:e)/2,or((t?-1:1)*e,(t?-1:1)*e))+ur("v",(r?1:-1)*o)+hr("a","0 0,1",e,or((t?1:-1)*e,(t?-1:1)*e))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeSquared(){function e(e,n,r){return e-=2*t,hr("a","0 0,1",t,or((n?-1:1)*t,(n?-1:1)*t))+ur("v",(r?1:-1)*e)+hr("a","0 0,1",t,or((n?1:-1)*t,(n?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:e=>t,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case $c.INPUT_VALUE:case $c.OUTPUT_VALUE:if(null!==(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&-1!==t.indexOf("Boolean")?this.HEXAGONAL:(t&&-1!==t.indexOf("Number")||t&&t.indexOf("String"),this.ROUNDED);case $c.PREVIOUS_STATEMENT:case $c.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(e){return ir("c",[or(e*o/2,0),or(e*o*3/4,s/2),or(e*o,s)])+cr([or(e*o,i)])+ir("c",[or(e*o/4,s/2),or(e*o/2,s),or(e*o,s)])+ur("h",e*r)+ir("c",[or(e*o/2,0),or(e*o*3/4,-s/2),or(e*o,-s)])+cr([or(e*o,-i)])+ir("c",[or(e*o/4,-s/2),or(e*o/2,-s),or(e*o,-s)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=t/3,o=r/3,i=n/2,s=i/2,a=e(1),l=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:a,pathRight:l}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=hr("a","0 0,0",e,or(-e,e)),n=hr("a","0 0,1",e,or(-e,e));return{width:e,height:e,pathTop:t,pathBottom:hr("a","0 0,0",e,or(e,e)),rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:hr("a","0 0,1",e,or(e,e))}}generateSecondaryColour_(e){return pn("#000",e,.15)||e}generateTertiaryColour_(e){return pn("#000",e,.25)||e}createDom(e,t,n){super.createDom(e,t,n),e=A(ol.DEFS,{},e),t=A(ol.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),A(ol.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),n=A(ol.FECOMPONENTTRANSFER,{result:"outBlur"},t),A(ol.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),A(ol.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),A(ol.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter_=t,e=A(ol.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),A(ol.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=A(ol.FECOMPONENTTRANSFER,{result:"outBlur"},e),A(ol.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),A(ol.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),A(ol.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),A(ol.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},bd=class extends jh{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;if(e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),xo()){let e,t;null==(e=this.block_)||null==(t=e.renderingDebugger)||t.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height))if(gh.isSpacer(e)&&(e.precedesStatement||e.followsStatement)){var t=this.constants_.INSIDE_CORNERS.rightHeight;t=e.height-(e.precedesStatement?t:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<t?ur("V",e.yPos+t):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=ur("V",e.yPos+e.height)}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=ar(e.xPos,this.info_.startY),this.outlinePath_+=ur("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=ur("V",e.baseline),this.outlinePath_+=ur("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var n=e.width-2*e.connectionWidth;e=sr(e.xPos+e.connectionWidth,e.centerline-e.height/2)+ur("h",n)+e.shape.pathRightDown(e.height)+ur("h",-n)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(t,e)}}drawStatementInput_(e){var t=e.getLastInput();const n=t.xPos+t.notchOffset+t.shape.width,r=t.shape.pathRight+ur("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,o=e.height-2*this.constants_.INSIDE_CORNERS.height;t=this.constants_.INSIDE_CORNERS.pathBottom+ur("h",t.notchOffset-this.constants_.INSIDE_CORNERS.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=ur("H",n)+r+ur("v",o)+t+ur("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}};e.FieldImage$$module$build$src$core$field_image=class extends jl{constructor(t,n,r,o,i,s,a){if(super(jl.SKIP_SETUP),this.imageElement_=this.clickHandler_=null,this.flipRtl_=this.isDirty_=this.EDITABLE=!1,this.altText_="",r=Number(_n(r)),n=Number(_n(n)),isNaN(r)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Es(n,r+e.FieldImage$$module$build$src$core$field_image.Y_PADDING),this.imageHeight_=r,"function"==typeof i&&(this.clickHandler_=i),t!==jl.SKIP_SETUP&&(a?this.configure_(a):(this.flipRtl_=!!s,this.altText_=_n(o)||""),this.setValue(_n(t)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl_=e.flipRtl),e.alt&&(this.altText_=_n(e.alt))}initView(){this.imageElement_=A(ol.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(ds,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return"string"!=typeof e?null:e}doValueUpdate_(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(ds,"xlink:href",String(this.value_))}getFlipRtl(){return this.flipRtl_}setAlt(e){e!==this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))}showEditor_(){this.clickHandler_&&this.clickHandler_(this)}setOnClickHandler(e){this.clickHandler_=e}getText_(){return this.altText_}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}},e.FieldImage$$module$build$src$core$field_image.Y_PADDING=1,On("field_image",e.FieldImage$$module$build$src$core$field_image),e.FieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE="",e.FieldImage$$module$build$src$core$field_image;var Ed=class extends jl{constructor(e,t,n){super(jl.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==jl.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),void 0!==e.spellcheck&&(this.spellcheck_=e.spellcheck)}initView(){const e=this.getSourceBlock();if(!e)throw new Hl;if(this.getConstants().FULL_BLOCK_FIELDS){let t=0,n=0;for(let r,o=0;r=e.inputList[o];o++){for(let e=0;r.fieldRow[e];e++)t++;r.connection&&n++}this.fullBlockClickTarget_=1>=t&&e.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()}doClassValidation_(e){return null==e?null:String(e)}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&Ue()&&Le(new(ze(sa))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){if(this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS){var e=this.sourceBlock_;this.borderRect_?this.borderRect_.setAttribute("stroke",e.style.colourTertiary):e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)}}render_(){if(super.render_(),this.isBeingEdited_){this.resizeEditor_();const e=this.htmlInput_;this.isTextValid_?(D(e,"blocklyInvalidInput"),Nn(e,Xl.INVALID,!1)):(N(e,"blocklyInvalidInput"),Nn(e,Xl.INVALID,!0))}}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t){this.workspace_=this.sourceBlock_.workspace,!(e=t||!1)&&this.workspace_.options.modalInputs&&(Ki||zi||Zi)?this.showPromptEditor_():this.showInlineEditor_(e)}showPromptEditor_(){et(Ba.CHANGE_VALUE_TITLE,this.getText(),(e=>{null!==e&&this.setValue(this.getValueFromEditorText_(e))}))}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new Hl;Tn(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Hl;je(!0);const t=En();var n=this.getClickTarget_();if(!n)throw Error("A click target has not been set.");N(n,"editing"),(n=document.createElement("input")).className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);const r=this.workspace_.getScale();var o=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";return t.style.fontSize=o,n.style.fontSize=o,o=Ed.BORDERRADIUS*r+"px",this.fullBlockClickTarget_&&(o=((o=this.getScaledBBox()).bottom-o.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,n.style.border=1*r+"px solid "+e,t.style.borderRadius=o,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*r+"px")),n.style.borderRadius=o,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",this.value_),this.resizeEditor_(),this.bindInputEvents_(n),n}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),je(!1),this.unbindInputEvents_();var e=En().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,!(e=this.getClickTarget_()))throw Error("A click target has not been set.");D(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=c(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=c(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(h(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(h(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.keyCode===Jl.ENTER?(wn(),be()):e.keyCode===Jl.ESC?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value")),wn(),be()):e.keyCode===Jl.TAB&&(wn(),be(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){this.setValue(this.getValueFromEditorText_(this.htmlInput_.value))}setEditorValue_(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new Hl;const t=En(),n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",e=new bs(e.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return String(e)}getValueFromEditorText_(e){return e}};Ed.BORDERRADIUS=4,e.FieldTextInput$$module$build$src$core$field_textinput=class extends Ed{constructor(e,t,n){super(e,t,n)}static fromJson(e){return new this(_n(e.text),void 0,e)}},On("field_input",e.FieldTextInput$$module$build$src$core$field_textinput),e.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",e.FieldTextInput$$module$build$src$core$field_textinput;var yd=class extends vh{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Td=class extends kh{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},wd=class extends mh{constructor(e){super(e),this.width=this.height=0,this.type|=gh.getType("RIGHT_CONNECTION")}},Sd=class extends Ph{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Cd=class extends Hh{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new Sd(this.constants_),this.bottomRow=new yd(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new wd(this.constants_):null,this.rightAlignedDummyInputs_=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return!!t&&(e.type===Ks.STATEMENT||t.type===Ks.STATEMENT||(e.type===Ks.VALUE||e.type===Ks.DUMMY)&&(!this.isInline||this.isMultiRow))}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&gh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&gh.isLeftRoundedCorner(e)&&t&&(gh.isPreviousConnection(t)||gh.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&gh.isLeftSquareCorner(e)&&t&&gh.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(gh.isTopRow(e)&&gh.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const n=gh.isInputRow(e)&&e.hasStatement,r=gh.isInputRow(t)&&t.hasStatement;return r||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),r&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):gh.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):gh.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const n=this.width-this.startX;return gh.isInputRow(e)&&e.hasStatement||gh.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n}getElemCenterline_(e,t){if(e.hasStatement&&!gh.isSpacer(t)&&!gh.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(gh.isInlineInput(t)&&t instanceof Eh){const n=t.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return super.getElemCenterline_(e,t)}addInput_(t,n){if(t.type===Ks.DUMMY&&n.hasDummyInput&&n.align===e.Align$$module$build$src$core$input.LEFT&&t.align===e.Align$$module$build$src$core$input.RIGHT)this.rightAlignedDummyInputs_.set(n,t);else if(t.type===Ks.STATEMENT)return n.elements.push(new Td(this.constants_,t)),n.hasStatement=!0,void(null===n.align&&(n.align=t.align));super.addInput_(t,n)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs_.get(e)){let n;for(let t=0;t<e.elements.length;t++){const r=e.elements[t];if(gh.isSpacer(r)&&(n=r),gh.isField(r)&&r instanceof Th&&r.parentInput===this.rightAlignedDummyInputs_.get(e))break}if(n)return n.width+=t,void(e.width+=t)}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let n=t;for(let i=2;i<this.rows.length-1;i+=2){var r=this.rows[i-1];const s=this.rows[i];var o=this.rows[i+1];if(r=2===i?!!this.topRow.hasPreviousConnection:!!r.followsStatement,o=i+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!o.precedesStatement,gh.isInputRow(s)&&s.hasStatement){let e,r;s.measure(),n=s.width-(null!=(r=null==(e=s.getLastInput())?void 0:e.width)?r:0)+t}else if(r&&(2===i||o)&&gh.isInputRow(s)&&!s.hasStatement){o=s.xPos,r=null;for(let t=0;t<s.elements.length;t++){const i=s.elements[t];gh.isSpacer(i)&&(r=i),r&&(gh.isField(i)||gh.isInput(i))&&o<n&&!(gh.isField(i)&&i instanceof Th&&(i.field instanceof e.FieldLabel$$module$build$src$core$field_label||i.field instanceof e.FieldImage$$module$build$src$core$field_image))&&(r.width+=n-o),o+=i.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,n=0;n<this.rows.length;n++){const e=this.rows[n];e.yPos=t,t+=e.height}this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(n),n=e.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(!gh.isInputRow(n))continue;e=n.elements[n.elements.length-2];let r=this.getNegativeSpacing_(n.elements[1]),o=this.getNegativeSpacing_(e);e=r+o;const i=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<i&&(r=(e=this.width-i)/2,o=e/2),n.elements.unshift(new Ch(this.constants_,-r)),n.elements.push(new Ch(this.constants_,-o))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],gh.isTopOrBottomRow(n)&&(n.elements[1].width-=e),n.width-=e,n.widthWithConnectedBlocks-=e}}getNegativeSpacing_(t){if(!t||!this.outputConnection)return 0;const n=this.outputConnection.width;var r=this.outputConnection.shape.type;const o=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return r===o.SHAPES.ROUND?(r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n-(r=this.height/2>r?r:this.height/2)*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)))):0;if(gh.isInlineInput(t)&&t instanceof Eh){const e=t.connectedBlock;return null==(t=e?e.pathObject.outputShapeType:t.shape.type)||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||r===o.SHAPES.HEXAGONAL&&r!==t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][t]}return gh.isField(t)&&t instanceof Th?r===o.SHAPES.ROUND&&t.field instanceof e.FieldTextInput$$module$build$src$core$field_textinput?n-2.75*o.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:gh.isIcon(t)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let o=2;o<this.rows.length-1;o+=2){const i=this.rows[o-1],s=this.rows[o],a=this.rows[o+1];var t=2===o,n=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement;if(t?this.topRow.hasPreviousConnection:i.followsStatement){var r=s.elements[1];if(r=3===s.elements.length&&r instanceof Th&&(r.field instanceof e.FieldLabel$$module$build$src$core$field_label||r.field instanceof e.FieldImage$$module$build$src$core$field_image),!t&&r)i.height-=this.constants_.SMALL_PADDING,a.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.MEDIUM_PADDING;else if(t||n){if(n){for(t=!1,n=0;n<s.elements.length;n++)if((r=s.elements[n])instanceof Eh&&gh.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&40<=r.connectedBlock.getHeightWidth().height){t=!0;break}t&&(i.height-=this.constants_.SMALL_PADDING,a.height-=this.constants_.SMALL_PADDING)}}else i.height+=this.constants_.SMALL_PADDING}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Id=class extends Wh{constructor(e,t,n){super(e,t,n),this.markerCircle_=null}showWithInputOutput_(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput_(e)}showWithInput_(e){this.showWithInputOutput_(e)}showWithBlock_(e){const t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle_(e,t){let n,r;null==(n=this.markerCircle_)||n.setAttribute("cx",e.toString()),null==(r=this.markerCircle_)||r.setAttribute("cy",t.toString()),this.currentMarkerSvg=this.markerCircle_}hide(){super.hide(),this.markerCircle_&&(this.markerCircle_.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle_=A(ol.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();A(ol.ANIMATE,e,this.markerCircle_)}return this.markerSvg_}applyColour_(e){let t,n;if(super.applyColour_(e),null==(t=this.markerCircle_)||t.setAttribute("fill",this.colour_),null==(n=this.markerCircle_)||n.setAttribute("stroke",this.colour_),this.isCursor()){let t;e=this.colour_+";transparent;transparent;",null==(t=this.markerCircle_)||t.firstElementChild.setAttribute("values",e)}}},kd=class extends zh{constructor(e,t,n){super(e,t,n),this.svgPathSelected_=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=n}setPath(e){super.setPath(e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const e of this.outlines.values())e.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath_(e);this.remainingOutlines.clear()}setOutlinePath(e,t){(e=this.getOutlinePath_(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath_(e){return this.outlines.has(e)||this.outlines.set(e,A(ol.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath_(e){let t,n;null==(t=this.outlines.get(e))||null==(n=t.parentNode)||n.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},Rd=class extends Jh{constructor(e){super(e)}makeConstants_(){return new vd}makeRenderInfo_(e){return new Cd(this,e)}makeDrawer_(e,t){return new bd(e,t)}makeMarkerDrawer(e,t){return new Id(e,this.getConstants(),t)}makePathObject(e,t){return new kd(e,t,this.getConstants())}getConstants(){return this.constants_}shouldHighlightConnection(e){return e.type!==$c.INPUT_VALUE&&e.type!==$c.OUTPUT_VALUE}getConnectionPreviewMethod(e,t,n){return t.type===$c.OUTPUT_VALUE?e.isConnected()?Xh.PREVIEW_TYPE.REPLACEMENT_FADE:Xh.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,n)}};No("zelos",Rd);var Md={};Md.BottomRow=yd,Md.ConstantProvider=vd,Md.Drawer=bd,Md.MarkerSvg=Id,Md.PathObject=kd,Md.RenderInfo=Cd,Md.Renderer=Rd,Md.RightConnectionShape=wd,Md.StatementInput=Td,Md.TopRow=Sd;var Od=class extends Hh{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const r=this.rows[t];var n=r.elements;if(r.elements=[],r.startsWithElemSpacer()&&r.elements.push(new Ch(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(let e=0;e<n.length-1;e++){r.elements.push(n[e]);const t=this.getInRowSpacing_(n[e],n[e+1]);r.elements.push(new Ch(this.constants_,t))}r.elements.push(n[n.length-1]),r.endsWithElemSpacer()&&(n=this.getInRowSpacing_(n[n.length-1],null),e&&r.hasDummyInput&&(n+=this.constants_.TAB_WIDTH),r.elements.push(new Ch(this.constants_,n)))}}}getInRowSpacing_(e,t){if(!e)return t&&gh.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&gh.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&gh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!gh.isInput(e)&&!t)return gh.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:gh.isIcon(e)?2*this.constants_.LARGE_PADDING+1:gh.isHat(e)?this.constants_.NO_PADDING:gh.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:gh.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:gh.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(gh.isInput(e)&&!t){if(gh.isExternalInput(e))return this.constants_.NO_PADDING;if(gh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(gh.isStatementInput(e))return this.constants_.NO_PADDING}if(!gh.isInput(e)&&t&&gh.isInput(t)){if(gh.isField(e)&&e.isEditable){if(gh.isInlineInput(t)||gh.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(gh.isInlineInput(t)||gh.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(gh.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(gh.isIcon(e)&&t&&!gh.isInput(t))return this.constants_.LARGE_PADDING;if(gh.isInlineInput(e)&&t&&gh.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(gh.isLeftSquareCorner(e)&&t){if(gh.isHat(t))return this.constants_.NO_PADDING;if(gh.isPreviousConnection(t)||gh.isNextConnection(t))return t.notchOffset}return gh.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:gh.isField(e)&&t&&gh.isField(t)&&e.isEditable===t.isEditable||t&&gh.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return gh.isTopRow(e)&&gh.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:gh.isTopRow(e)||gh.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(gh.isSpacer(t))return e.yPos+t.height/2;if(gh.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,gh.isNextConnection(t)?e+t.height/2:e-t.height/2;if(gh.isTopRow(e))return gh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return gh.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2}finalize_(){let e=0,t=0;for(var n=0;n<this.rows.length;n++){const o=this.rows[n];o.yPos=t,o.xPos=this.startX,t+=o.height,e=Math.max(e,o.widthWithConnectedBlocks);var r=t-this.topRow.ascenderHeight;o===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,t+=r),this.recordElemPositions_(o)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},xd=class extends Jh{constructor(e){super(e)}makeRenderInfo_(e){return new Od(this,e)}};No("thrasos",xd);var Ad={};Ad.RenderInfo=Od,Ad.Renderer=xd;var Nd=class extends $h{constructor(){super()}},Ld=class extends jh{constructor(e,t){super(e,t)}},Dd=class extends Hh{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}},Pd=class extends Jh{constructor(e){super(e)}makeConstants_(){return new Nd}makeRenderInfo_(e){return new Dd(this,e)}makeDrawer_(e,t){return new Ld(e,t)}};No("minimalist",Pd);var $d={};$d.ConstantProvider=Nd,$d.Drawer=Ld,$d.RenderInfo=Dd,$d.Renderer=Pd;var Bd=class extends $h{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Fd=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+"\n"+this.inlineSteps_}drawTopCorner(e){this.steps_+=ar(e.xPos,this.info_.startY);for(let t,n=0;t=e.elements[n];n++)gh.isLeftSquareCorner(t)?this.steps_+=this.highlightConstants_.START_POINT:gh.isLeftRoundedCorner(t)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):gh.isPreviousConnection(t)?this.steps_+=this.notchPaths_.pathLeft:gh.isHat(t)?this.steps_+=this.startPaths_.path(this.RTL_):gh.isSpacer(t)&&0!==t.width&&(this.steps_+=ur("H",t.xPos+t.width-this.highlightOffset_));this.steps_+=ur("H",e.xPos+e.width-this.highlightOffset_)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+ur("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const n=e.height-t.connectionHeight;this.steps_+=sr(t.xPos+t.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+ur("v",n)}else this.steps_+=sr(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const n=e.height-2*this.insideCornerPaths_.height;this.steps_+=sr(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+ur("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+lr(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=sr(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+lr(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset_;e instanceof Lh&&e.followsStatement&&(this.steps_+=ur("H",t)),this.RTL_&&(this.steps_+=ur("H",t),e.height>this.highlightOffset_&&(this.steps_+=ur("V",e.yPos+e.height-this.highlightOffset_)))}drawBottomRow(e){if(this.RTL_)this.steps_+=ur("V",e.baseline-this.highlightOffset_);else{const t=this.info_.bottomRow.elements[0];gh.isLeftSquareCorner(t)?this.steps_+=sr(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):gh.isLeftRoundedCorner(t)&&(this.steps_+=sr(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=sr(this.info_.startX,e):(this.steps_+=sr(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=ur("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,gh.isLeftRoundedCorner(e.elements[0])?this.steps_+=ur("V",this.outsideCornerPaths_.height):this.steps_+=ur("V",e.capline+this.highlightOffset_))}drawInlineInput(e){const t=this.highlightOffset_,n=e.xPos+e.connectionWidth;var r=e.centerline-e.height/2;const o=e.width-e.connectionWidth,i=r+t;this.RTL_?(r=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=sr(n-t,i)+ur("v",r)+this.puzzleTabPaths_.pathDown(this.RTL_)+ur("v",e)+ur("h",o)):this.inlineSteps_+=sr(e.xPos+e.width+t,i)+ur("v",e.height)+ur("h",-o)+sr(n,r+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Ud=class extends jh{constructor(e,t){super(e,t),this.highlighter_=new Fd(t)}draw(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();const e=this.block_.pathObject;if(e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),xo()){let e,t;null==(e=this.block_)||null==(t=e.renderingDebugger)||t.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=ur("H",e.xPos+e.width)+ur("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Gd=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=ar(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,r=ar(n,n)+hr("a","0 0,0",e,or(-n-t,e-n)),o=hr("a","0 0,0",e+t,or(e+t,e+t)),i=ar(n,-n)+hr("a","0 0,0",e+t,or(e-n,n+t));return{width:e+t,height:e,pathTop:e=>e?r:"",pathBottom:e=>e?o:i}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,r=ar(n,n)+hr("a","0 0,1",e-t,or(e-n,-n+t)),o=ar(t,e)+hr("a","0 0,1",e-t,or(e,-e+t)),i=-n,s=ar(n,i)+hr("a","0 0,1",e-t,or(-n+t,-i-e));return{height:e,topLeft:e=>e?r:o,bottomLeft:()=>s}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=ar(-2,3.4-t)+lr(-.45*e,-2.1),r=ur("v",2.5)+ar(.97*-e,2.5)+ir("q",[or(.05*-e,10),or(.3*e,9.5)])+ar(.67*e,-1.9)+ur("v",2.5),o=ur("v",-1.5)+ar(-.92*e,-.5)+ir("q",[or(-.19*e,-5.5),or(0,-11)])+ar(.92*e,1),i=ar(-5,t-.7)+lr(.46*e,-2.1);return{width:e,height:t,pathUp:e=>e?n:o,pathDown:e=>e?r:i}}makeNotch(){return{pathLeft:ur("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:lr(5.1,2.6)+ar(-10.2,6.8)+lr(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=ar(25,-8.7)+ir("c",[or(29.7,-6.2),or(57.2,-.5),or(75,8.7)]),n=ir("c",[or(17.8,-9.2),or(45.3,-14.9),or(75,-8.7)])+sr(100.5,e+.5);return{path:e=>e?t:n}}},jd=class extends Ih{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Hd=class extends kh{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Vd=class extends Hh{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===Ks.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e.type===Ks.VALUE?(t.elements.push(new jd(this.constants_,e)),t.hasInlineInput=!0):e.type===Ks.STATEMENT?(t.elements.push(new Hd(this.constants_,e)),t.hasStatement=!0):e.type===Ks.VALUE?(t.elements.push(new yh(this.constants_,e)),t.hasExternalInput=!0):e.type===Ks.DUMMY&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!==t.align||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let t,n=0;t=this.rows[n];n++)t.hasExternalInput&&(e=!0);for(let n,r=0;n=this.rows[r];r++){var t=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new Ch(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let e=0;e<t.length-1;e++){n.elements.push(t[e]);const r=this.getInRowSpacing_(t[e],t[e+1]);n.elements.push(new Ch(this.constants_,r))}n.elements.push(t[t.length-1]),n.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&n.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),n.elements.push(new Ch(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&gh.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&gh.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&gh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!gh.isInput(e)&&(!t||gh.isStatementInput(t)))return gh.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:gh.isIcon(e)?2*this.constants_.LARGE_PADDING+1:gh.isHat(e)?this.constants_.NO_PADDING:gh.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:gh.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:gh.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(gh.isInput(e)&&!t){if(gh.isExternalInput(e))return this.constants_.NO_PADDING;if(gh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(gh.isStatementInput(e))return this.constants_.NO_PADDING}if(!gh.isInput(e)&&t&&gh.isInput(t)){if(gh.isField(e)&&e.isEditable){if(gh.isInlineInput(t)||gh.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(gh.isInlineInput(t)||gh.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(gh.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(gh.isIcon(e)&&t&&!gh.isInput(t))return this.constants_.LARGE_PADDING;if(gh.isInlineInput(e)&&t&&gh.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(gh.isLeftSquareCorner(e)&&t){if(gh.isHat(t))return this.constants_.NO_PADDING;if(gh.isPreviousConnection(t))return t.notchOffset;if(gh.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(gh.isLeftRoundedCorner(e)&&t){if(gh.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(gh.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return gh.isField(e)&&t&&gh.isField(t)&&e.isEditable===t.isEditable||t&&gh.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return gh.isTopRow(e)&&gh.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:gh.isTopRow(e)||gh.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(gh.isSpacer(t))return e.yPos+t.height/2;if(gh.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,gh.isNextConnection(t)?e+t.height/2:e-t.height/2;if(gh.isTopRow(e))return gh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return gh.isField(t)||gh.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=gh.isInlineInput(t)?n+t.height/2:n+e.height/2,n}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,n=null;for(let r,o=this.rows.length-1;r=this.rows[o];o--)t.set(r,e),gh.isInputRow(r)&&(r.hasStatement&&this.alignStatementRow_(r),n&&n.hasStatement&&r.width<n.width?t.set(r,n.width):e=r.width,n=r);e=0;for(let r,o=0;r=this.rows[o];o++)r.hasStatement?e=this.getDesiredRowWidth_(r):gh.isSpacer(r)?r.width=Math.max(e,t.get(r)):(n=r.width,0<(e=Math.max(e,t.get(r))-n)&&this.addAlignmentPadding_(r,e),e=r.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let r,o=0;r=this.rows[o];o++){r.yPos=t,r.xPos=this.startX,t+=r.height,e=Math.max(e,r.widthWithConnectedBlocks);var n=t-this.topRow.ascenderHeight;r===this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,t+=n),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Wd=class extends zh{constructor(e,t,n){super(e,t,n),this.constants=n,this.colourDark="#000000",this.svgPathDark=A(ol.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=A(ol.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=pn("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},zd=class extends Jh{constructor(e){super(e),this.highlightConstants_=null}init(e,t){super.init(e,t),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new Bd}makeRenderInfo_(e){return new Vd(this,e)}makeDrawer_(e,t){return new Ud(e,t)}makePathObject(e,t){return new Wd(e,t,this.getConstants())}makeHighlightConstants_(){return new Gd(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants_)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants_}};No("geras",zd);var Zd={};Zd.ConstantProvider=Bd,Zd.Drawer=Ud,Zd.HighlightConstantProvider=Gd,Zd.Highlighter=Fd,Zd.InlineInput=jd,Zd.PathObject=Wd,Zd.RenderInfo=Vd,Zd.Renderer=zd,Zd.StatementInput=Hd;var Xd=class{constructor(e){this.container=e,this.previousSibling=null,this.createDom()}createDom(){this.SVG||(this.SVG=A(ol.SVG,{xmlns:us,"xmlns:html":hs,"xmlns:xlink":ds,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"}),this.container.appendChild(this.SVG))}translateSurface(e,t){e=Math.round(e),t=Math.round(t),this.SVG.style.display="block",F(this.SVG,"translate3d("+e+"px, "+t+"px, 0)")}getSurfaceTranslation(){return vt(this.SVG)}clearAndHide(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");const t=this.SVG.childNodes[0],n=this.SVG.childNodes[1];if(!t||!n||!t.classList.contains("blocklyBlockCanvas")&&n.classList.contains("blocklyBubbleCanvas"))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!==this.previousSibling?$(t,this.previousSibling):e.insertBefore(t,e.firstChild),$(n,t),this.SVG.style.display="none",this.SVG.childNodes.length)throw Error("Drag surface was not cleared.");F(this.SVG,""),this.previousSibling=null}setContentsAndShow(e,t,n,r,o,i){if(this.SVG.childNodes.length)throw Error("Already dragging a block.");this.previousSibling=n,e.setAttribute("transform","translate(0, 0) scale("+i+")"),t.setAttribute("transform","translate(0, 0) scale("+i+")"),this.SVG.setAttribute("width",String(r)),this.SVG.setAttribute("height",String(o)),this.SVG.appendChild(e),this.SVG.appendChild(t),this.SVG.style.display="block"}},Yd=class{constructor(e){this.container=e,this.scale=1,this.surfaceXY=new bs(0,0),this.childSurfaceXY=new bs(0,0),this.svg=A(ol.SVG,{xmlns:us,"xmlns:html":hs,"xmlns:xlink":ds,version:"1.1",class:"blocklyBlockDragSurface"},this.container),this.dragGroup=A(ol.G,{},this.svg)}createDom(){t("BlockDragSurfaceSvg createDom","June 2022","June 2023")}setBlocksAndShow(e){if(this.dragGroup.childNodes.length)throw Error("Already dragging a block.");this.dragGroup.appendChild(e),this.svg.style.display="block",this.surfaceXY=new bs(0,0)}translateAndScaleGroup(e,t,n){this.scale=n,e=Math.round(e),t=Math.round(t),this.childSurfaceXY.x=e,this.childSurfaceXY.y=t,this.dragGroup.setAttribute("transform","translate("+e+","+t+") scale("+n+")")}translateSurfaceInternal_(){const e=Math.round(this.surfaceXY.x),t=Math.round(this.surfaceXY.y);this.svg.style.display="block",F(this.svg,"translate3d("+e+"px, "+t+"px, 0)")}translateBy(e,t){this.surfaceXY=new bs(this.surfaceXY.x+e,this.surfaceXY.y+t),this.translateSurfaceInternal_()}translateSurface(e,t){this.surfaceXY=new bs(e*this.scale,t*this.scale),this.translateSurfaceInternal_()}getSurfaceTranslation(){const e=vt(this.svg);return new bs(e.x/this.scale,e.y/this.scale)}getGroup(){return this.dragGroup}getSvgRoot(){return this.svg}getCurrentBlock(){return this.dragGroup.firstChild}getWsTranslation(){return this.childSurfaceXY.clone()}clearAndHide(e){const t=this.getCurrentBlock();if(t&&(e?e.appendChild(t):this.dragGroup.removeChild(t)),this.svg.style.display="none",this.dragGroup.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY=new bs(0,0)}},Kd={};Kd.bumpIntoBounds=Wo,Kd.bumpIntoBoundsHandler=zo,Kd.bumpTopObjectsIntoBounds=Xo;var Jd=class{constructor(e,t,n,r,o){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,n=void 0===n||n;const i=(t=void 0===t||t)&&n;t&&(this.hScroll=new sc(e,!0,i,r,o)),n&&(this.vScroll=new sc(e,!1,i,r,o)),i&&(this.corner_=A(ol.RECT,{height:sc.scrollbarThickness,width:sc.scrollbarThickness,class:"blocklyScrollbarBackground"}),$(this.corner_,e.getBubbleCanvas()))}dispose(){P(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,n=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(n=!0)):n=t=!0,t||n){try{Be(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{Fe()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let e;null==(e=this.corner_)||e.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let e;null==(e=this.corner_)||e.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},qd=!1;e.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=E());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let n,r=0;n=e[r];r++){let e=this.blockToCode(n);Array.isArray(e)&&(e=e[0]),e&&(n.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,n)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,n))),t.push(e))}return t=t.join("\n"),(t=(t=(t=this.finish(t)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let n=0;n<e.length;n++){const r=e[n].getCommentText();r&&t.push(r)}return t.length&&t.push(""),t.join("\n")}blockToCode(e,t){if(!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)}valueToCode(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var r=e.getInputTargetBlock(t);if(!r)return"";if(""===(t=this.blockToCode(r)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+r.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+r.type);if(!e)return"";r=!1;var o=Math.floor(n);const i=Math.floor(t);if(o<=i&&(o!==i||0!==o&&99!==o))for(r=!0,o=0;o<this.ORDER_OVERRIDES.length;o++)if(this.ORDER_OVERRIDES[o][0]===n&&this.ORDER_OVERRIDES[o][1]===t){r=!1;break}return r&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),"string"!=typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(t,n){if(!this.definitions_[t]){const r=this.nameDB_.getDistinctName(t,e.NameType$$module$build$src$core$names.PROCEDURE);let o;for(this.functionNames_[t]=r,Array.isArray(n)&&(n=n.join("\n")),n=n.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);o!==n;)o=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,n){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Object.defineProperties(e.CodeGenerator$$module$build$src$core$generator.prototype,{variableDB_:{get(){return t("variableDB_","version 9","version 10","nameDB_"),this.nameDB_},set(e){t("variableDB_","version 9","version 10","nameDB_"),this.nameDB_=e}}}),e.CodeGenerator$$module$build$src$core$generator;var Qd=class{constructor(e,t,n,r){this.workspace=e,this.targetWorkspace=t,this.isLabel_=r,this.onMouseUpWrapper_=null,this.height=this.width=0,this.svgText_=this.svgGroup_=null,this.text_=n.text,this.position_=new bs(0,0),this.callbackKey_=n.callbackKey||n.callbackkey,this.cssClass_=n["web-class"]||null,this.info=n}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";let t;this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=A(ol.G,{class:e},this.workspace.getCanvas()),this.isLabel_||(t=A(ol.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_)),e=A(ol.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);const n=A(ol.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);var r=_n(this.text_);this.workspace.RTL&&(r+="‏"),n.textContent=r,this.isLabel_&&(this.svgText_=n,this.workspace.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));const o=K(n,"fontSize"),i=K(n,"fontWeight"),s=K(n,"fontFamily");if(this.width=H(n,o,i,s),r=V(r,o,i,s),this.height=r.height,!this.isLabel_){let e,n;this.width+=2*Qd.TEXT_MARGIN_X,this.height+=2*Qd.TEXT_MARGIN_Y,null==(e=t)||e.setAttribute("width",this.width.toString()),null==(n=t)||n.setAttribute("height",this.height.toString())}return e.setAttribute("width",this.width.toString()),e.setAttribute("height",this.height.toString()),n.setAttribute("x",(this.width/2).toString()),n.setAttribute("y",(this.height/2-r.height/2+r.baseline).toString()),this.updateTransform_(),this.onMouseUpWrapper_=c(this.svgGroup_,"pointerup",this,this.onMouseUp_),this.svgGroup_}show(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")}updateTransform_(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")}moveTo(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()}isLabel(){return this.isLabel_}getPosition(){return this.position_}getButtonText(){return this.text_}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper_&&h(this.onMouseUpWrapper_),this.svgGroup_&&P(this.svgGroup_),this.svgText_&&this.workspace.getThemeManager().unsubscribe(this.svgText_)}onMouseUp_(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace.getButtonCallback(this.callbackKey_)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey_))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)}};Qd.TEXT_MARGIN_X=5,Qd.TEXT_MARGIN_Y=2,mt("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var ep=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new Es(t,n)}getFlyoutMetrics(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0;const t=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),r=!!this.workspace_.getToolbox(),o=!!this.workspace_.getFlyout(!0);var i=r?t.position:n.position,s=i===uc.LEFT;return i=i===uc.TOP,r&&s?e=t.width:o&&s&&(e=n.width),s=0,r&&i?s=t.height:o&&i&&(s=n.height),{top:s,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),o=this.workspace_.getToolbox()?n.position:r.position;return this.workspace_.getToolbox()?o===uc.TOP||o===uc.BOTTOM?t.height-=n.height:o!==uc.LEFT&&o!==uc.RIGHT||(t.width-=n.width):this.workspace_.getFlyout(!0)&&(o===uc.TOP||o===uc.BOTTOM?t.height-=r.height:o!==uc.LEFT&&o!==uc.RIGHT||(t.width-=r.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const r={};return n||(r.top=e.top,r.bottom=e.top+e.height),t||(r.left=e.left,r.right=e.left+e.width),r}getPaddedContent_(e,t){const n=t.top+t.height,r=t.left+t.width,o=e.width,i=o/2,s=(e=e.height)/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-i,r-o),right:Math.max(r+i,t.left+o)}}getScrollMetrics(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var r=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,r),r=void 0!==n.top?n.top:t.top;const o=void 0!==n.left?n.left:t.left;return{top:r/e,left:o/e,width:((void 0!==n.right?n.right:t.right)-o)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-r)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),r=this.getAbsoluteMetrics(),o=this.getViewMetrics(),i=this.getContentMetrics(),s=this.getScrollMetrics(!1,o,i);return{contentHeight:i.height,contentWidth:i.width,contentTop:i.top,contentLeft:i.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:o.height,viewWidth:o.width,viewTop:o.top,viewLeft:o.left,absoluteTop:r.top,absoluteLeft:r.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};ye(Vs.METRICS_MANAGER,Hs,ep);var tp,np=class extends ep{constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}}};!function(e){e.BLOCK="block",e.BUTTON="button"}(tp||(tp={}));var rp=class extends Su{constructor(e){super(),this.horizontalLayout=!1,this.eventWrappers_=[],this.filterWrapper_=this.reflowWrapper_=null,this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.recycledBlocks_=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible_=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new cd(e),this.workspace_.setMetricsManager(new np(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=xe(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=A(e,{class:"blocklyFlyout",style:"display: none"}),this.svgBackground_=A(ol.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Jd(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,c(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,c(this.svgBackground_,"pointerdown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[Cc.Capability.DELETE_AREA,Cc.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),h(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&(P(this.svgGroup_),this.svgGroup_=null),this.svgBackground_=null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())}setContainerVisible(e){const t=e!==this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()}updateDisplay_(){let e,t;e=!!this.containerVisible_&&this.isVisible(),this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none"),null==(t=this.workspace_.scrollbar)||t.setContainerVisible(e)}positionAt_(e,t,n,r){let o,i,s;if(null==(o=this.svgGroup_)||o.setAttribute("width",e.toString()),null==(i=this.svgGroup_)||i.setAttribute("height",t.toString()),this.workspace_.setCachedParentSvgSize(e,t),"svg"===(null==(s=this.svgGroup_)?void 0:s.tagName))F(this.svgGroup_,"translate("+n+"px,"+r+"px)");else{let e;null==(e=this.svgGroup_)||e.setAttribute("transform","translate("+n+","+r+")")}(e=this.workspace_.scrollbar)&&(e.setOrigin(n,r),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(let e,t=0;e=this.listeners_[t];t++)h(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=Fn(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(c(this.svgBackground_,"pointerover",this,(function(){const e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)t.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()}createFlyoutInfo_(e){const t=[],n=[];this.permanentlyDisabled_.length=0;const r=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(let i,s=0;i=e[s];s++){if("custom"in i){var o=this.getDynamicCategoryContents_(i.custom);o=Fn(o),e.splice.apply(e,[s,1,...o]),i=e[s]}switch(i.kind.toUpperCase()){case"BLOCK":o=i;const e=this.createFlyoutBlock_(o);t.push({type:tp.BLOCK,block:e}),this.addBlockGap_(o,n,r);break;case"SEP":this.addSeparatorGap_(i,n,r);break;case"LABEL":o=this.createButton_(i,!0),t.push({type:tp.BUTTON,button:o}),n.push(r);break;case"BUTTON":o=this.createButton_(i,!1),t.push({type:tp.BUTTON,button:o}),n.push(r)}}return{contents:t,gaps:n}}getDynamicCategoryContents_(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton_(e,t){return new Qd(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock_(e){let t;return e.blockxml?(e="string"==typeof e.blockxml?Ot(e.blockxml):e.blockxml,(t=this.getRecycledBlock_(e.getAttribute("type")))||(t=At(e,this.workspace_))):(t=this.getRecycledBlock_(e.type),t||(void 0===e.enabled&&(e.enabled="true"!==e.disabled&&!0!==e.disabled),t=wr(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled_.push(t),t}getRecycledBlock_(e){let t=-1;for(let n=0;n<this.recycledBlocks_.length;n++)if(this.recycledBlocks_[n].type===e){t=n;break}return-1===t?void 0:this.recycledBlocks_.splice(t,1)[0]}addBlockGap_(e,t,n){let r;e.gap?r=parseInt(e.gap.toString()):e.blockxml&&(e="string"==typeof e.blockxml?Ot(e.blockxml):e.blockxml,r=parseInt(e.getAttribute("gap"))),t.push(!r||isNaN(r)?n:r)}addSeparatorGap_(e,t,n){e=parseInt(e.gap.toString()),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)}clearOldBlocks_(){var e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)this.blockIsRecyclable_(t)?this.recycleBlock_(t):t.dispose(!1,!1);for(e=0;e<this.mats_.length;e++){const t=this.mats_[e];t&&(Kt(t),P(t))}this.mats_.length=0;for(let e,t=0;e=this.buttons_[t];t++)e.dispose();let t;this.buttons_.length=0,null==(t=this.workspace_.getPotentialVariableMap())||t.clear()}emptyRecycledBlocks_(){for(let e=0;e<this.recycledBlocks_.length;e++)this.recycledBlocks_[e].dispose();this.recycledBlocks_=[]}blockIsRecyclable_(e){return!1}recycleBlock_(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks_.push(e)}addBlockListeners_(e,t,n){this.listeners_.push(c(e,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(c(n,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(u(e,"pointerenter",t,t.addSelect)),this.listeners_.push(u(e,"pointerleave",t,t.removeSelect)),this.listeners_.push(u(n,"pointerenter",t,t.addSelect)),this.listeners_.push(u(n,"pointerleave",t,t.removeSelect))}blockMouseDown_(e){return t=>{const n=this.targetWorkspace.getGesture(t);n&&(n.setStartBlock(e),n.handleFlyoutStart(t,this))}}onMouseDown_(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;Be();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock_(e)}finally{Fe()}if(this.targetWorkspace.hideChaff(),e=gt(this.targetWorkspace,n),Ue()){for(je(!0),n=0;n<e.length;n++){const t=e[n];Le(new(ze(la))(t))}Le(new(ze(oa))(t))}return this.autoClose?this.hide():this.filterForCapacity_(),t}initFlyoutButton_(e,t,n){const r=e.createDom();e.moveTo(t,n),e.show(),this.listeners_.push(c(r,"pointerdown",this,this.onMouseDown_)),this.buttons_.push(e)}createRect_(e,t,n,r,o){return(t=A(ol.RECT,{"fill-opacity":0,x:t,y:n,height:r.height,width:r.width})).tooltip=e,Yt(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats_[o]=t}moveRectToBlock_(e,t){const n=t.getHeightWidth();e.setAttribute("width",n.width.toString()),e.setAttribute("height",n.height.toString()),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y.toString()),e.setAttribute("x",(this.RTL?t.x-n.width:t.x).toString())}filterForCapacity_(){const e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)if(-1===this.permanentlyDisabled_.indexOf(t)){const e=this.targetWorkspace.isCapacityAvailable(k(t));for(;t;)t.setEnabled(e),t=t.getNextBlock()}}reflow(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)}isScrollable(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()}placeNewBlock_(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");const n=fr(e);return t.setResizesEnabled(!1),t=wr(n,t),this.positionNewBlock_(e,t),t}positionNewBlock_(e,t){const n=this.targetWorkspace;var r=n.getOriginOffsetInPixels(),o=this.workspace_.getOriginOffsetInPixels();(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),o=bs.sum(o,e),(r=bs.difference(o,r)).scale(1/n.scale),t.moveTo(new bs(r.x,r.y))}};rp.FlyoutItemType=tp;var op=class extends rp{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-r.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===uc.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===uc.LEFT?0:n.width:this.toolboxPosition_===uc.LEFT?0:n.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const n=this.toolboxPosition_===uc.RIGHT;var r=e+this.CORNER_RADIUS;(r=["M "+(n?r:0)+",0"]).push("h",n?-e:e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",Math.max(0,t)),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",n?e:-e),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setY(0)}wheel_(e){var t=g(e);if(t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let r;t=e.getViewMetrics().top-n.top+t.y,null==(r=this.workspace_.scrollbar)||r.setY(t),wn(),be()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN;const r=this.RTL?n:n+this.tabWidth_;for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,i=o.getDescendants(!1);for(let e,t=0;e=i[t];t++)e.isInFlyout=!0;o.render(),i=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?r-this.tabWidth_:r;o.moveBy(s,n),s=this.createRect_(o,this.RTL?s-e.width:s,n,e,l),this.addBlockListeners_(i,o,s),n+=e.height+t[l]}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,r,n),n+=o.height+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===uc.LEFT?new vs(-1e9,1e9,-1e9,t+e.width):new vs(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let r,o=0;r=t[o];o++){var n=r.getHeightWidth().width;r.outputConnection&&(n-=this.tabWidth_),e=Math.max(e,n)}for(let t,n=0;t=this.buttons_[n];n++)e=Math.max(e,t.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=sc.scrollbarThickness,this.width_!==e){for(let r,o=0;r=t[o];o++){if(this.RTL){n=r.getRelativeToSurfaceXY().x;let t=e/this.workspace_.scale-this.MARGIN;r.outputConnection||(t-=this.tabWidth_),r.moveBy(t-n,0)}this.rectMap_.has(r)&&this.moveRectToBlock_(this.rectMap_.get(r),r)}if(this.RTL)for(let n,r=0;n=this.buttons_[r];r++)t=n.getPosition().y,n.moveTo(e/this.workspace_.scale-n.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==uc.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};op.registryName="verticalFlyout",ye(Vs.FLYOUTS_VERTICAL_TOOLBOX,Hs,op);var ip=class extends rp{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-r.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();const r=this.toolboxPosition_===uc.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?r?e.height:n.height-this.height_:r?0:n.height:r?0:n.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const n=this.toolboxPosition_===uc.TOP,r=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(r.push("h",e+2*this.CORNER_RADIUS),r.push("v",t),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",-e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),r.push("h",e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",t),r.push("h",-e-2*this.CORNER_RADIUS)),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setX(this.RTL?1/0:0)}wheel_(e){var t=g(e);if(t=t.x||t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let r;t=e.getViewMetrics().left-n.left+t,null==(r=this.workspace_.scrollbar)||r.setX(t),wn(),be()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const n=this.MARGIN;let r=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,i=o.getDescendants(!1);for(let e,t=0;e=i[t];t++)e.isInFlyout=!0;o.render(),i=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?this.tabWidth_:0;s=this.RTL?r+e.width:r-s,o.moveBy(s,n),s=this.createRect_(o,s,n,e,l),r+=e.width+t[l],this.addBlockListeners_(i,o,s)}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,r,n),r+=o.width+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===uc.TOP?new vs(-1e9,t+e.height,-1e9,1e9):new vs(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let n,r=0;n=t[r];r++)e=Math.max(e,n.getHeightWidth().height);const n=this.buttons_;for(let t,r=0;t=n[r];r++)e=Math.max(e,t.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=sc.scrollbarThickness,this.height_!==e){for(let e,n=0;e=t[n];n++)this.rectMap_.has(e)&&this.moveRectToBlock_(this.rectMap_.get(e),e);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==uc.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};ye(Vs.FLYOUTS_HORIZONTAL_TOOLBOX,Hs,ip);var sp=class extends tc{constructor(e,t,n,r,o){super(jl.SKIP_SETUP),this.defaultType_="",this.variableTypes=[],this.variable_=null,this.SERIALIZABLE=!0,this.menuGenerator_=sp.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new Es(0,0),e!==jl.SKIP_SETUP&&(o?this.configure_(o):this.setTypes_(n,r),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes_(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Hl;this.variable_||(e=dt(e.workspace,null,this.defaultVariableName,this.defaultType_),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Hl;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==e.type)}fromXml(e){var t=this.getSourceBlock();if(!t)throw new Hl;const n=e.getAttribute("id"),r=e.textContent,o=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=dt(t.workspace,n,r,o),null!==o&&o!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Mt(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e}saveState(e){var t=this.saveLegacyState(sp);return null!==t||(this.initModel(),t={id:this.variable_.getId()},e&&(t.name=this.variable_.name,t.type=this.variable_.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new Hl;this.loadLegacyState(sp,e)||(e=dt(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable_?this.variable_.getId():null}getText(){return this.variable_?this.variable_.name:""}getVariable(){return this.variable_}getValidator(){return this.variable_?this.validator_:null}doClassValidation_(e){if(null===e)return null;var t=this.getSourceBlock();if(!t)throw new Hl;return(t=pt(t.workspace,e))?(t=t.type,this.typeIsAllowed_(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new Hl;this.variable_=pt(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed_(e){const t=this.getVariableTypes_();if(!t)return!0;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}getVariableTypes_(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(0===(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes_(e,t){if(t=t||"",null==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");{let n=!1;for(let r=0;r<e.length;r++)e[r]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}}this.defaultType_=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===lu)return void at(this.sourceBlock_.workspace,this.variable_);if(e===cu)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(_n(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var n=this.getVariableTypes_(),r=0;r<n.length;r++){const e=this.sourceBlock_.workspace.getVariablesOfType(n[r]);t=t.concat(e)}for(t.sort(Ja.compareByName),n=[],r=0;r<t.length;r++)n[r]=[t[r].name,t[r].getId()];return n.push([Ba.RENAME_VARIABLE,lu]),Ba.DELETE_VARIABLE&&n.push([Ba.DELETE_VARIABLE.replace("%1",e),cu]),n}};On("field_variable",sp);var ap=class extends Ed{constructor(e,t,n,r,o,i){super(jl.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,this.SERIALIZABLE=!0,this.spellcheck_=!1,e!==jl.SKIP_SETUP&&(i?this.configure_(i):this.setConstraints(t,n,r),this.setValue(e),o&&this.setValidator(o))}configure_(e){super.configure_(e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)}setConstraints(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())}setMin(e){this.setMinInternal_(e),this.setValue(this.getValue())}setMinInternal_(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal_(e),this.setValue(this.getValue())}setMaxInternal_(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())}setPrecisionInternal_(e){this.precision_=Number(e)||0;let t=String(this.precision_);-1!==t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const n=t.indexOf(".");this.decimalPlaces_=-1===n?e?0:null:t.length-n-1}getPrecision(){return this.precision_}doClassValidation_(e){return null===e?null:(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&Nn(e,Xl.VALUEMIN,this.min_),1/0>this.max_&&Nn(e,Xl.VALUEMAX,this.max_),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};On("field_number",ap),ap.prototype.DEFAULT_VALUE=0;var lp=class extends e.FieldTextInput$$module$build$src$core$field_textinput{constructor(e,t,n){super(jl.SKIP_SETUP),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==jl.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))}saveState(){const e=this.saveLegacyState(lp);return null!==e?e:this.getValue()}loadState(e){this.loadLegacyState(jl,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup_=A(ol.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new Hl;let t=this.getText();if(!t)return jl.NBSP;const n=t.split("\n");t="";const r=this.isOverflowedY_?this.maxLines_:n.length;for(let e=0;e<r;e++){let o=n[e];o.length>this.maxDisplayLength?o=o.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&e===r-1&&(o=o.substring(0,o.length-3)+"..."),o=o.replace(/\s/g,jl.NBSP),t+=o,e!==r-1&&(t+="\n")}return e.RTL&&(t+="‏"),t}doValueUpdate_(e){super.doValueUpdate_(e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_}render_(){var e,t=this.getSourceBlock();if(!t)throw new Hl;for(;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");let n=0;for(let t=0;t<e.length;t++){const r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;A(ol.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[t])),n+=r}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?N(e,"blocklyHtmlTextAreaInputOverflowedY"):D(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(t.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(D(t,"blocklyInvalidInput"),Nn(t,Xl.INVALID,!1)):(N(t,"blocklyInvalidInput"),Nn(t,Xl.INVALID,!0)))}updateSize_(){var e=this.textGroup_.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,n=this.getConstants().FIELD_TEXT_FONTWEIGHT,r=this.getConstants().FIELD_TEXT_FONTFAMILY;let o=0,i=0;for(var s=0;s<e.length;s++){var a=j(e[s],t,n,r);a>o&&(o=a),i+=this.getConstants().FIELD_TEXT_HEIGHT+(0<s?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=this.value_.split("\n"),s=A(ol.TEXT,{class:"blocklyText blocklyMultilineText"}),a=0;a<e.length;a++){e[a].length>this.maxDisplayLength&&(e[a]=e[a].substring(0,this.maxDisplayLength)),s.textContent=e[a];const i=j(s,t,n,r);i>o&&(o=i)}o+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(i+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",o),this.borderRect_.setAttribute("height",i)),this.size_.width=o,this.size_.height=i,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const t=En(),n=this.workspace_.getScale(),r=document.createElement("textarea");r.className="blocklyHtmlInput blocklyHtmlTextAreaInput",r.setAttribute("spellcheck",this.spellcheck_);var o=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=o,r.style.fontSize=o,r.style.borderRadius=e.FieldTextInput$$module$build$src$core$field_textinput.BORDERRADIUS*n+"px",o=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;const i=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return r.style.padding=i+"px "+o+"px "+i+"px "+o+"px",o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,r.style.lineHeight=o*n+"px",t.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",this.value_),r.setAttribute("data-old-value",""),Wi?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(r),r}setMaxLines(e){"number"==typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){e.keyCode!==Jl.ENTER&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(_n(e.text),void 0,e)}};mt("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n"),On("field_multilinetext",lp);var cp=class extends e.FieldLabel$$module$build$src$core$field_label{constructor(e,t,n){super(String(null!=e?e:""),t,n),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(_n(e.text),void 0,e)}};On("field_label_serializable",cp);var up=class extends jl{constructor(e,t,n){super(jl.SKIP_SETUP),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles_=this.colours_=null,this.columns_=0,e!==jl.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours_=e.colourOptions),e.colourTitles&&(this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)}initView(){this.size_=new Es(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof bu&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()):(this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1")}applyColour(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof bu&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())}doClassValidation_(e){return"string"!=typeof e?null:cn(e)}doValueUpdate_(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_ instanceof bu&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours_=e,t&&(this.titles_=t),this}setColumns(e){return this.columns_=e,this}showEditor_(){this.dropdownCreate_(),ie().appendChild(this.picker_),le(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})}onClick_(e){null!==(e=(e=e.target)&&e.getAttribute("data-colour"))&&(this.setValue(e),_e(this))}onKeyDown_(e){var t=!1;e.keyCode===Jl.UP?(this.moveHighlightBy_(0,-1),t=!0):e.keyCode===Jl.DOWN?(this.moveHighlightBy_(0,1),t=!0):e.keyCode===Jl.LEFT?(this.moveHighlightBy_(-1,0),t=!0):e.keyCode===Jl.RIGHT?(this.moveHighlightBy_(1,0),t=!0):e.keyCode===Jl.ENTER&&((t=this.getHighlighted_())&&null!==(t=t&&t.getAttribute("data-colour"))&&this.setValue(t),be(),t=!0),t&&e.stopPropagation()}moveHighlightBy_(e,t){if(this.highlightedIndex_){var n=this.colours_||up.COLOURS,r=this.columns_||up.COLUMNS,o=this.highlightedIndex_%r,i=Math.floor(this.highlightedIndex_/r);o+=e,i+=t,0>e?0>o&&0<i?(o=r-1,i--):0>o&&(o=0):0<e?o>r-1&&i<Math.floor(n.length/r)-1?(o=0,i++):o>r-1&&o--:0>t?0>i&&(i=0):0<t&&i>Math.floor(n.length/r)-1&&(i=Math.floor(n.length/r)-1),this.setHighlightedCell_(this.picker_.childNodes[i].childNodes[o],i*r+o)}}onMouseMove_(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)}onMouseEnter_(){this.picker_.focus({preventScroll:!0})}onMouseLeave_(){this.picker_.blur();const e=this.getHighlighted_();e&&D(e,"blocklyColourHighlighted")}getHighlighted_(){if(!this.highlightedIndex_)return null;const e=this.columns_||up.COLUMNS,t=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return t?t.childNodes[this.highlightedIndex_%e]:null}setHighlightedCell_(e,t){const n=this.getHighlighted_();n&&D(n,"blocklyColourHighlighted"),N(e,"blocklyColourHighlighted"),this.highlightedIndex_=t,Nn(this.picker_,Xl.ACTIVEDESCENDANT,e.getAttribute("id"))}dropdownCreate_(){const e=this.columns_||up.COLUMNS,t=this.colours_||up.COLOURS,n=this.titles_||up.TITLES,r=this.getValue(),o=document.createElement("table");let i;o.className="blocklyColourTable",o.tabIndex=0,o.dir="ltr",An(o,Zl.GRID),Nn(o,Xl.EXPANDED,!0),Nn(o,Xl.ROWCOUNT,Math.floor(t.length/e)),Nn(o,Xl.COLCOUNT,e);for(let s=0;s<t.length;s++){0==s%e&&(i=document.createElement("tr"),An(i,Zl.ROW),o.appendChild(i));const a=document.createElement("td");i.appendChild(a),a.setAttribute("data-colour",t[s]),a.title=n[s]||t[s],a.id=Oe(),a.setAttribute("data-index",s),An(a,Zl.GRIDCELL),Nn(a,Xl.LABEL,t[s]),Nn(a,Xl.SELECTED,t[s]===r),a.style.backgroundColor=t[s],t[s]===r&&(a.className="blocklyColourSelected",this.highlightedIndex_=s)}this.onClickWrapper_=c(o,"pointerdown",this,this.onClick_,!0),this.onMouseMoveWrapper_=c(o,"pointermove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=c(o,"pointerenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=c(o,"pointerleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=c(o,"keydown",this,this.onKeyDown_),this.picker_=o}dropdownDispose_(){this.onClickWrapper_&&(h(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(h(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(h(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(h(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(h(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null}static fromJson(e){return new this(e.colour,void 0,e)}};up.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),up.TITLES=[],up.COLUMNS=7,up.prototype.DEFAULT_VALUE=up.COLOURS[0],mt("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: .5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n"),On("field_colour",up),e.FieldCheckbox$$module$build$src$core$field_checkbox=class extends jl{constructor(t,n,r){super(jl.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.checkChar_=e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR,t!==jl.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(t),n&&this.setValidator(n))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)}saveState(){const t=this.saveLegacyState(e.FieldCheckbox$$module$build$src$core$field_checkbox);return null!==t?t:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();N(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar_}setCheckCharacter(t){this.checkChar_=t||e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return"string"==typeof e?"TRUE"===e:!!e}static fromJson(e){return new this(e.checked,void 0,e)}},e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR="✓",On("field_checkbox",e.FieldCheckbox$$module$build$src$core$field_checkbox),e.FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1,e.FieldCheckbox$$module$build$src$core$field_checkbox;var hp,dp=class extends Ed{constructor(e,t,n){super(jl.SKIP_SETUP),this.clockwise_=dp.CLOCKWISE,this.offset_=dp.OFFSET,this.wrap_=dp.WRAP,this.round_=dp.ROUND,this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.symbol_=this.line_=this.gauge_=this.editor_=null,this.SERIALIZABLE=!0,e!==jl.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case hp.COMPASS:this.clockwise_=!0,this.offset_=90;break;case hp.PROTRACTOR:this.clockwise_=!1,this.offset_=0}e.clockwise&&(this.clockwise_=e.clockwise),e.offset&&(this.offset_=e.offset),e.wrap&&(this.wrap_=e.wrap),e.round&&(this.round_=e.round)}initView(){super.initView(),this.symbol_=A(ol.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("°")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph_()}showEditor_(e){super.showEditor_(e,Ki||zi||Zi),this.dropdownCreate_(),ie().appendChild(this.editor_),this.sourceBlock_ instanceof bu&&ae(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),le(this,this.dropdownDispose_.bind(this)),this.updateGraph_()}dropdownCreate_(){const e=A(ol.SVG,{xmlns:us,"xmlns:html":hs,"xmlns:xlink":ds,version:"1.1",height:2*dp.HALF+"px",width:2*dp.HALF+"px",style:"touch-action: none"}),t=A(ol.CIRCLE,{cx:dp.HALF,cy:dp.HALF,r:dp.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=A(ol.PATH,{class:"blocklyAngleGauge"},e),this.line_=A(ol.LINE,{x1:dp.HALF,y1:dp.HALF,class:"blocklyAngleLine"},e);for(let t=0;360>t;t+=15)A(ol.LINE,{x1:dp.HALF+dp.RADIUS,y1:dp.HALF,x2:dp.HALF+dp.RADIUS-(0==t%45?10:5),y2:dp.HALF,class:"blocklyAngleMarks",transform:"rotate("+t+","+dp.HALF+","+dp.HALF+")"},e);this.clickWrapper_=c(e,"click",this,this.hide_),this.clickSurfaceWrapper_=c(t,"pointerdown",this,this.onMouseMove_,!0),this.moveSurfaceWrapper_=c(t,"pointermove",this,this.onMouseMove_,!0),this.editor_=e}dropdownDispose_(){this.clickWrapper_&&(h(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(h(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(h(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null}hide_(){_e(this),wn()}onMouseMove_(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect();const n=e.clientX-t.left-dp.HALF;e=e.clientY-t.top-dp.HALF,t=Math.atan(-e/n),isNaN(t)||(t=z(t),0>n?t+=180:0<e&&(t+=360),t=this.clockwise_?this.offset_+360-t:360-(this.offset_-t),this.displayMouseOrKeyboardValue_(t))}displayMouseOrKeyboardValue_(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!==this.value_&&this.setEditorValue_(e)}updateGraph_(){if(this.gauge_){var e=Number(this.getText())+this.offset_,t=W(e%360);e=["M ",dp.HALF,",",dp.HALF];var n=dp.HALF,r=dp.HALF;if(!isNaN(t)){const o=Number(this.clockwise_),i=W(this.offset_),s=Math.cos(i)*dp.RADIUS,a=Math.sin(i)*-dp.RADIUS;o&&(t=2*i-t),n+=Math.cos(t)*dp.RADIUS,r-=Math.sin(t)*dp.RADIUS,t=Math.abs(Math.floor((t-i)/Math.PI)%2),o&&(t=1-t),e.push(" l ",s,",",a," A ",dp.RADIUS,",",dp.RADIUS," 0 ",t," ",o," ",n,",",r," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",r)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new Hl;let n;e.keyCode===Jl.LEFT?n=t.RTL?1:-1:e.keyCode===Jl.RIGHT?n=t.RTL?-1:1:e.keyCode===Jl.DOWN?n=-1:e.keyCode===Jl.UP&&(n=1),n&&(t=this.getValue(),this.displayMouseOrKeyboardValue_(t+n*this.round_),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)}wrapValue_(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};dp.ROUND=15,dp.HALF=50,dp.CLOCKWISE=!1,dp.OFFSET=0,dp.WRAP=360,dp.RADIUS=dp.HALF-1,mt("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: .8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n"),On("field_angle",dp),dp.prototype.DEFAULT_VALUE=0,function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"}(hp||(hp={}));var pp={};pp.FieldAngle=dp,pp.Mode=hp;var fp=class extends ul{constructor(e){super(e),this.type=aa,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){if(t("Blockly.Events.BlockMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldParentId=e.oldParentId,this.oldInputName=e.oldInputName,e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate=new bs(Number(n[0]),Number(n[1]))}this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate=new bs(Number(n[0]),Number(n[1]))),void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new fp)).oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(n=e.oldCoordinate.split(","),t.oldCoordinate=new bs(Number(n[0]),Number(n[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),t.newCoordinate=new bs(Number(n[0]),Number(n[1]))),void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&bs.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getBlockById(this.blockId);if(n){var r=e?this.newParentId:this.oldParentId,o=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,r){var i=t.getBlockById(r);if(!i)return void console.warn("Can't connect to non-existent block: "+r)}if(n.getParent()&&n.unplug(),e)o=n.getRelativeToSurfaceXY(),n.moveBy(e.x-o.x,e.y-o.y);else{let e;(!(t=n.outputConnection)||n.previousConnection&&n.previousConnection.isConnected())&&(t=n.previousConnection),n=t.type,o?(n=i.getInput(o))&&(e=n.connection):n===$c.PREVIOUS_STATEMENT&&(e=i.nextConnection),e?t.connect(e):console.warn("Can't connect to non-existent input: "+o)}}else console.warn("Can't move non-existent block: "+this.blockId)}};ye(Vs.EVENT,aa,fp);var gp=class extends Wa{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=Ge(),this.recordUndo=Ne())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}fromJson(e){t("Blockly.Events.CommentBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.commentId=e.commentId}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new gp)).commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var n=e.getEventWorkspace_();if(t){if(t=Xe("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),xt(t,n)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(n=n.getCommentById(e.commentId))?n.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},mp=class extends gp{constructor(e,t,n){super(e),this.type=wa,e&&(this.oldContents_=void 0===t?"":t,this.newContents_=void 0===n?"":n)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}fromJson(e){t("Blockly.Events.CommentChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldContents_=e.oldContents,this.newContents_=e.newContents}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new mp)).oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var n=e?this.newContents_:this.oldContents_;if(!n){if(e)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson")}t.setContent(n)}else console.warn("Can't change non-existent comment: "+this.commentId)}};ye(Vs.EVENT,wa,mp);var _p=class extends gp{constructor(e){super(e),this.type=ya,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Mt(this.xml),e}fromJson(e){t("Blockly.Events.CommentCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=Ot(e.xml)}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new _p)).xml=Ot(e.xml),t}run(e){gp.CommentCreateDeleteHelper(this,e)}};ye(Vs.EVENT,ya,_p);var vp=class extends gp{constructor(e){super(e),this.type=Ta,e&&(this.xml=e.toXmlWithXY())}run(e){gp.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Mt(this.xml),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new vp)).xml=Ot(e.xml),t}};ye(Vs.EVENT,Ta,vp);var bp=class extends gp{constructor(e){super(e),this.type=Sa,e&&(this.comment_=e,this.oldCoordinate_=e.getXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}fromJson(e){t("Blockly.Events.CommentMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e);let n=e.oldCoordinate.split(",");this.oldCoordinate_=new bs(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),this.newCoordinate_=new bs(Number(n[0]),Number(n[1]))}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new bp),n=e.oldCoordinate.split(","),t.oldCoordinate_=new bs(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),t.newCoordinate_=new bs(Number(n[0]),Number(n[1])),t}isNull(){return bs.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(!(e=e?this.newCoordinate_:this.oldCoordinate_))throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};ye(Vs.EVENT,Sa,bp);var Ep=class extends Wa{constructor(e,t){super(),this.model=t,this.isBlank=!1,this.workspaceId=e.id}toJson(){const e=super.toJson();return e.procedureId=this.model.getId(),e}},yp=class extends Ep{constructor(e,t,n){super(e,t),this.oldTypes=n,this.type=Oa,this.newTypes=t.getReturnTypes()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the type of a procedure that does not exist in the procedure map");e?t.setReturnTypes(this.newTypes):t.setReturnTypes(this.oldTypes)}toJson(){const e=super.toJson();return e.oldTypes=this.oldTypes,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure change return event because the target procedure does not exist");return new yp(t,n,e.oldTypes)}};ye(Vs.EVENT,Oa,yp);var Tp=class extends Ep{constructor(e,t){super(e,t),this.type=Ia}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap(),r=n.get(this.model.getId());e?r||n.add(new ph(t,this.model.getName(),this.model.getId())):r&&n.delete(this.model.getId())}toJson(){const e=super.toJson();return e.model=Go(this.model),e}static fromJson(e,t){return new Tp(t,Ho(ph,fh,e.model,t))}};ye(Vs.EVENT,Ia,Tp);var wp=class extends Ep{constructor(e,t){super(e,t),this.type=ka}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap(),r=n.get(this.model.getId());e?r&&n.delete(this.model.getId()):r||n.add(new ph(t,this.model.getName(),this.model.getId()))}toJson(){return super.toJson()}static fromJson(e,t){if(!(e=t.getProcedureMap().get(e.procedureId)))throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");return new wp(t,e)}};ye(Vs.EVENT,ka,wp);var Sp=class extends Ep{constructor(e,t){super(e,t),this.type=Ma,this.oldState=!t.getEnabled(),this.newState=t.getEnabled()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the enabled state of a procedure that does not exist in the procedure map");e?t.setEnabled(this.newState):t.setEnabled(this.oldState)}toJson(){return super.toJson()}static fromJson(e,t){if(!(e=t.getProcedureMap().get(e.procedureId)))throw Error("Cannot deserialize procedure enable event because the target procedure does not exist");return new Sp(t,e)}};ye(Vs.EVENT,Ma,Sp);var Cp=class extends Ep{constructor(e,t,n){super(e,t),this.oldName=n,this.type=Ra,this.newName=t.getName()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the type of a procedure that does not exist in the procedure map");e?t.setName(this.newName):t.setName(this.oldName)}toJson(){const e=super.toJson();return e.oldName=this.oldName,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure rename event because the target procedure does not exist");return new Cp(t,n,e.oldName)}};ye(Vs.EVENT,Ra,Cp);var Ip=class extends Ep{constructor(e,t,n){super(e,t),this.parameter=n}toJson(){const e=super.toJson();return e.parameterId=this.model.getId(),e}},kp=class extends Ip{constructor(e,t,n,r){super(e,t,n),this.index=r,this.type=xa}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap().get(this.model.getId());if(!n)throw Error("Cannot add a parameter to a procedure that does not exist in the procedure map");const r=n.getParameter(this.index);e?this.parameterMatches(r)||n.insertParameter(new fh(t,this.parameter.getName(),this.parameter.getId()),this.index):this.parameterMatches(r)&&n.deleteParameter(this.index)}parameterMatches(e){return e&&e.getId()===this.parameter.getId()}toJson(){const e=super.toJson();return e.parameter=jo(this.parameter),e.index=this.index,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize parameter create event because the target procedure does not exist");return new kp(t,n,Vo(fh,e.parameter,t),e.index)}};ye(Vs.EVENT,xa,kp);var Rp=class extends Ip{constructor(e,t,n,r){super(e,t,n),this.index=r,this.type=Aa}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap().get(this.model.getId());if(!n)throw Error("Cannot add a parameter to a procedure that does not exist in the procedure map");const r=n.getParameter(this.index);e?this.parameterMatches(r)&&n.deleteParameter(this.index):this.parameterMatches(r)||n.insertParameter(new fh(t,this.parameter.getName(),this.parameter.getId()),this.index)}parameterMatches(e){return e&&e.getId()===this.parameter.getId()}toJson(){const e=super.toJson();return e.index=this.index,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");const r=n.getParameter(e.index);return new Rp(t,n,r,e.index)}};ye(Vs.EVENT,Aa,Rp);var Mp=class extends Ip{constructor(e,t,n,r){super(e,t,n),this.oldName=r,this.type=Na,this.newName=n.getName()}run(e){const t=ni(this.getEventWorkspace_(),this.model.getId(),this.parameter.getId());if(!t)throw Error("Cannot rename a parameter that does not exist in the procedure map");e?t.setName(this.newName):t.setName(this.oldName)}toJson(){const e=super.toJson();return e.oldName=this.oldName,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");const r=ni(t,e.procedureId,e.parameterId);if(!r)throw Error("Cannot deserialize parameter rename event because the target parameter does not exist");return new Mp(t,n,r,e.oldName)}};ye(Vs.EVENT,Na,Mp);var Op=class extends Qa{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=da,e&&(this.blockId=e.id,this.isStart=t,this.blocks=n)}toJson(){const e=super.toJson();if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}fromJson(e){t("Blockly.Events.BlockDrag.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Op)).isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};ye(Vs.EVENT,da,Op);var xp=class extends Qa{constructor(e,t,n,r){super(e?e.workspace.id:void 0),this.type=ha,this.blockId=e?e.id:null,this.element=void 0===t?"":t,this.oldValue=void 0===n?"":n,this.newValue=void 0===r?"":r}toJson(){const e=super.toJson();return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e}fromJson(e){super.fromJson(e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId}};ye(Vs.EVENT,ha,xp);var Ap=class extends Wa{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Ca,this.isBlank=!!e,e&&(this.workspaceId=e.id)}toJson(){const e=super.toJson();if(!this.workspaceId)throw Error("The workspace ID is undefined. Either pass a workspace to the constructor, or call fromJson");return e.workspaceId=this.workspaceId,e}fromJson(e){super.fromJson(e),this.workspaceId=e.workspaceId}};ye(Vs.EVENT,Ca,Ap),e.module$build$src$core$events$events={},e.module$build$src$core$events$events.Abstract=Wa,e.module$build$src$core$events$events.BLOCK_CHANGE=sa,e.module$build$src$core$events$events.BLOCK_CREATE=oa,e.module$build$src$core$events$events.BLOCK_DELETE=ia,e.module$build$src$core$events$events.BLOCK_DRAG=da,e.module$build$src$core$events$events.BLOCK_MOVE=aa,e.module$build$src$core$events$events.BUBBLE_OPEN=ma,e.module$build$src$core$events$events.BUMP_EVENTS=La,e.module$build$src$core$events$events.BlockBase=ul,e.module$build$src$core$events$events.BlockChange=hl,e.module$build$src$core$events$events.BlockCreate=Pc,e.module$build$src$core$events$events.BlockDelete=Bc,e.module$build$src$core$events$events.BlockDrag=Op,e.module$build$src$core$events$events.BlockMove=fp,e.module$build$src$core$events$events.BubbleOpen=oc,e.module$build$src$core$events$events.BubbleType=rc,e.module$build$src$core$events$events.CHANGE=sa,e.module$build$src$core$events$events.CLICK=fa,e.module$build$src$core$events$events.COMMENT_CHANGE=wa,e.module$build$src$core$events$events.COMMENT_CREATE=ya,e.module$build$src$core$events$events.COMMENT_DELETE=Ta,e.module$build$src$core$events$events.COMMENT_MOVE=Sa,e.module$build$src$core$events$events.CREATE=oa,e.module$build$src$core$events$events.Click=Ju,e.module$build$src$core$events$events.ClickTarget=Ku,e.module$build$src$core$events$events.CommentBase=gp,e.module$build$src$core$events$events.CommentChange=mp,e.module$build$src$core$events$events.CommentCreate=_p,e.module$build$src$core$events$events.CommentDelete=vp,e.module$build$src$core$events$events.CommentMove=bp,e.module$build$src$core$events$events.DELETE=ia,e.module$build$src$core$events$events.FINISHED_LOADING=Ca,e.module$build$src$core$events$events.FinishedLoading=Ap,e.module$build$src$core$events$events.MARKER_MOVE=ga,e.module$build$src$core$events$events.MOVE=aa,e.module$build$src$core$events$events.MarkerMove=Vh,e.module$build$src$core$events$events.ProcedureBase=Ep,e.module$build$src$core$events$events.ProcedureChangeReturn=yp,e.module$build$src$core$events$events.ProcedureCreate=Tp,e.module$build$src$core$events$events.ProcedureDelete=wp,e.module$build$src$core$events$events.ProcedureEnable=Sp,e.module$build$src$core$events$events.ProcedureParameterBase=Ip,e.module$build$src$core$events$events.ProcedureParameterCreate=kp,e.module$build$src$core$events$events.ProcedureParameterDelete=Rp,e.module$build$src$core$events$events.ProcedureParameterRename=Mp,e.module$build$src$core$events$events.ProcedureRename=Cp,e.module$build$src$core$events$events.SELECTED=pa,e.module$build$src$core$events$events.Selected=el,e.module$build$src$core$events$events.THEME_CHANGE=ba,e.module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=va,e.module$build$src$core$events$events.TRASHCAN_OPEN=_a,e.module$build$src$core$events$events.ThemeChange=ih,e.module$build$src$core$events$events.ToolboxItemSelect=ju,e.module$build$src$core$events$events.TrashcanOpen=wc,e.module$build$src$core$events$events.UI=ha,e.module$build$src$core$events$events.Ui=xp,e.module$build$src$core$events$events.UiBase=Qa,e.module$build$src$core$events$events.VAR_CREATE=la,e.module$build$src$core$events$events.VAR_DELETE=ca,e.module$build$src$core$events$events.VAR_RENAME=ua,e.module$build$src$core$events$events.VIEWPORT_CHANGE=Ea,e.module$build$src$core$events$events.VarBase=za,e.module$build$src$core$events$events.VarCreate=Za,e.module$build$src$core$events$events.VarDelete=rd,e.module$build$src$core$events$events.VarRename=od,e.module$build$src$core$events$events.ViewportChange=sh,e.module$build$src$core$events$events.clearPendingUndo=$e,e.module$build$src$core$events$events.disable=Be,e.module$build$src$core$events$events.disableOrphans=Ze,e.module$build$src$core$events$events.enable=Fe,e.module$build$src$core$events$events.filter=Pe,e.module$build$src$core$events$events.fire=Le,e.module$build$src$core$events$events.fromJson=Ve,e.module$build$src$core$events$events.get=ze,e.module$build$src$core$events$events.getDescendantIds=He,e.module$build$src$core$events$events.getGroup=Ge,e.module$build$src$core$events$events.getRecordUndo=Ne,e.module$build$src$core$events$events.isEnabled=Ue,e.module$build$src$core$events$events.setGroup=je,e.module$build$src$core$events$events.setRecordUndo=Ae,Ei();var Np={};Np.registerCleanup=ii,Np.registerCollapse=ai,Np.registerCollapseExpandBlock=mi,Np.registerComment=fi,Np.registerDefaultOptions=Ei,Np.registerDelete=vi,Np.registerDeleteAll=di,Np.registerDisable=_i,Np.registerDuplicate=pi,Np.registerExpand=li,Np.registerHelp=bi,Np.registerInline=gi,Np.registerRedo=oi,Np.registerUndo=ri;var Lp=class{constructor(e,t){this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.draggingBlock_=e,this.draggedConnectionManager_=new Xh(this.draggingBlock_),this.workspace_=t,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=function(e){const t=[];e=e.getDescendants(!1);for(let n,r=0;n=e[r];r++){const e=n.getIcons();for(let n=0;n<e.length;n++){const r={location:e[n].getIconLocation(),icon:e[n]};t.push(r)}}return t}(e)}dispose(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()}startDrag(e,t){Ge()||je(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),U(),this.workspace_.setResizesEnabled(!1),Vr(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=bs.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),jr(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()}fireDragStartEvent_(){const e=new(ze(da))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));Le(e)}drag(e,t){t=this.pixelsToWorkspaceUnits_(t);var n=bs.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(t),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(t,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock,e!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)}endDrag(e,t){this.drag(e,t),this.dragIconData_=[],this.fireDragEndEvent_(),G(),Vr(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)?t=this.startXY_:(e=(t=this.getNewLocationAfterDrag_(t)).delta,t=t.newLocation),this.draggingBlock_.moveOffDragSurface(t),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_(e):Wo(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),je(!1)}getNewLocationAfterDrag_(e){return{delta:e=this.pixelsToWorkspaceUnits_(e),newLocation:bs.sum(this.startXY_,e)}}maybeDeleteBlock_(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),is.length=0,!0)}updateBlockAfterMove_(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()}fireDragEndEvent_(){const e=new(ze(da))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));Le(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof t.removeStyle?t.removeStyle(n):e||"function"!=typeof t.addStyle||t.addStyle(n)}}fireMoveEvent_(){const e=new(ze(aa))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),Le(e)}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new bs(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(e){for(let t=0;t<this.dragIconData_.length;t++){const n=this.dragIconData_[t];n.icon.setIconLocation(bs.sum(n.location,e))}}getInsertionMarkers(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]}};ye(Vs.BLOCK_DRAGGER,Hs,Lp);var Dp=e.Align$$module$build$src$core$input.LEFT,Pp=e.Align$$module$build$src$core$input.CENTRE,$p=e.Align$$module$build$src$core$input.RIGHT,Bp=$c.INPUT_VALUE,Fp=$c.OUTPUT_VALUE,Up=$c.NEXT_STATEMENT,Gp=$c.PREVIOUS_STATEMENT,jp=Ks.DUMMY,Hp=uc.TOP,Vp=uc.BOTTOM,Wp=uc.LEFT,zp=uc.RIGHT;sd.prototype.newBlock=function(e,t){return new zc(this,e,t)},cd.prototype.newBlock=function(e,t){return new bu(this,e,t)},cd.newTrashcan=function(e){return new ku(e)},cl.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(oo(this)),t.push(ro(this))),Kr(e,t,this.RTL)}},e.Mutator$$module$build$src$core$mutator.prototype.newWorkspaceSvg=function(e){return new cd(e)},ch.prototype.populateProcedures=function(e){e=(e=Eo(e))[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],ch.NameType.PROCEDURE)};var Zp=$c,Xp={};return Xp.ALIGN_CENTRE=Pp,Xp.ALIGN_LEFT=Dp,Xp.ALIGN_RIGHT=$p,Xp.ASTNode=Wc,Xp.BasicCursor=pu,Xp.Block=zc,Xp.BlockDragSurfaceSvg=Yd,Xp.BlockDragger=Lp,Xp.BlockSvg=bu,Xp.Blocks=as,Xp.Bubble=ac,Xp.BubbleDragger=eh,Xp.COLLAPSED_FIELD_NAME=Gc,Xp.COLLAPSED_INPUT_NAME=Uc,Xp.COLLAPSE_CHARS=30,Xp.CodeGenerator=e.CodeGenerator$$module$build$src$core$generator,Xp.CollapsibleToolboxCategory=zu,Xp.Comment=Kc,Xp.ComponentManager=Cc,Xp.Connection=Fc,Xp.ConnectionChecker=nd,Xp.ConnectionDB=ah,Xp.ConnectionType=$c,Xp.ContextMenu=e.module$build$src$core$contextmenu,Xp.ContextMenuItems=Np,Xp.ContextMenuRegistry=ru,Xp.Css=rl,Xp.Cursor=du,Xp.DELETE_VARIABLE_ID=cu,Xp.DRAG_STACK=su,Xp.DUMMY_INPUT=jp,Xp.DeleteArea=Su,Xp.DragTarget=wu,Xp.DropDownDiv=Fs,Xp.Events=e.module$build$src$core$events$events,Xp.Extensions=e.module$build$src$core$extensions,Xp.Field=jl,Xp.FieldAngle=dp,Xp.FieldCheckbox=e.FieldCheckbox$$module$build$src$core$field_checkbox,Xp.FieldColour=up,Xp.FieldDropdown=tc,Xp.FieldImage=e.FieldImage$$module$build$src$core$field_image,Xp.FieldLabel=e.FieldLabel$$module$build$src$core$field_label,Xp.FieldLabelSerializable=cp,Xp.FieldMultilineInput=lp,Xp.FieldNumber=ap,Xp.FieldTextInput=e.FieldTextInput$$module$build$src$core$field_textinput,Xp.FieldVariable=sp,Xp.Flyout=rp,Xp.FlyoutButton=Qd,Xp.FlyoutMetricsManager=np,Xp.Generator=e.CodeGenerator$$module$build$src$core$generator,Xp.Gesture=nh,Xp.Grid=lh,Xp.HorizontalFlyout=ip,Xp.INPUT_VALUE=Bp,Xp.Icon=lc,Xp.Input=Vc,Xp.InsertionMarkerManager=Xh,Xp.Marker=hu,Xp.MarkerManager=dl,Xp.Menu=Ql,Xp.MenuItem=ec,Xp.MetricsManager=ep,Xp.Msg=Ba,Xp.Mutator=e.Mutator$$module$build$src$core$mutator,Xp.NEXT_STATEMENT=Up,Xp.Names=ch,Xp.OPPOSITE_TYPE=au,Xp.OUTPUT_VALUE=Fp,Xp.Options=_c,Xp.PREVIOUS_STATEMENT=Gp,Xp.PROCEDURE_CATEGORY_NAME=uh,Xp.Procedures=e.module$build$src$core$procedures,Xp.RENAME_VARIABLE_ID=lu,Xp.RenderedConnection=gu,Xp.Scrollbar=sc,Xp.ScrollbarPair=Jd,Xp.ShortcutItems=oh,Xp.ShortcutRegistry=rh,Xp.TOOLBOX_AT_BOTTOM=Vp,Xp.TOOLBOX_AT_LEFT=Wp,Xp.TOOLBOX_AT_RIGHT=zp,Xp.TOOLBOX_AT_TOP=Hp,Xp.TabNavigateCursor=fu,Xp.Theme=hc,Xp.ThemeManager=Qh,Xp.Themes=Yu,Xp.Toolbox=Zu,Xp.ToolboxCategory=Vu,Xp.ToolboxItem=Hu,Xp.ToolboxSeparator=Wu,Xp.Tooltip=Ml,Xp.Touch=ji,Xp.TouchGesture=nh,Xp.Trashcan=ku,Xp.VARIABLE_CATEGORY_NAME=Xa,Xp.VARIABLE_DYNAMIC_CATEGORY_NAME=ed,Xp.VERSION="9.2.1",Xp.VariableMap=id,Xp.VariableModel=Ja,Xp.Variables=e.module$build$src$core$variables,Xp.VariablesDynamic=td,Xp.VerticalFlyout=op,Xp.Warning=vu,Xp.WidgetDiv=Gl,Xp.Workspace=sd,Xp.WorkspaceAudio=ad,Xp.WorkspaceComment=qa,Xp.WorkspaceCommentSvg=cl,Xp.WorkspaceDragSurfaceSvg=Xd,Xp.WorkspaceDragger=th,Xp.WorkspaceSvg=cd,Xp.Xml=e.module$build$src$core$xml,Xp.ZoomControls=ld,Xp.bindEventWithChecks_=function(e,n,r,o,i,s){return t("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),c(e,n,r,o,i)},Xp.bindEvent_=function(e,n,r,o){return t("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),u(e,n,r,o)},Xp.blockAnimations=Yc,Xp.blockRendering=qh,Xp.browserEvents=es,Xp.bumpObjects=Kd,Xp.clipboard=nu,Xp.common=e.module$build$src$core$common,Xp.config=e.config$$module$build$src$core$config,Xp.connectionTypes=Zp,Xp.constants=jc,Xp.copy=function(e){t("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),Wr(e)},Xp.defineBlocksWithJsonArray=M,Xp.dialog=Va,Xp.duplicate=function(e){t("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),Zr(e)},Xp.fieldRegistry=zl,Xp.geras=Zd,Xp.getMainWorkspace=E,Xp.getSelected=T,Xp.hideChaff=function(e){E().hideChaff(e)},Xp.hueToHex=function(e){return t("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),fn(e)},Xp.inject=Yo,Xp.inputTypes=Ks,Xp.isNumber=function(e){return t("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),Wt(e)},Xp.minimalist=$d,Xp.paste=function(){return t("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),!!zr()},Xp.procedures=e.module$build$src$core$procedures,Xp.registry=Ws,Xp.resizeSvgContents=yi,Xp.serialization=_d,Xp.setLocale=Fa,Xp.setParentContainer=C,Xp.svgResize=I,Xp.thrasos=Ad,Xp.uiPosition=Cu,Xp.unbindEvent_=function(e){return t("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),h(e)},Xp.utils=Tc,Xp.zelos=Md,e.module$build$src$core$contextmenu,e.module$build$src$core$events$events,e.module$build$src$core$msg,e.module$build$src$core$common,Object.defineProperties(Xp,{alert:{set:function(e){Ii.warn("Blockly.alert","December 2021","December 2022"),Va.setAlert(e)},get:function(){return Ii.warn("Blockly.alert","December 2021","December 2022","Blockly.dialog.alert()"),Va.alert}},confirm:{set:function(e){Ii.warn("Blockly.confirm","December 2021","December 2022"),Va.setConfirm(e)},get:function(){return Ii.warn("Blockly.confirm","December 2021","December 2022","Blockly.dialog.confirm()"),Va.confirm}},mainWorkspace:{set:function(t){Ii.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),e.module$build$src$core$common.setMainWorkspace(t)},get:function(){return Ii.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),e.module$build$src$core$common.getMainWorkspace()}},prompt:{set:function(e){Ii.warn("Blockly.prompt","December 2021","December 2022"),Va.setPrompt(e)},get:function(){return Ii.warn("Blockly.prompt","December 2021","December 2022","Blockly.dialog.prompt()"),Va.prompt}},selected:{get:function(){return Ii.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),e.module$build$src$core$common.getSelected()},set:function(t){Ii.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),e.module$build$src$core$common.setSelected(t)}},HSV_SATURATION:{get:function(){return Nl.getHsvSaturation()},set:function(e){Nl.setHsvSaturation(e)}},HSV_VALUE:{get:function(){return Nl.getHsvValue()},set:function(e){Nl.setHsvValue(e)}}}),Object.defineProperties(e.module$build$src$core$contextmenu,{currentBlock:{get:function(){return Ii.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),e.module$build$src$core$contextmenu.getCurrentBlock()},set:function(t){Ii.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),e.module$build$src$core$contextmenu.setCurrentBlock(t)}}}),Object.defineProperties(e.module$build$src$core$events$events,{recordUndo:{get:function(){return Ii.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),$a.getRecordUndo()},set:function(e){Ii.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),$a.setRecordUndo(e)}}}),Object.defineProperties(Ml,{visible:{get:function(){return Ii.warn("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),Ml.isVisible()}},DIV:{get:function(){return Ii.warn("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),Ml.getDiv()}}}),Object.defineProperties(Gl,{DIV:{get:function(){return Ii.warn("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),Gl.getDiv()}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:e.module$build$src$core$msg}),Xp.__namespace__=e,Xp})?r.apply(t,o):r)||(e.exports=i)},4541:function(e,t,n){var r,o,i;o=[n(5849)],void 0===(i="function"==typeof(r=function(e){return e})?r.apply(t,o):r)||(e.exports=i)},5849:function(e,t,n){var r,o,i;o=[n(4501)],void 0===(i="function"==typeof(r=function(e){var t=e.__namespace__,n={},r=(t.module$build$src$core$contextmenu,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),o=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,i=t.module$build$src$core$common.defineBlocks;n.blocks=o([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);var s={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!==this.type&&"variables_get_reporter_dynamic"!==this.type||(n={text:r.RENAME_VARIABLE,enabled:!0,callback:a(this)},s=this.getField("VAR").getText(),s={text:r.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:l(this)},e.unshift(n),e.unshift(s));else{var n=this.getFieldValue("VAR"),o=this.workspace.getVariableById(n).type;if("variables_get_dynamic"===this.type){n="variables_set_dynamic";var i=r.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",i=r.VARIABLES_SET_CREATE_GET;var s={enabled:0<this.workspace.remainingCapacity()};const a=this.getField("VAR").getText();s.text=i.replace("%1",a),(i=t.module$build$src$core$utils$xml.createElement("field")).setAttribute("name","VAR"),i.setAttribute("variabletype",o),i.appendChild(t.module$build$src$core$utils$xml.createTextNode(a)),(o=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type",n),o.appendChild(i),s.callback=t.module$build$src$core$contextmenu.callbackFactory(this,o),e.push(s)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.module$build$src$core$variables.getVariable(this.workspace,e),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},a=function(e){return function(){const n=e.workspace,r=e.getField("VAR").getVariable();t.module$build$src$core$variables.renameVariable(n,r)}},l=function(e){return function(){const t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.module$build$src$core$extensions.registerMixin("contextMenu_variableDynamicSetterGetter",s),i(n.blocks);var c={},u=(t.module$build$src$core$contextmenu,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),h=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,d=t.module$build$src$core$common.defineBlocks;c.blocks=h([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);var p={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!==this.type&&"variables_get_reporter"!==this.type||(n={text:u.RENAME_VARIABLE,enabled:!0,callback:f(this)},o=this.getField("VAR").getText(),o={text:u.DELETE_VARIABLE.replace("%1",o),enabled:!0,callback:g(this)},e.unshift(n),e.unshift(o));else{if("variables_get"===this.type)var n="variables_set",r=u.VARIABLES_GET_CREATE_SET;else n="variables_get",r=u.VARIABLES_SET_CREATE_GET;var o={enabled:0<this.workspace.remainingCapacity()},i=this.getField("VAR").getText();o.text=r.replace("%1",i),(r=t.module$build$src$core$utils$xml.createElement("field")).setAttribute("name","VAR"),r.appendChild(t.module$build$src$core$utils$xml.createTextNode(i)),(i=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type",n),i.appendChild(r),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,i),e.push(o)}}},f=function(e){return function(){const n=e.workspace,r=e.getField("VAR").getVariable();t.module$build$src$core$variables.renameVariable(n,r)}},g=function(e){return function(){const t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.module$build$src$core$extensions.registerMixin("contextMenu_variableSetterGetter",p),d(c.blocks);var m={},_=(t.module$build$src$core$extensions,t.module$build$src$core$msg.Msg),v=(t.module$build$src$core$utils$xml,t.Align$$module$build$src$core$input,t.module$build$src$core$connection_type.ConnectionType,t.module$build$src$core$field_dropdown.FieldDropdown),b=(t.FieldImage$$module$build$src$core$field_image,t.FieldTextInput$$module$build$src$core$field_textinput,t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),E=t.module$build$src$core$common.defineBlocks;m.blocks=b([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),m.blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[_.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[_.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[_.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[_.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[_.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[_.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(_.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(_.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),_.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(_.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(_.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");var n=this.getInput("AT1").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){const t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),_.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(_.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2===e&&_.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_.TEXT_GET_SUBSTRING_TAIL));const n=new v(this["WHERE_OPTIONS_"+e],(function(n){const r="FROM_START"===n||"FROM_END"===n;if(r!==t){const t=this.getSourceBlock();return t.updateAt_(e,r),t.setFieldValue(n,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},m.blocks.text_changeCase={init:function(){const e=[[_.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[_.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[_.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(_.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new v(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(_.TEXT_CHANGECASE_TOOLTIP)}},m.blocks.text_trim={init:function(){const e=[[_.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[_.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[_.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(_.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new v(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(_.TEXT_TRIM_TOOLTIP)}},m.blocks.text_print={init:function(){this.jsonInit({message0:_.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:_.TEXT_PRINT_TOOLTIP,helpUrl:_.TEXT_PRINT_HELPURL})}};var y={updateType_:function(e){this.outputConnection.setCheck("NUMBER"===e?"Number":"String")},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}};m.blocks.text_prompt_ext=Object.assign({},y,{init:function(){var e=[[_.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(_.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");const t=this;e=new v(e,(function(e){t.updateType_(e)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===t.getFieldValue("TYPE")?_.TEXT_PROMPT_TOOLTIP_TEXT:_.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),m.blocks.text_prompt=Object.assign({},y,{init:function(){this.mixin(T);var e=[[_.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];const n=this;this.setHelpUrl(_.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new v(e,(function(e){n.updateType_(e)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput$$module$build$src$core$field_textinput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===n.getFieldValue("TYPE")?_.TEXT_PROMPT_TOOLTIP_TEXT:_.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),m.blocks.text_count={init:function(){this.jsonInit({message0:_.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_COUNT_TOOLTIP,helpUrl:_.TEXT_COUNT_HELPURL})}},m.blocks.text_replace={init:function(){this.jsonInit({message0:_.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_REPLACE_TOOLTIP,helpUrl:_.TEXT_REPLACE_HELPURL})}},m.blocks.text_reverse={init:function(){this.jsonInit({message0:_.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_REVERSE_TOOLTIP,helpUrl:_.TEXT_REVERSE_HELPURL})}};var T={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)if(e===n.name)return t.insertFieldAt(r,this.newQuote_(!0)),void t.insertFieldAt(r+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage$$module$build$src$core$field_image(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"“":"”")}},w=function(){this.mixin(T),this.quoteField_("TEXT")},S={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){const t=e.newBlock("text_create_join_container");t.initSvg();let n=t.getInput("STACK").connection;for(let t=0;t<this.itemCount_;t++){const t=e.newBlock("text_create_join_item");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)n.isInsertionMarker()||e.push(n.valueConnection_),n=n.getNextBlock();for(n=0;n<this.itemCount_;n++){const t=this.getInput("ADD"+n).connection.targetConnection;t&&-1===e.indexOf(t)&&t.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator$$module$build$src$core$mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}const n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){const n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT);0===e&&n.appendField(_.TEXT_JOIN_TITLE_CREATEWITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},C=function(){this.mixin(T),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["text_create_join_item"],this))};t.module$build$src$core$extensions.register("text_append_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var I=function(){const e=this;this.setTooltip((function(){return _.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},k={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),_.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(_.ORDINAL_NUMBER_SUFFIX)),_.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_.TEXT_CHARAT_TAIL)),this.isAt_=e}},R=function(){this.getField("WHERE").setValidator((function(e){(e="FROM_START"===e||"FROM_END"===e)!==this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);const e=this;this.setTooltip((function(){var t=e.getFieldValue("WHERE");let n=_.TEXT_CHARAT_TOOLTIP;return("FROM_START"===t||"FROM_END"===t)&&(t="FROM_START"===t?_.LISTS_INDEX_FROM_START_TOOLTIP:_.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+t.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),n}))};t.module$build$src$core$extensions.register("text_indexOf_tooltip",I),t.module$build$src$core$extensions.register("text_quotes",w),t.module$build$src$core$extensions.registerMutator("text_join_mutator",S,C),t.module$build$src$core$extensions.registerMutator("text_charAt_mutator",k,R),E(m.blocks);var M={},O=(t.module$build$src$core$contextmenu,t.module$build$src$core$events$events,t.module$build$src$core$procedures,t.module$build$src$core$variables,t.module$build$src$core$xml,t.module$build$src$core$utils$xml,t.Align$$module$build$src$core$input,t.config$$module$build$src$core$config,t.FieldCheckbox$$module$build$src$core$field_checkbox,t.FieldLabel$$module$build$src$core$field_label,t.FieldTextInput$$module$build$src$core$field_textinput,t.module$build$src$core$msg.Msg),x=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$names.Names,t.module$build$src$core$common.defineBlocks);M.blocks={};var A={setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(O.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){let e="";this.arguments_.length&&(e=O.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.module$build$src$core$events$events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.module$build$src$core$events$events.enable()}},mutationToDom:function(e){const n=t.module$build$src$core$utils$xml.createElement("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(let r=0;r<this.argumentVarModels_.length;r++){const o=t.module$build$src$core$utils$xml.createElement("arg"),i=this.argumentVarModels_[r];o.setAttribute("name",i.name),o.setAttribute("varid",i.getId()),e&&this.paramIds_&&o.setAttribute("paramId",this.paramIds_[r]),n.appendChild(o)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(let r,o=0;r=e.childNodes[o];o++)if("arg"===r.nodeName.toLowerCase()){const e=r.getAttribute("name");var n=r.getAttribute("varid")||r.getAttribute("varId");this.arguments_.push(e),null!==(n=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,n,e,""))?this.argumentVarModels_.push(n):console.log(`Failed to create a variable named "${e}", ignoring.`)}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const e=Object.create(null);if(this.argumentVarModels_.length){e.params=[];for(let t=0;t<this.argumentVarModels_.length;t++)e.params.push({name:this.argumentVarModels_[t].name,id:this.argumentVarModels_[t].getId()})}return this.hasStatements_||(e.hasStatements=!1),e},loadExtraState:function(e){if(this.arguments_=[],this.argumentVarModels_=[],e.params)for(let r=0;r<e.params.length;r++){var n=e.params[r];n=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,n.id,n.name,""),this.arguments_.push(n.name),this.argumentVarModels_.push(n)}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),this.setStatements_(!1!==e.hasStatements)},decompose:function(e){const n=t.module$build$src$core$utils$xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var r=t.module$build$src$core$utils$xml.createElement("statement");r.setAttribute("name","STACK"),n.appendChild(r);for(let e=0;e<this.arguments_.length;e++){const n=t.module$build$src$core$utils$xml.createElement("block");n.setAttribute("type","procedures_mutatorarg");var o=t.module$build$src$core$utils$xml.createElement("field");o.setAttribute("name","NAME");const i=t.module$build$src$core$utils$xml.createTextNode(this.arguments_[e]);o.appendChild(i),n.appendChild(o),o=t.module$build$src$core$utils$xml.createElement("next"),n.appendChild(o),r.appendChild(n),r=o}return e=t.module$build$src$core$xml.domToBlock(n,e),"procedures_defreturn"===this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.module$build$src$core$procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let n=e.getInputTargetBlock("STACK");for(;n&&!n.isInsertionMarker();){var r=n.getFieldValue("NAME");this.arguments_.push(r),r=this.workspace.getVariable(r,""),this.argumentVarModels_.push(r),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"===e,this.hasStatements_!==e)&&(e?(this.setStatements_(!0),t.Mutator$$module$build$src$core$mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&((e=e.targetBlock()).unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var r=this.workspace.getVariableById(e);if(""===r.type){r=r.name,n=this.workspace.getVariableById(n);var o=!1;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e&&(this.arguments_[t]=n.name,this.argumentVarModels_[t]=n,o=!0);o&&(this.displayRenamedVar_(r,n.name),t.module$build$src$core$procedures.mutateCallers(this))}},updateVarName:function(e){const n=e.name;let r,o=!1;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e.getId()&&(r=this.arguments_[t],this.arguments_[t]=n,o=!0);o&&(this.displayRenamedVar_(r,n),t.module$build$src$core$procedures.mutateCallers(this))},displayRenamedVar_:function(e,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible()){const r=this.mutator.workspace_.getAllBlocks(!1);for(let o,i=0;o=r[i];i++)"procedures_mutatorarg"===o.type&&t.module$build$src$core$names.Names.equals(e,o.getFieldValue("NAME"))&&o.setFieldValue(n,"NAME")}},customContextMenu:function(e){if(!this.isInFlyout){var n={enabled:!0},r=this.getFieldValue("NAME");n.text=O.PROCEDURES_CREATE_DO.replace("%1",r);var o=t.module$build$src$core$utils$xml.createElement("mutation");for(o.setAttribute("name",r),r=0;r<this.arguments_.length;r++){var i=t.module$build$src$core$utils$xml.createElement("arg");i.setAttribute("name",this.arguments_[r]),o.appendChild(i)}if((r=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type",this.callType_),r.appendChild(o),n.callback=t.module$build$src$core$contextmenu.callbackFactory(this,r),e.push(n),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)o={enabled:!0},r=this.argumentVarModels_[n],o.text=O.VARIABLES_SET_CREATE_GET.replace("%1",r.name),r=t.module$build$src$core$variables.generateVariableFieldDom(r),(i=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type","variables_get"),i.appendChild(r),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,i),e.push(o)}}};M.blocks.procedures_defnoreturn=Object.assign({},A,{init:function(){var e=t.module$build$src$core$procedures.findLegalName("",this);(e=new t.FieldTextInput$$module$build$src$core$field_textinput(e,t.module$build$src$core$procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(O.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&O.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(O.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),M.blocks.procedures_defreturn=Object.assign({},A,{init:function(){var e=t.module$build$src$core$procedures.findLegalName("",this);(e=new t.FieldTextInput$$module$build$src$core$field_textinput(e,t.module$build$src$core$procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(O.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.Align$$module$build$src$core$input.RIGHT).appendField(O.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&O.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(O.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"}),M.blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(O.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(O.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox$$module$build$src$core$field_checkbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},M.blocks.procedures_mutatorarg={init:function(){const e=new t.FieldTextInput$$module$build$src$core$field_textinput(t.module$build$src$core$procedures.DEFAULT_ARG,this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(O.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var n=this.getSourceBlock();const r=t.Mutator$$module$build$src$core$mutator.findParentWs(n.workspace);if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;const o=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),i=e.toLowerCase();for(let e=0;e<o.length;e++){if(o[e].id===this.getSourceBlock().id)continue;const t=o[e].getFieldValue("NAME");if(t&&t.toLowerCase()===i)return null}return n.isInFlyout||((n=r.getVariable(e,""))&&n.name!==e&&r.renameVariableById(n.getId(),e),n||(n=r.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(n)),e},deleteIntermediateVars_:function(e){const n=t.Mutator$$module$build$src$core$mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(let t=0;t<this.createdVariables_.length;t++){const r=this.createdVariables_[t];r.name!==e&&n.deleteVariableById(r.getId())}}};var N={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.module$build$src$core$names.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?O.PROCEDURES_CALLRETURN_TOOLTIP:O.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var r=t.module$build$src$core$procedures.getDefinition(this.getProcedureCall(),this.workspace),o=r&&r.mutator&&r.mutator.isVisible();if(o?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),e.join("\n")===this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!==e.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),r=this.rendered,this.rendered=!1;for(let e=0;e<this.arguments_.length;e++){var i=this.getInput("ARG"+e);i&&(i=i.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=i,o&&i&&-1===n.indexOf(this.quarkIds_[e])&&(i.disconnect(),i.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],e=0;e<this.arguments_.length;e++)o=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[e],""),this.argumentVarModels_.push(o);if(this.updateShape_(),this.quarkIds_=n)for(n=0;n<this.arguments_.length;n++)(e=this.quarkIds_[n])in this.quarkConnections_&&(t.Mutator$$module$build$src$core$mutator.reconnect(this.quarkConnections_[e],this,"ARG"+n)||delete this.quarkConnections_[e]);(this.rendered=r)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){t.module$build$src$core$events$events.disable();try{n.setValue(this.arguments_[e])}finally{t.module$build$src$core$events$events.enable()}}else n=new t.FieldLabel$$module$build$src$core$field_label(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT).appendField(n,"ARGNAME"+e).init()}for(e=this.arguments_.length;this.getInput("ARG"+e);e++)this.removeInput("ARG"+e);(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(O.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(let n=0;n<this.arguments_.length;n++){const r=t.module$build$src$core$utils$xml.createElement("arg");r.setAttribute("name",this.arguments_[n]),e.appendChild(r)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];const n=[];for(let r,o=0;r=e.childNodes[o];o++)"arg"===r.nodeName.toLowerCase()&&(t.push(r.getAttribute("name")),n.push(r.getAttribute("paramId")));this.setProcedureParameters_(t,n)},saveExtraState:function(){const e=Object.create(null);return e.name=this.getProcedureCall(),this.arguments_.length&&(e.params=this.arguments_),e},loadExtraState:function(e){if(this.renameProcedure(this.getProcedureCall(),e.name),e=e.params){const t=[];t.length=e.length,t.fill(null),this.setProcedureParameters_(e,t)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type===t.module$build$src$core$events$events.BLOCK_CREATE&&-1!==e.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=t.module$build$src$core$procedures.getDefinition(n,this.workspace))||n.type===this.defType_&&JSON.stringify(n.getVars())===JSON.stringify(this.arguments_)||(n=null),!n){t.module$build$src$core$events$events.setGroup(e.group),e=t.module$build$src$core$utils$xml.createElement("xml"),(n=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type",this.defType_);var r=this.getRelativeToSurfaceXY(),o=r.y+2*t.config$$module$build$src$core$config.snapRadius;n.setAttribute("x",r.x+t.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)),n.setAttribute("y",o),r=this.mutationToDom(),n.appendChild(r),(r=t.module$build$src$core$utils$xml.createElement("field")).setAttribute("name","NAME"),o=this.getProcedureCall();const i=t.module$build$src$core$procedures.findLegalName(o,this);o!==i&&this.renameProcedure(o,i),r.appendChild(t.module$build$src$core$utils$xml.createTextNode(o)),n.appendChild(r),e.appendChild(n),t.module$build$src$core$xml.domToWorkspace(e,this.workspace),t.module$build$src$core$events$events.setGroup(!1)}}else e.type===t.module$build$src$core$events$events.BLOCK_DELETE?(n=this.getProcedureCall(),t.module$build$src$core$procedures.getDefinition(n,this.workspace)||(t.module$build$src$core$events$events.setGroup(e.group),this.dispose(!0),t.module$build$src$core$events$events.setGroup(!1))):e.type===t.module$build$src$core$events$events.CHANGE&&"disabled"===e.element&&(n=this.getProcedureCall(),(n=t.module$build$src$core$procedures.getDefinition(n,this.workspace))&&n.id===e.blockId&&((n=t.module$build$src$core$events$events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.module$build$src$core$events$events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.module$build$src$core$events$events.setGroup(n)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n={enabled:!0};n.text=O.PROCEDURES_HIGHLIGHT_DEF;var r=this.getProcedureCall(),o=this.workspace;n.callback=function(){const e=t.module$build$src$core$procedures.getDefinition(r,o);e&&(o.centerOnBlock(e.id),e.select())},e.push(n)}}};M.blocks.procedures_callnoreturn=Object.assign({},N,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(O.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),M.blocks.procedures_callreturn=Object.assign({},N,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(O.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"}),M.blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(O.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_="1"===e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(!(this.workspace.isDragging&&this.workspace.isDragging()||e.type!==t.module$build$src$core$events$events.BLOCK_MOVE)){var n=!1,r=this;do{if(-1!==this.FUNCTION_TYPES.indexOf(r.type)){n=!0;break}r=r.getSurroundParent()}while(r);n?("procedures_defnoreturn"===r.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==r.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(O.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(r=t.module$build$src$core$events$events.getGroup(),t.module$build$src$core$events$events.setGroup(e.group),this.setEnabled(n),t.module$build$src$core$events$events.setGroup(r))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},x(M.blocks);var L={},D=(t.module$build$src$core$extensions,t.module$build$src$core$field_dropdown,t.module$build$src$core$utils$xml,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),P=t.module$build$src$core$common.defineBlocks;L.blocks=D([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);var $={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};t.module$build$src$core$extensions.register("math_op_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("OP",$));var B={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation"),n="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",n),e},domToMutation:function(e){e="true"===e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){const t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},F=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"===e,this.getSourceBlock().updateShape_(e)}))};t.module$build$src$core$extensions.registerMutator("math_is_divisibleby_mutator",B,F),t.module$build$src$core$extensions.register("math_change_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var U={updateType_:function(e){"MODE"===e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},G=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))};t.module$build$src$core$extensions.registerMutator("math_modes_of_list_mutator",U,G),P(L.blocks);var j={},H=(t.module$build$src$core$contextmenu,t.module$build$src$core$events$events,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),V=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,W=t.module$build$src$core$common.defineBlocks;j.blocks=V([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);var z={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};t.module$build$src$core$extensions.register("controls_whileUntil_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("MODE",z));var Z={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};t.module$build$src$core$extensions.register("controls_flow_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("FLOW",Z));var X={customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),r=n.name;if(!this.isCollapsed()&&null!==r){const o={enabled:!0};o.text=H.VARIABLES_SET_CREATE_GET.replace("%1",r),n=t.module$build$src$core$variables.generateVariableFieldDom(n),(r=t.module$build$src$core$utils$xml.createElement("block")).setAttribute("type","variables_get"),r.appendChild(n),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,r),e.push(o)}}}};t.module$build$src$core$extensions.registerMixin("contextMenu_newGetVariableBlock",X),t.module$build$src$core$extensions.register("controls_for_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.module$build$src$core$extensions.register("controls_forEach_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),j.loopTypes=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]);var Y={getSurroundLoop:function(){let e=this;do{if(j.loopTypes.has(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()&&e.type===t.module$build$src$core$events$events.BLOCK_MOVE){var n=this.getSurroundLoop(this);if(this.setWarningText(n?null:H.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){const r=t.module$build$src$core$events$events.getGroup();t.module$build$src$core$events$events.setGroup(e.group),this.setEnabled(n),t.module$build$src$core$events$events.setGroup(r)}}}};t.module$build$src$core$extensions.registerMixin("controls_flow_in_loop_check",Y),W(j.blocks);var K={},J=(t.module$build$src$core$events$events,t.module$build$src$core$extensions,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),q=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),Q=t.module$build$src$core$common.defineBlocks;K.blocks=q([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);var ee={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};t.module$build$src$core$extensions.register("logic_op_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("OP",ee));var te={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const e=t.module$build$src$core$utils$xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const e=Object.create(null);return this.elseifCount_&&(e.elseIfCount=this.elseifCount_),this.elseCount_&&(e.hasElse=!0),e},loadExtraState:function(e){this.elseifCount_=e.elseIfCount||0,this.elseCount_=e.hasElse?1:0,this.updateShape_()},decompose:function(e){const t=e.newBlock("controls_if_if");t.initSvg();let n=t.nextConnection;for(let t=1;t<=this.elseifCount_;t++){const t=e.newBlock("controls_if_elseif");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const t=[null],n=[null];let r=null;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,r=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,r)},saveConnections:function(e){e=e.nextConnection.targetBlock();let t=1;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t);const r=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=r&&r.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}},rebuildShape_:function(){const e=[null],t=[null];let n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(let n=1;this.getInput("IF"+n);n++){const r=this.getInput("IF"+n),o=this.getInput("DO"+n);e.push(r.connection.targetConnection),t.push(o.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);e++)this.removeInput("IF"+e),this.removeInput("DO"+e);for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(J.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(J.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(J.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,n,r){for(let r=1;r<=this.elseifCount_;r++)t.Mutator$$module$build$src$core$mutator.reconnect(e[r],this,"IF"+r),t.Mutator$$module$build$src$core$mutator.reconnect(n[r],this,"DO"+r);t.Mutator$$module$build$src$core$mutator.reconnect(r,this,"ELSE")}};t.module$build$src$core$extensions.registerMutator("controls_if_mutator",te,null,["controls_if_elseif","controls_if_else"]);var ne=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?J.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?J.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?J.CONTROLS_IF_TOOLTIP_4:"":J.CONTROLS_IF_TOOLTIP_1}.bind(this))};t.module$build$src$core$extensions.register("controls_if_tooltip",ne);var re={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A");const r=this.getInputTargetBlock("B");n&&r&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,r.outputConnection)&&(t.module$build$src$core$events$events.setGroup(e.group),(e=this.prevBlocks_[0])!==n&&(n.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),(n=this.prevBlocks_[1])!==r&&(r.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),t.module$build$src$core$events$events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},oe=function(){this.mixin(re)};t.module$build$src$core$extensions.register("logic_compare",oe);var ie={prevParentConnection_:null,onchange:function(e){const n=this.getInputTargetBlock("THEN"),r=this.getInputTargetBlock("ELSE"),o=this.outputConnection.targetConnection;if((n||r)&&o)for(let i=0;2>i;i++){const s=1===i?n:r;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,o)&&(t.module$build$src$core$events$events.setGroup(e.group),o===this.prevParentConnection_?(this.unplug(),o.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),t.module$build$src$core$events$events.setGroup(!1))}this.prevParentConnection_=o}};t.module$build$src$core$extensions.registerMixin("logic_ternary",ie),Q(K.blocks);var se={},ae=(t.module$build$src$core$utils$xml,t.module$build$src$core$xml,t.Align$$module$build$src$core$input,t.module$build$src$core$connection_type.ConnectionType,t.module$build$src$core$field_dropdown.FieldDropdown),le=t.module$build$src$core$msg.Msg,ce=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),ue=t.module$build$src$core$common.defineBlocks;se.blocks=ce([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),se.blocks.lists_create_with={init:function(){this.setHelpUrl(le.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["lists_create_with_item"],this)),this.setTooltip(le.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){const t=e.newBlock("lists_create_with_container");t.initSvg();let n=t.getInput("STACK").connection;for(let t=0;t<this.itemCount_;t++){const t=e.newBlock("lists_create_with_item");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)n.isInsertionMarker()||e.push(n.valueConnection_),n=n.getNextBlock();for(n=0;n<this.itemCount_;n++){const t=this.getInput("ADD"+n).connection.targetConnection;t&&-1===e.indexOf(t)&&t.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator$$module$build$src$core$mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}const n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(le.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){const n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT);0===e&&n.appendField(le.LISTS_CREATE_WITH_INPUT_WITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},se.blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(le.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(le.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},se.blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(le.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(le.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},se.blocks.lists_indexOf={init:function(){const e=[[le.LISTS_INDEX_OF_FIRST,"FIRST"],[le.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(le.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(le.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new ae(e),"END"),this.setInputsInline(!0);const t=this;this.setTooltip((function(){return le.LISTS_INDEX_OF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")}))}},se.blocks.lists_getIndex={init:function(){var e=[[le.LISTS_GET_INDEX_GET,"GET"],[le.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[le.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[le.LISTS_GET_INDEX_FROM_START,"FROM_START"],[le.LISTS_GET_INDEX_FROM_END,"FROM_END"],[le.LISTS_GET_INDEX_FIRST,"FIRST"],[le.LISTS_GET_INDEX_LAST,"LAST"],[le.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(le.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new ae(e,(function(e){e="REMOVE"===e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(le.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),le.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(le.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);const t=this;this.setTooltip((function(){const e=t.getFieldValue("MODE"),n=t.getFieldValue("WHERE");let r="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":r=le.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":r=le.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":r=le.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":r=le.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":r=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":r=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":r=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":r=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":r=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":r=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":r=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":r=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!==n&&"FROM_END"!==n||(r+="  "+("FROM_START"===n?le.LISTS_INDEX_FROM_START_TOOLTIP:le.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);const n=this.getInput("AT").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){const t="true"===e.getAttribute("statement");this.updateStatement_(t),e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(e){e.isStatement?this.updateStatement_(!0):"string"==typeof e&&this.domToMutation(t.module$build$src$core$xml.textToDom(e))},updateStatement_:function(e){e!==!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const t=new ae(this.WHERE_OPTIONS,(function(t){const n="FROM_START"===t||"FROM_END"===t;if(n!==e){const e=this.getSourceBlock();return e.updateAt_(n),e.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(t,"WHERE"),le.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},se.blocks.lists_setIndex={init:function(){const e=[[le.LISTS_SET_INDEX_SET,"SET"],[le.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[le.LISTS_GET_INDEX_FROM_START,"FROM_START"],[le.LISTS_GET_INDEX_FROM_END,"FROM_END"],[le.LISTS_GET_INDEX_FIRST,"FIRST"],[le.LISTS_GET_INDEX_LAST,"LAST"],[le.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(le.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(le.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new ae(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(le.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(le.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);const t=this;this.setTooltip((function(){const e=t.getFieldValue("MODE"),n=t.getFieldValue("WHERE");let r="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":r=le.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":r=le.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":r=le.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":r=le.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":r=le.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":r=le.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":r=le.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":r=le.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!==n&&"FROM_END"!==n||(r+="  "+le.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation"),n=this.getInput("AT").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const t=new ae(this.WHERE_OPTIONS,(function(t){const n="FROM_START"===t||"FROM_END"===t;if(n!==e){const e=this.getSourceBlock();return e.updateAt_(n),e.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")}},se.blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[le.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[le.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[le.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[le.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[le.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[le.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(le.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(le.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),le.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(le.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(le.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");var n=this.getInput("AT1").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){const t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);const n=new ae(this["WHERE_OPTIONS_"+e],(function(n){const r="FROM_START"===n||"FROM_END"===n;if(r!==t){const t=this.getSourceBlock();return t.updateAt_(e,r),t.setFieldValue(n,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),le.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},se.blocks.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},se.blocks.lists_split={init:function(){const e=this,t=new ae([[le.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[le.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(le.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(t,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(le.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){const t=e.getFieldValue("MODE");if("SPLIT"===t)return le.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===t)return le.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+t)}))},updateType_:function(e){if(this.getFieldValue("MODE")!==e){const e=this.getInput("INPUT").connection;e.setShadowDom(null);const t=e.targetBlock();t&&(e.disconnect(),t.isShadow()?t.dispose():this.bumpNeighbours())}"SPLIT"===e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},ue(se.blocks);var he={},de=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,pe=t.module$build$src$core$common.defineBlocks;he.blocks=de([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),pe(he.blocks);var fe={};return fe.colour=he,fe.lists=se,fe.logic=K,fe.loops=j,fe.math=L,fe.procedures=M,fe.texts=m,fe.variables=c,fe.variablesDynamic=n,fe.blocks=Object.assign({},he.blocks,se.blocks,K.blocks,j.blocks,L.blocks,M.blocks,c.blocks,n.blocks),fe.__namespace__=t,fe})?r.apply(t,o):r)||(e.exports=i)},2772:function(e,t,n){var r,o,i;o=[n(7754)],void 0===(i="function"==typeof(r=function(e){"use strict";return e})?r.apply(t,o):r)||(e.exports=i)},7734:function(e,t,n){var r,o,i;o=[n(2772),n(587)],void 0===(i="function"==typeof(r=function(e,t){return t})?r.apply(t,o):r)||(e.exports=i)},587:function(e,t,n){var r,o,i;o=[n(4501)],void 0===(i="function"==typeof(r=function(e){var t=e.__namespace__,n={};t.module$build$src$core$variables,t.module$build$src$core$utils$string,t.CodeGenerator$$module$build$src$core$generator,t.module$build$src$core$input_types.inputTypes,t.module$build$src$core$names.Names,t.NameType$$module$build$src$core$names,n.javascriptGenerator=new t.CodeGenerator$$module$build$src$core$generator("JavaScript"),n.javascriptGenerator.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(",")),n.javascriptGenerator.ORDER_ATOMIC=0,n.javascriptGenerator.ORDER_NEW=1.1,n.javascriptGenerator.ORDER_MEMBER=1.2,n.javascriptGenerator.ORDER_FUNCTION_CALL=2,n.javascriptGenerator.ORDER_INCREMENT=3,n.javascriptGenerator.ORDER_DECREMENT=3,n.javascriptGenerator.ORDER_BITWISE_NOT=4.1,n.javascriptGenerator.ORDER_UNARY_PLUS=4.2,n.javascriptGenerator.ORDER_UNARY_NEGATION=4.3,n.javascriptGenerator.ORDER_LOGICAL_NOT=4.4,n.javascriptGenerator.ORDER_TYPEOF=4.5,n.javascriptGenerator.ORDER_VOID=4.6,n.javascriptGenerator.ORDER_DELETE=4.7,n.javascriptGenerator.ORDER_AWAIT=4.8,n.javascriptGenerator.ORDER_EXPONENTIATION=5,n.javascriptGenerator.ORDER_MULTIPLICATION=5.1,n.javascriptGenerator.ORDER_DIVISION=5.2,n.javascriptGenerator.ORDER_MODULUS=5.3,n.javascriptGenerator.ORDER_SUBTRACTION=6.1,n.javascriptGenerator.ORDER_ADDITION=6.2,n.javascriptGenerator.ORDER_BITWISE_SHIFT=7,n.javascriptGenerator.ORDER_RELATIONAL=8,n.javascriptGenerator.ORDER_IN=8,n.javascriptGenerator.ORDER_INSTANCEOF=8,n.javascriptGenerator.ORDER_EQUALITY=9,n.javascriptGenerator.ORDER_BITWISE_AND=10,n.javascriptGenerator.ORDER_BITWISE_XOR=11,n.javascriptGenerator.ORDER_BITWISE_OR=12,n.javascriptGenerator.ORDER_LOGICAL_AND=13,n.javascriptGenerator.ORDER_LOGICAL_OR=14,n.javascriptGenerator.ORDER_CONDITIONAL=15,n.javascriptGenerator.ORDER_ASSIGNMENT=16,n.javascriptGenerator.ORDER_YIELD=17,n.javascriptGenerator.ORDER_COMMA=18,n.javascriptGenerator.ORDER_NONE=99,n.javascriptGenerator.ORDER_OVERRIDES=[[n.javascriptGenerator.ORDER_FUNCTION_CALL,n.javascriptGenerator.ORDER_MEMBER],[n.javascriptGenerator.ORDER_FUNCTION_CALL,n.javascriptGenerator.ORDER_FUNCTION_CALL],[n.javascriptGenerator.ORDER_MEMBER,n.javascriptGenerator.ORDER_MEMBER],[n.javascriptGenerator.ORDER_MEMBER,n.javascriptGenerator.ORDER_FUNCTION_CALL],[n.javascriptGenerator.ORDER_LOGICAL_NOT,n.javascriptGenerator.ORDER_LOGICAL_NOT],[n.javascriptGenerator.ORDER_MULTIPLICATION,n.javascriptGenerator.ORDER_MULTIPLICATION],[n.javascriptGenerator.ORDER_ADDITION,n.javascriptGenerator.ORDER_ADDITION],[n.javascriptGenerator.ORDER_LOGICAL_AND,n.javascriptGenerator.ORDER_LOGICAL_AND],[n.javascriptGenerator.ORDER_LOGICAL_OR,n.javascriptGenerator.ORDER_LOGICAL_OR]],n.javascriptGenerator.isInitialized=!1,n.javascriptGenerator.init=function(e){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new t.module$build$src$core$names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);const n=[];var r=t.module$build$src$core$variables.allDeveloperVariables(e);for(let e=0;e<r.length;e++)n.push(this.nameDB_.getName(r[e],t.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(e=t.module$build$src$core$variables.allUsedVarModels(e),r=0;r<e.length;r++)n.push(this.nameDB_.getName(e[r].getId(),t.NameType$$module$build$src$core$names.VARIABLE));n.length&&(this.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},n.javascriptGenerator.finish=function(e){const t=Object.values(this.definitions_);return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),t.join("\n\n")+"\n\n\n"+e},n.javascriptGenerator.scrubNakedValue=function(e){return e+";\n"},n.javascriptGenerator.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},n.javascriptGenerator.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},n.javascriptGenerator.scrub_=function(e,n,r){let o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=t.module$build$src$core$utils$string.wrap(i,this.COMMENT_WRAP-3),o+=this.prefixLines(i+"\n","// "));for(let n=0;n<e.inputList.length;n++)e.inputList[n].type===t.module$build$src$core$input_types.inputTypes.VALUE&&(i=e.inputList[n].connection.targetBlock())&&(i=this.allNestedComments(i))&&(o+=this.prefixLines(i,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),o+n+(r=r?"":this.blockToCode(e))},n.javascriptGenerator.getAdjusted=function(e,n,r,o,i){r=r||0,i=i||this.ORDER_NONE,e.workspace.options.oneBasedIndex&&r--;const s=e.workspace.options.oneBasedIndex?"1":"0";let a,l=i;return 0<r?a=l=this.ORDER_ADDITION:0>r?a=l=this.ORDER_SUBTRACTION:o&&(a=l=this.ORDER_UNARY_NEGATION),e=this.valueToCode(e,n,l)||s,t.module$build$src$core$utils$string.isNumber(e)?(e=Number(e)+r,o&&(e=-e)):(0<r?e=e+" + "+r:0>r&&(e=e+" - "+-r),o&&(e=r?"-("+e+")":"-"+e),a=Math.floor(a),i=Math.floor(i),a&&i>=a&&(e="("+e+")")),e},t.NameType$$module$build$src$core$names,n.javascriptGenerator.variables_get=function(e){return[n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.variables_set=function(e){const r=n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";return n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE)+" = "+r+";\n"},n.javascriptGenerator.variables_get_dynamic=n.javascriptGenerator.variables_get,n.javascriptGenerator.variables_set_dynamic=n.javascriptGenerator.variables_set,t.NameType$$module$build$src$core$names;var r=/^\s*'([^']|\\')*'\s*$/,o=function(e){return r.test(e)?[e,n.javascriptGenerator.ORDER_ATOMIC]:["String("+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},i=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};n.javascriptGenerator.text=function(e){return[n.javascriptGenerator.quote_(e.getFieldValue("TEXT")),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.text_multiline=function(e){const t=-1!==(e=n.javascriptGenerator.multiline_quote_(e.getFieldValue("TEXT"))).indexOf("+")?n.javascriptGenerator.ORDER_ADDITION:n.javascriptGenerator.ORDER_ATOMIC;return[e,t]},n.javascriptGenerator.text_join=function(e){switch(e.itemCount_){case 0:return["''",n.javascriptGenerator.ORDER_ATOMIC];case 1:return e=n.javascriptGenerator.valueToCode(e,"ADD0",n.javascriptGenerator.ORDER_NONE)||"''",o(e);case 2:var t=n.javascriptGenerator.valueToCode(e,"ADD0",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"ADD1",n.javascriptGenerator.ORDER_NONE)||"''",[o(t)[0]+" + "+o(e)[0],n.javascriptGenerator.ORDER_ADDITION];default:t=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)t[r]=n.javascriptGenerator.valueToCode(e,"ADD"+r,n.javascriptGenerator.ORDER_NONE)||"''";return["["+t.join(",")+"].join('')",n.javascriptGenerator.ORDER_FUNCTION_CALL]}},n.javascriptGenerator.text_append=function(e){const r=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);return e=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''",r+" += "+o(e)[0]+";\n"},n.javascriptGenerator.text_length=function(e){return[(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+".length",n.javascriptGenerator.ORDER_MEMBER]},n.javascriptGenerator.text_isEmpty=function(e){return["!"+(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+".length",n.javascriptGenerator.ORDER_LOGICAL_NOT]},n.javascriptGenerator.text_indexOf=function(e){var t="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf";const r=n.javascriptGenerator.valueToCode(e,"FIND",n.javascriptGenerator.ORDER_NONE)||"''";return t=(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+"."+t+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.javascriptGenerator.ORDER_ADDITION]:[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_charAt=function(e){const t=e.getFieldValue("WHERE")||"FROM_START",r=n.javascriptGenerator.valueToCode(e,"VALUE","RANDOM"===t?n.javascriptGenerator.ORDER_NONE:n.javascriptGenerator.ORDER_MEMBER)||"''";switch(t){case"FIRST":return[r+".charAt(0)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"LAST":return[r+".slice(-1)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"FROM_START":return[r+".charAt("+(e=n.javascriptGenerator.getAdjusted(e,"AT"))+")",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"FROM_END":return[r+".slice("+(e=n.javascriptGenerator.getAdjusted(e,"AT",1,!0))+").charAt(0)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"RANDOM":return[n.javascriptGenerator.provideFunction_("textRandomLetter",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+"("+r+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},n.javascriptGenerator.text_getSubstring=function(e){var t=e.getFieldValue("WHERE1"),r=e.getFieldValue("WHERE2"),o="FROM_END"!==t&&"LAST"!==t&&"FROM_END"!==r&&"LAST"!==r,s=n.javascriptGenerator.valueToCode(e,"STRING",o?n.javascriptGenerator.ORDER_MEMBER:n.javascriptGenerator.ORDER_NONE)||"''";if("FIRST"===t&&"LAST"===r)return[s,n.javascriptGenerator.ORDER_NONE];if(s.match(/^'?\w+'?$/)||o){switch(t){case"FROM_START":t=n.javascriptGenerator.getAdjusted(e,"AT1");break;case"FROM_END":t=s+".length - "+(t=n.javascriptGenerator.getAdjusted(e,"AT1",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION));break;case"FIRST":t="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(r){case"FROM_START":r=n.javascriptGenerator.getAdjusted(e,"AT2",1);break;case"FROM_END":r=s+".length - "+(r=n.javascriptGenerator.getAdjusted(e,"AT2",0,!1,n.javascriptGenerator.ORDER_SUBTRACTION));break;case"LAST":r=s+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}s=s+".slice("+t+", "+r+")"}else{o=n.javascriptGenerator.getAdjusted(e,"AT1"),e=n.javascriptGenerator.getAdjusted(e,"AT2");const a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};s=n.javascriptGenerator.provideFunction_("subsequence"+a[t]+a[r],`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===t||"FROM_START"===t?", at1":""}${"FROM_END"===r||"FROM_START"===r?", at2":""}) {\n  var start = ${i("sequence",t,"at1")};\n  var end = ${i("sequence",r,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+s+("FROM_END"===t||"FROM_START"===t?", "+o:"")+("FROM_END"===r||"FROM_START"===r?", "+e:"")+")"}return[s,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_changeCase=function(e){const t={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=n.javascriptGenerator.valueToCode(e,"TEXT",t?n.javascriptGenerator.ORDER_MEMBER:n.javascriptGenerator.ORDER_NONE)||"''",[t?e+t:n.javascriptGenerator.provideFunction_("textToTitleCase",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+"("+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_trim=function(e){const t={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_MEMBER)||"''")+t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_print=function(e){return"window.alert("+(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''")+");\n"},n.javascriptGenerator.text_prompt_ext=function(e){let t="window.prompt("+(e.getField("TEXT")?n.javascriptGenerator.quote_(e.getFieldValue("TEXT")):n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''")+")";return"NUMBER"===e.getFieldValue("TYPE")&&(t="Number("+t+")"),[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_prompt=n.javascriptGenerator.text_prompt_ext,n.javascriptGenerator.text_count=function(e){const t=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"SUB",n.javascriptGenerator.ORDER_NONE)||"''",[n.javascriptGenerator.provideFunction_("textCount",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+"("+t+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_replace=function(e){const t=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''",r=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_NONE)||"''",[n.javascriptGenerator.provideFunction_("textReplace",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+"("+t+", "+r+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_reverse=function(e){return[(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_MEMBER)||"''")+".split('').reverse().join('')",n.javascriptGenerator.ORDER_FUNCTION_CALL]},t.NameType$$module$build$src$core$names,n.javascriptGenerator.procedures_defreturn=function(e){const r=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE);var o="";n.javascriptGenerator.STATEMENT_PREFIX&&(o+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e)),n.javascriptGenerator.STATEMENT_SUFFIX&&(o+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e)),o&&(o=n.javascriptGenerator.prefixLines(o,n.javascriptGenerator.INDENT));let i="";n.javascriptGenerator.INFINITE_LOOP_TRAP&&(i=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.INFINITE_LOOP_TRAP,e),n.javascriptGenerator.INDENT));const s=n.javascriptGenerator.statementToCode(e,"STACK");let a=n.javascriptGenerator.valueToCode(e,"RETURN",n.javascriptGenerator.ORDER_NONE)||"",l="";s&&a&&(l=o),a&&(a=n.javascriptGenerator.INDENT+"return "+a+";\n");const c=[],u=e.getVars();for(let e=0;e<u.length;e++)c[e]=n.javascriptGenerator.nameDB_.getName(u[e],t.NameType$$module$build$src$core$names.VARIABLE);return o="function "+r+"("+c.join(", ")+") {\n"+o+i+s+l+a+"}",o=n.javascriptGenerator.scrub_(e,o),n.javascriptGenerator.definitions_["%"+r]=o,null},n.javascriptGenerator.procedures_defnoreturn=n.javascriptGenerator.procedures_defreturn,n.javascriptGenerator.procedures_callreturn=function(e){const r=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE),o=[],i=e.getVars();for(let t=0;t<i.length;t++)o[t]=n.javascriptGenerator.valueToCode(e,"ARG"+t,n.javascriptGenerator.ORDER_NONE)||"null";return[r+"("+o.join(", ")+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.procedures_callnoreturn=function(e){return n.javascriptGenerator.procedures_callreturn(e)[0]+";\n"},n.javascriptGenerator.procedures_ifreturn=function(e){let t="if ("+(n.javascriptGenerator.valueToCode(e,"CONDITION",n.javascriptGenerator.ORDER_NONE)||"false")+") {\n";return n.javascriptGenerator.STATEMENT_SUFFIX&&(t+=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)),e.hasReturnValue_?(e=n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_NONE)||"null",t+=n.javascriptGenerator.INDENT+"return "+e+";\n"):t+=n.javascriptGenerator.INDENT+"return;\n",t+"}\n"},t.NameType$$module$build$src$core$names,n.javascriptGenerator.math_number=function(e){return[e=Number(e.getFieldValue("NUM")),0<=e?n.javascriptGenerator.ORDER_ATOMIC:n.javascriptGenerator.ORDER_UNARY_NEGATION]},n.javascriptGenerator.math_arithmetic=function(e){var t={ADD:[" + ",n.javascriptGenerator.ORDER_ADDITION],MINUS:[" - ",n.javascriptGenerator.ORDER_SUBTRACTION],MULTIPLY:[" * ",n.javascriptGenerator.ORDER_MULTIPLICATION],DIVIDE:[" / ",n.javascriptGenerator.ORDER_DIVISION],POWER:[null,n.javascriptGenerator.ORDER_NONE]}[e.getFieldValue("OP")];const r=t[0];t=t[1];const o=n.javascriptGenerator.valueToCode(e,"A",t)||"0";return e=n.javascriptGenerator.valueToCode(e,"B",t)||"0",r?[o+r+e,t]:["Math.pow("+o+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_single=function(e){const t=e.getFieldValue("OP");let r;if("NEG"===t)return"-"===(e=n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,n.javascriptGenerator.ORDER_UNARY_NEGATION];switch(e="SIN"===t||"COS"===t||"TAN"===t?n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_DIVISION)||"0":n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_NONE)||"0",t){case"ABS":r="Math.abs("+e+")";break;case"ROOT":r="Math.sqrt("+e+")";break;case"LN":r="Math.log("+e+")";break;case"EXP":r="Math.exp("+e+")";break;case"POW10":r="Math.pow(10,"+e+")";break;case"ROUND":r="Math.round("+e+")";break;case"ROUNDUP":r="Math.ceil("+e+")";break;case"ROUNDDOWN":r="Math.floor("+e+")";break;case"SIN":r="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":r="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":r="Math.tan("+e+" / 180 * Math.PI)"}if(r)return[r,n.javascriptGenerator.ORDER_FUNCTION_CALL];switch(t){case"LOG10":r="Math.log("+e+") / Math.log(10)";break;case"ASIN":r="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":r="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":r="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+t)}return[r,n.javascriptGenerator.ORDER_DIVISION]},n.javascriptGenerator.math_constant=function(e){return{PI:["Math.PI",n.javascriptGenerator.ORDER_MEMBER],E:["Math.E",n.javascriptGenerator.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",n.javascriptGenerator.ORDER_DIVISION],SQRT2:["Math.SQRT2",n.javascriptGenerator.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",n.javascriptGenerator.ORDER_MEMBER],INFINITY:["Infinity",n.javascriptGenerator.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},n.javascriptGenerator.math_number_property=function(e){var t={EVEN:[" % 2 === 0",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],ODD:[" % 2 === 1",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],WHOLE:[" % 1 === 0",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],POSITIVE:[" > 0",n.javascriptGenerator.ORDER_RELATIONAL,n.javascriptGenerator.ORDER_RELATIONAL],NEGATIVE:[" < 0",n.javascriptGenerator.ORDER_RELATIONAL,n.javascriptGenerator.ORDER_RELATIONAL],DIVISIBLE_BY:[null,n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],PRIME:[null,n.javascriptGenerator.ORDER_NONE,n.javascriptGenerator.ORDER_FUNCTION_CALL]};const r=e.getFieldValue("PROPERTY"),[o,i,s]=t[r];return t=n.javascriptGenerator.valueToCode(e,"NUMBER_TO_CHECK",i)||"0",[e="PRIME"===r?n.javascriptGenerator.provideFunction_("mathIsPrime",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+"("+t+")":"DIVISIBLE_BY"===r?t+" % "+(e=n.javascriptGenerator.valueToCode(e,"DIVISOR",n.javascriptGenerator.ORDER_MODULUS)||"0")+" === 0":t+o,s]},n.javascriptGenerator.math_change=function(e){const r=n.javascriptGenerator.valueToCode(e,"DELTA",n.javascriptGenerator.ORDER_ADDITION)||"0";return(e=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE))+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+r+";\n"},n.javascriptGenerator.math_round=n.javascriptGenerator.math_single,n.javascriptGenerator.math_trig=n.javascriptGenerator.math_single,n.javascriptGenerator.math_on_list=function(e){var t=e.getFieldValue("OP");switch(t){case"SUM":e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":e="Math.min.apply(null, "+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"AVERAGE":e=(t=n.javascriptGenerator.provideFunction_("mathMean",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`))+"("+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"MEDIAN":e=(t=n.javascriptGenerator.provideFunction_("mathMedian",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`))+"("+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"MODE":e=(t=n.javascriptGenerator.provideFunction_("mathModes",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n        modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`))+"("+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"STD_DEV":e=(t=n.javascriptGenerator.provideFunction_("mathStandardDeviation",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance = variance / n;\n  return Math.sqrt(variance);\n}\n`))+"("+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;case"RANDOM":e=(t=n.javascriptGenerator.provideFunction_("mathRandomList",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`))+"("+(e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+t)}return[e,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_modulo=function(e){return[(n.javascriptGenerator.valueToCode(e,"DIVIDEND",n.javascriptGenerator.ORDER_MODULUS)||"0")+" % "+(e=n.javascriptGenerator.valueToCode(e,"DIVISOR",n.javascriptGenerator.ORDER_MODULUS)||"0"),n.javascriptGenerator.ORDER_MODULUS]},n.javascriptGenerator.math_constrain=function(e){return["Math.min(Math.max("+(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_NONE)||"0")+", "+(n.javascriptGenerator.valueToCode(e,"LOW",n.javascriptGenerator.ORDER_NONE)||"0")+"), "+(e=n.javascriptGenerator.valueToCode(e,"HIGH",n.javascriptGenerator.ORDER_NONE)||"Infinity")+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_random_int=function(e){const t=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_NONE)||"0";return e=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_NONE)||"0",[n.javascriptGenerator.provideFunction_("mathRandomInt",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+"("+t+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_random_float=function(e){return["Math.random()",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_atan2=function(e){const t=n.javascriptGenerator.valueToCode(e,"X",n.javascriptGenerator.ORDER_NONE)||"0";return["Math.atan2("+(n.javascriptGenerator.valueToCode(e,"Y",n.javascriptGenerator.ORDER_NONE)||"0")+", "+t+") / Math.PI * 180",n.javascriptGenerator.ORDER_DIVISION]},t.module$build$src$core$utils$string,t.NameType$$module$build$src$core$names,n.javascriptGenerator.controls_repeat_ext=function(e){let r;r=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):n.javascriptGenerator.valueToCode(e,"TIMES",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";let o=n.javascriptGenerator.statementToCode(e,"DO");o=n.javascriptGenerator.addLoopTrap(o,e),e="";const i=n.javascriptGenerator.nameDB_.getDistinctName("count",t.NameType$$module$build$src$core$names.VARIABLE);let s=r;return r.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(r)||(s=n.javascriptGenerator.nameDB_.getDistinctName("repeat_end",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+s+" = "+r+";\n"),e+"for (var "+i+" = 0; "+i+" < "+s+"; "+i+"++) {\n"+o+"}\n"},n.javascriptGenerator.controls_repeat=n.javascriptGenerator.controls_repeat_ext,n.javascriptGenerator.controls_whileUntil=function(e){const t="UNTIL"===e.getFieldValue("MODE");let r=n.javascriptGenerator.valueToCode(e,"BOOL",t?n.javascriptGenerator.ORDER_LOGICAL_NOT:n.javascriptGenerator.ORDER_NONE)||"false",o=n.javascriptGenerator.statementToCode(e,"DO");return o=n.javascriptGenerator.addLoopTrap(o,e),t&&(r="!"+r),"while ("+r+") {\n"+o+"}\n"},n.javascriptGenerator.controls_for=function(e){var r=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),o=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0",i=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";const s=n.javascriptGenerator.valueToCode(e,"BY",n.javascriptGenerator.ORDER_ASSIGNMENT)||"1";let a=n.javascriptGenerator.statementToCode(e,"DO");if(a=n.javascriptGenerator.addLoopTrap(a,e),t.module$build$src$core$utils$string.isNumber(o)&&t.module$build$src$core$utils$string.isNumber(i)&&t.module$build$src$core$utils$string.isNumber(s)){var l=Number(o)<=Number(i);e="for ("+r+" = "+o+"; "+r+(l?" <= ":" >= ")+i+"; "+r,e=1===(r=Math.abs(Number(s)))?e+(l?"++":"--"):e+(l?" += ":" -= ")+r,e+=") {\n"+a+"}\n"}else e="",l=o,o.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(o)||(e+="var "+(l=n.javascriptGenerator.nameDB_.getDistinctName(r+"_start",t.NameType$$module$build$src$core$names.VARIABLE))+" = "+o+";\n"),o=i,i.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(i)||(e+="var "+(o=n.javascriptGenerator.nameDB_.getDistinctName(r+"_end",t.NameType$$module$build$src$core$names.VARIABLE))+" = "+i+";\n"),e+="var "+(i=n.javascriptGenerator.nameDB_.getDistinctName(r+"_inc",t.NameType$$module$build$src$core$names.VARIABLE))+" = ",e=t.module$build$src$core$utils$string.isNumber(s)?e+(Math.abs(s)+";\n"):e+"Math.abs("+s+");\n",e+="if ("+l+" > "+o+") {\n",e=(e+=n.javascriptGenerator.INDENT+i+" = -"+i+";\n")+"}\nfor ("+r+" = "+l+"; "+i+" >= 0 ? "+r+" <= "+o+" : "+r+" >= "+o+"; "+r+" += "+i+") {\n"+a+"}\n";return e},n.javascriptGenerator.controls_forEach=function(e){const r=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);var o=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_ASSIGNMENT)||"[]";let i=n.javascriptGenerator.statementToCode(e,"DO");i=n.javascriptGenerator.addLoopTrap(i,e),e="";let s=o;return o.match(/^\w+$/)||(s=n.javascriptGenerator.nameDB_.getDistinctName(r+"_list",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+s+" = "+o+";\n"),o=n.javascriptGenerator.nameDB_.getDistinctName(r+"_index",t.NameType$$module$build$src$core$names.VARIABLE),i=n.javascriptGenerator.INDENT+r+" = "+s+"["+o+"];\n"+i,e+"for (var "+o+" in "+s+") {\n"+i+"}\n"},n.javascriptGenerator.controls_flow_statements=function(e){let t="";if(n.javascriptGenerator.STATEMENT_PREFIX&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e)),n.javascriptGenerator.STATEMENT_SUFFIX&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e)),n.javascriptGenerator.STATEMENT_PREFIX){const r=e.getSurroundLoop();r&&!r.suppressPrefixSuffix&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,r))}switch(e.getFieldValue("FLOW")){case"BREAK":return t+"break;\n";case"CONTINUE":return t+"continue;\n"}throw Error("Unknown flow statement.")},n.javascriptGenerator.controls_if=function(e){var t=0;let r="";n.javascriptGenerator.STATEMENT_PREFIX&&(r+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e));do{const o=n.javascriptGenerator.valueToCode(e,"IF"+t,n.javascriptGenerator.ORDER_NONE)||"false";let i=n.javascriptGenerator.statementToCode(e,"DO"+t);n.javascriptGenerator.STATEMENT_SUFFIX&&(i=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)+i),r+=(0<t?" else ":"")+"if ("+o+") {\n"+i+"}",t++}while(e.getInput("IF"+t));return(e.getInput("ELSE")||n.javascriptGenerator.STATEMENT_SUFFIX)&&(t=n.javascriptGenerator.statementToCode(e,"ELSE"),n.javascriptGenerator.STATEMENT_SUFFIX&&(t=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)+t),r+=" else {\n"+t+"}"),r+"\n"},n.javascriptGenerator.controls_ifelse=n.javascriptGenerator.controls_if,n.javascriptGenerator.logic_compare=function(e){const t={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r="=="===t||"!="===t?n.javascriptGenerator.ORDER_EQUALITY:n.javascriptGenerator.ORDER_RELATIONAL;return[(n.javascriptGenerator.valueToCode(e,"A",r)||"0")+" "+t+" "+(e=n.javascriptGenerator.valueToCode(e,"B",r)||"0"),r]},n.javascriptGenerator.logic_operation=function(e){const t="AND"===e.getFieldValue("OP")?"&&":"||",r="&&"===t?n.javascriptGenerator.ORDER_LOGICAL_AND:n.javascriptGenerator.ORDER_LOGICAL_OR;let o=n.javascriptGenerator.valueToCode(e,"A",r);if(e=n.javascriptGenerator.valueToCode(e,"B",r),o||e){const n="&&"===t?"true":"false";o||(o=n),e||(e=n)}else e=o="false";return[o+" "+t+" "+e,r]},n.javascriptGenerator.logic_negate=function(e){const t=n.javascriptGenerator.ORDER_LOGICAL_NOT;return["!"+(n.javascriptGenerator.valueToCode(e,"BOOL",t)||"true"),t]},n.javascriptGenerator.logic_boolean=function(e){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.logic_null=function(e){return["null",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.logic_ternary=function(e){return[(n.javascriptGenerator.valueToCode(e,"IF",n.javascriptGenerator.ORDER_CONDITIONAL)||"false")+" ? "+(n.javascriptGenerator.valueToCode(e,"THEN",n.javascriptGenerator.ORDER_CONDITIONAL)||"null")+" : "+(e=n.javascriptGenerator.valueToCode(e,"ELSE",n.javascriptGenerator.ORDER_CONDITIONAL)||"null"),n.javascriptGenerator.ORDER_CONDITIONAL]},t.NameType$$module$build$src$core$names,n.javascriptGenerator.lists_create_empty=function(e){return["[]",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.lists_create_with=function(e){const t=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)t[r]=n.javascriptGenerator.valueToCode(e,"ADD"+r,n.javascriptGenerator.ORDER_NONE)||"null";return["["+t.join(", ")+"]",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.lists_repeat=function(e){return[n.javascriptGenerator.provideFunction_("listsRepeat",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`)+"("+(n.javascriptGenerator.valueToCode(e,"ITEM",n.javascriptGenerator.ORDER_NONE)||"null")+", "+(e=n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_NONE)||"0")+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_length=function(e){return[(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+".length",n.javascriptGenerator.ORDER_MEMBER]},n.javascriptGenerator.lists_isEmpty=function(e){return["!"+(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+".length",n.javascriptGenerator.ORDER_LOGICAL_NOT]},n.javascriptGenerator.lists_indexOf=function(e){var t="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf";const r=n.javascriptGenerator.valueToCode(e,"FIND",n.javascriptGenerator.ORDER_NONE)||"''";return t=(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+"."+t+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.javascriptGenerator.ORDER_ADDITION]:[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_getIndex=function(e){const t=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START";var o=n.javascriptGenerator.valueToCode(e,"VALUE","RANDOM"===r?n.javascriptGenerator.ORDER_NONE:n.javascriptGenerator.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"===t)return[o+"[0]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".shift()",n.javascriptGenerator.ORDER_MEMBER];if("REMOVE"===t)return o+".shift();\n";break;case"LAST":if("GET"===t)return[o+".slice(-1)[0]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop()",n.javascriptGenerator.ORDER_MEMBER];if("REMOVE"===t)return o+".pop();\n";break;case"FROM_START":if(e=n.javascriptGenerator.getAdjusted(e,"AT"),"GET"===t)return[o+"["+e+"]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".splice("+e+", 1)[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".splice("+e+", 1);\n";break;case"FROM_END":if(e=n.javascriptGenerator.getAdjusted(e,"AT",1,!0),"GET"===t)return[o+".slice("+e+")[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("GET_REMOVE"===t)return[o+".splice("+e+", 1)[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".splice("+e+", 1);";break;case"RANDOM":if(o=n.javascriptGenerator.provideFunction_("listsGetRandomItem",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+"("+o+", "+("GET"!==t)+")","GET"===t||"GET_REMOVE"===t)return[o,n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+";\n"}throw Error("Unhandled combination (lists_getIndex).")},n.javascriptGenerator.lists_setIndex=function(e){function r(){if(o.match(/^\w+$/))return"";const e=n.javascriptGenerator.nameDB_.getDistinctName("tmpList",t.NameType$$module$build$src$core$names.VARIABLE),r="var "+e+" = "+o+";\n";return o=e,r}let o=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]";const i=e.getFieldValue("MODE")||"GET";var s=e.getFieldValue("WHERE")||"FROM_START";const a=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_ASSIGNMENT)||"null";switch(s){case"FIRST":if("SET"===i)return o+"[0] = "+a+";\n";if("INSERT"===i)return o+".unshift("+a+");\n";break;case"LAST":if("SET"===i)return r()+(o+"[")+o+".length - 1] = "+a+";\n";if("INSERT"===i)return o+".push("+a+");\n";break;case"FROM_START":if(e=n.javascriptGenerator.getAdjusted(e,"AT"),"SET"===i)return o+"["+e+"] = "+a+";\n";if("INSERT"===i)return o+".splice("+e+", 0, "+a+");\n";break;case"FROM_END":if(e=n.javascriptGenerator.getAdjusted(e,"AT",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION),s=r(),"SET"===i)return s+(o+"[")+o+".length - "+e+"] = "+a+";\n";if("INSERT"===i)return s+(o+".splice(")+o+".length - "+e+", 0, "+a+");\n";break;case"RANDOM":if(e=r(),e+="var "+(s=n.javascriptGenerator.nameDB_.getDistinctName("tmpX",t.NameType$$module$build$src$core$names.VARIABLE))+" = Math.floor(Math.random() * "+o+".length);\n","SET"===i)return e+(o+"[")+s+"] = "+a+";\n";if("INSERT"===i)return e+(o+".splice(")+s+", 0, "+a+");\n"}throw Error("Unhandled combination (lists_setIndex).")};var s=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};return n.javascriptGenerator.lists_getSublist=function(e){var t=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]",r=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2");if("FIRST"===r&&"LAST"===o)t+=".slice(0)";else if(t.match(/^\w+$/)||"FROM_END"!==r&&"FROM_START"===o){switch(r){case"FROM_START":r=n.javascriptGenerator.getAdjusted(e,"AT1");break;case"FROM_END":r=t+".length - "+(r=n.javascriptGenerator.getAdjusted(e,"AT1",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(o){case"FROM_START":o=n.javascriptGenerator.getAdjusted(e,"AT2",1);break;case"FROM_END":o=t+".length - "+(o=n.javascriptGenerator.getAdjusted(e,"AT2",0,!1,n.javascriptGenerator.ORDER_SUBTRACTION));break;case"LAST":o=t+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}t=t+".slice("+r+", "+o+")"}else{const i=n.javascriptGenerator.getAdjusted(e,"AT1");e=n.javascriptGenerator.getAdjusted(e,"AT2");const a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};t=n.javascriptGenerator.provideFunction_("subsequence"+a[r]+a[o],`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===r||"FROM_START"===r?", at1":""}${"FROM_END"===o||"FROM_START"===o?", at2":""}) {\n  var start = ${s("sequence",r,"at1")};\n  var end = ${s("sequence",o,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+t+("FROM_END"===r||"FROM_START"===r?", "+i:"")+("FROM_END"===o||"FROM_START"===o?", "+e:"")+")"}return[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_sort=function(e){const t=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_FUNCTION_CALL)||"[]",r="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[t+".slice().sort("+n.javascriptGenerator.provideFunction_("listsGetSortCompare",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return a.toString() > b.toString() ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `)+'("'+e+'", '+r+"))",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_split=function(e){let t=n.javascriptGenerator.valueToCode(e,"INPUT",n.javascriptGenerator.ORDER_MEMBER);const r=n.javascriptGenerator.valueToCode(e,"DELIM",n.javascriptGenerator.ORDER_NONE)||"''";if("SPLIT"===(e=e.getFieldValue("MODE")))t||(t="''"),e="split";else{if("JOIN"!==e)throw Error("Unknown mode: "+e);t||(t="[]"),e="join"}return[t+"."+e+"("+r+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_reverse=function(e){return[(n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.colour_picker=function(e){return[n.javascriptGenerator.quote_(e.getFieldValue("COLOUR")),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.colour_random=function(e){return[n.javascriptGenerator.provideFunction_("colourRandom",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}() {\n  var num = Math.floor(Math.random() * Math.pow(2, 24));\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n`)+"()",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.colour_rgb=function(e){const t=n.javascriptGenerator.valueToCode(e,"RED",n.javascriptGenerator.ORDER_NONE)||0,r=n.javascriptGenerator.valueToCode(e,"GREEN",n.javascriptGenerator.ORDER_NONE)||0;return e=n.javascriptGenerator.valueToCode(e,"BLUE",n.javascriptGenerator.ORDER_NONE)||0,[n.javascriptGenerator.provideFunction_("colourRgb",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+t+", "+r+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.colour_blend=function(e){const t=n.javascriptGenerator.valueToCode(e,"COLOUR1",n.javascriptGenerator.ORDER_NONE)||"'#000000'",r=n.javascriptGenerator.valueToCode(e,"COLOUR2",n.javascriptGenerator.ORDER_NONE)||"'#000000'";return e=n.javascriptGenerator.valueToCode(e,"RATIO",n.javascriptGenerator.ORDER_NONE)||.5,[n.javascriptGenerator.provideFunction_("colourBlend",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+t+", "+r+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.__namespace__=t,n})?r.apply(t,o):r)||(e.exports=i)},4403:function(e,t){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){"use strict";var e=e||{Msg:Object.create(null)};return e.Msg.ADD_COMMENT="添加注释",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="不能删除变量“%1”，因为它是函数“%2”定义的一部分",e.Msg.CHANGE_VALUE_TITLE="更改值：",e.Msg.CLEAN_UP="整理块",e.Msg.COLLAPSED_WARNINGS_WARNING="已收起的信息块内包含警告。",e.Msg.COLLAPSE_ALL="折叠块",e.Msg.COLLAPSE_BLOCK="折叠块",e.Msg.COLOUR_BLEND_COLOUR1="颜色1",e.Msg.COLOUR_BLEND_COLOUR2="颜色2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="比例",e.Msg.COLOUR_BLEND_TITLE="混合",e.Msg.COLOUR_BLEND_TOOLTIP="把两种颜色以一个给定的比例(0.0-1.0)进行混合。",e.Msg.COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/颜色",e.Msg.COLOUR_PICKER_TOOLTIP="从调色板中选择一种颜色。",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="随机颜色",e.Msg.COLOUR_RANDOM_TOOLTIP="随机选择一种颜色。",e.Msg.COLOUR_RGB_BLUE="蓝色",e.Msg.COLOUR_RGB_GREEN="绿色",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="红色",e.Msg.COLOUR_RGB_TITLE="颜色",e.Msg.COLOUR_RGB_TOOLTIP="通过指定红色、绿色和蓝色的量创建一种颜色。所有的值必须在0和100之间。",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="跳出循环",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="继续下一轮循环",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="跳出包含它的循环。",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="跳过本轮循环的剩余部分，并继进行续下一轮循环。",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="警告：这个块只能在循环内使用。",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="遍历列表 %2 里的每一项 %1",e.Msg.CONTROLS_FOREACH_TOOLTIP="遍历列表中的每一项，将变量“%1”设为所选项，并执行一些语句。",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="变量 %1 从 %2 数到 %3 每次增加 %4",e.Msg.CONTROLS_FOR_TOOLTIP="用变量%1记录从开始数值到终止数值之间的数值，数值按指定间隔增加，并执行指定的块。",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="在这个if语句块中增加一个条件。",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="在这个if语句块中添加一个最终的，包括所有其余情况的条件。",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="增加、删除或重新排列各节来重新配置这个if语句块。",e.Msg.CONTROLS_IF_MSG_ELSE="否则",e.Msg.CONTROLS_IF_MSG_ELSEIF="否则如果",e.Msg.CONTROLS_IF_MSG_IF="如果",e.Msg.CONTROLS_IF_TOOLTIP_1="如果值为真，执行一些语句。",e.Msg.CONTROLS_IF_TOOLTIP_2="如果值为真，则执行第一块语句。否则，则执行第二块语句。",e.Msg.CONTROLS_IF_TOOLTIP_3="如果第一个值为真，则执行第一块的语句。否则，如果第二个值为真，则执行第二块的语句。",e.Msg.CONTROLS_IF_TOOLTIP_4="如果第一个值为真，则执行第一块对语句。否则，如果第二个值为真，则执行语句的第二块。如果没有值为真，则执行最后一块的语句。",e.Msg.CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For循环",e.Msg.CONTROLS_REPEAT_INPUT_DO="执行",e.Msg.CONTROLS_REPEAT_TITLE="重复 %1 次",e.Msg.CONTROLS_REPEAT_TOOLTIP="多次执行一些语句。",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="重复直到条件满足",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="当条件满足时重复",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="只要值为假，就一直循环执行一些语句。",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="只要值为真，就一直循环执行一些语句。",e.Msg.DELETE_ALL_BLOCKS="删除所有 %1 个块吗？",e.Msg.DELETE_BLOCK="删除块",e.Msg.DELETE_VARIABLE="删除变量“%1”",e.Msg.DELETE_VARIABLE_CONFIRMATION="要删除对变量“%2”的%1个引用吗？",e.Msg.DELETE_X_BLOCKS="删除 %1 个块",e.Msg.DIALOG_CANCEL="取消",e.Msg.DIALOG_OK="确认",e.Msg.DISABLE_BLOCK="禁用块",e.Msg.DUPLICATE_BLOCK="复制",e.Msg.DUPLICATE_COMMENT="复制注释",e.Msg.ENABLE_BLOCK="启用块",e.Msg.EXPAND_ALL="展开块",e.Msg.EXPAND_BLOCK="展开块",e.Msg.EXTERNAL_INPUTS="外部输入",e.Msg.HELP="帮助",e.Msg.INLINE_INPUTS="单行输入",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="创建空列表",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="返回一个列表，长度为 0，不包含任何数据记录",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="列表",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="增加、删除或重新排列各部分以此重新配置这个列表块。",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="创建列表，内容：",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="将一个项添加到列表中。",e.Msg.LISTS_CREATE_WITH_TOOLTIP="建立一个具有任意数量项目的列表。",e.Msg.LISTS_GET_INDEX_FIRST="第一项",e.Msg.LISTS_GET_INDEX_FROM_END="倒数第#项",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="取得",e.Msg.LISTS_GET_INDEX_GET_REMOVE="取得并移除",e.Msg.LISTS_GET_INDEX_LAST="最后一项",e.Msg.LISTS_GET_INDEX_RANDOM="随机的一项",e.Msg.LISTS_GET_INDEX_REMOVE="移除",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="返回列表中的第一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="返回在列表中的指定位置的项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="返回列表中的最后一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="返回列表中的随机一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="移除并返回列表中的第一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="移除并返回列表中的指定位置的项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="移除并返回列表中的最后一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="移除并返回列表中的随机一项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="移除列表中的第一项",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="移除在列表中的指定位置的项。",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="移除列表中的最后一项",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="删除列表中的随机一项。",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="到倒数第#项",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="到第#项",e.Msg.LISTS_GET_SUBLIST_END_LAST="到最后一项",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="获取子列表，从第一项",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="获取子列表，从倒数第#项",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="获取子列表，从第#项",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="复制列表中指定的部分。",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1是最后一项。",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1是第一项。",e.Msg.LISTS_INDEX_OF_FIRST="寻找第一次出现的项",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="寻找最后一次出现的项",e.Msg.LISTS_INDEX_OF_TOOLTIP="返回在列表中的第一/最后一个匹配项的索引值。如果找不到项目则返回%1。",e.Msg.LISTS_INLIST="在列表中",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1是空的",e.Msg.LISTS_ISEMPTY_TOOLTIP="如果改列表为空，则返回真。",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1的长度",e.Msg.LISTS_LENGTH_TOOLTIP="返回列表的长度。",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="建立列表使用项 %1 重复 %2 次",e.Msg.LISTS_REPEAT_TOOLTIP="建立包含指定重复次数的值的列表。",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="倒转%1",e.Msg.LISTS_REVERSE_TOOLTIP="倒转一个列表，返回副本。",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="值为",e.Msg.LISTS_SET_INDEX_INSERT="插入在",e.Msg.LISTS_SET_INDEX_SET="设置",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="在列表的起始处添加该项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="在列表中指定位置插入项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="在列表的末尾处添加该项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="在列表的随机位置插入该项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="设置列表中的第一项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="设置在列表中指定位置的项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="设置列表中的最后一项。",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="设置列表中的随机一项。",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="升序",e.Msg.LISTS_SORT_ORDER_DESCENDING="降序",e.Msg.LISTS_SORT_TITLE="排序%1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="排序一个列表，返回副本。",e.Msg.LISTS_SORT_TYPE_IGNORECASE="按字母（忽略大小写）",e.Msg.LISTS_SORT_TYPE_NUMERIC="按数字",e.Msg.LISTS_SORT_TYPE_TEXT="按字母",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="从文本制作列表",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="将列表合并为文本",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="加入文本列表至一个文本，由分隔符分隔。",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="将文本按指定的分隔符拆分为文本组成的列表。",e.Msg.LISTS_SPLIT_WITH_DELIMITER="分隔符：",e.Msg.LOGIC_BOOLEAN_FALSE="假",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="返回真或假。",e.Msg.LOGIC_BOOLEAN_TRUE="真",e.Msg.LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/不等",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="如果两个输入结果相等，则返回真。",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="如果第一个输入结果比第二个大，则返回真。",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="如果第一个输入结果大于或等于第二个输入结果，则返回真。",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="如果第一个输入结果比第二个小，则返回真。",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="如果第一个输入结果小于或等于第二个输入结果，则返回真。",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="如果两个输入结果不相等，则返回真。",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="非%1",e.Msg.LOGIC_NEGATE_TOOLTIP="如果输入结果为假，则返回真；如果输入结果为真，则返回假。",e.Msg.LOGIC_NULL="空",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="返回空值。",e.Msg.LOGIC_OPERATION_AND="并且",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="或",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="如果两个输入结果都为真，则返回真。",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="如果至少有一个输入结果为真，则返回真。",e.Msg.LOGIC_TERNARY_CONDITION="断言",e.Msg.LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/条件运算符",e.Msg.LOGIC_TERNARY_IF_FALSE="如果为假",e.Msg.LOGIC_TERNARY_IF_TRUE="如果为真",e.Msg.LOGIC_TERNARY_TOOLTIP="检查“断言”里的条件语句。如果条件为真，则返回“如果为真”的值，否则，则返回“如果为假”的值。",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/算术",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="返回两个数值的和。",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="返回两个数值的商。",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="返回两个数值的差。",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="返回两个数值的乘积。",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="返回以第一个数值为底数，以第二个数值为幂的结果。",e.Msg.MATH_ATAN2_HELPURL="https://zh.wikipedia.org/wiki/反正切2",e.Msg.MATH_ATAN2_TITLE="点(x:%1,y:%2)的方位角",e.Msg.MATH_ATAN2_TOOLTIP="返回点（X，Y）的反正切值，范围为-180到180度。",e.Msg.MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/加法",e.Msg.MATH_CHANGE_TITLE="将 %1 增加 %2",e.Msg.MATH_CHANGE_TOOLTIP="为变量“%1”增加一个数值。",e.Msg.MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/数学常数",e.Msg.MATH_CONSTANT_TOOLTIP="返回一个常见常量：π (3.141…)、e (2.718…)、φ (1.618…)、根号2 (1.414…)、根号二分之一 (0.707…)或∞ (无穷大)。",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="将 %1 限制在 最低 %2 到最高 %3 之间",e.Msg.MATH_CONSTRAIN_TOOLTIP="将一个数值限制在两个指定的数值范围（含边界）之间。",e.Msg.MATH_DIVISION_SYMBOL="÷",e.Msg.MATH_IS_DIVISIBLE_BY="可被整除",e.Msg.MATH_IS_EVEN="是偶数",e.Msg.MATH_IS_NEGATIVE="是负数",e.Msg.MATH_IS_ODD="是奇数",e.Msg.MATH_IS_POSITIVE="是正数",e.Msg.MATH_IS_PRIME="是质数",e.Msg.MATH_IS_TOOLTIP="检查一个数值是否是偶数、奇数、质数、自然数、正数、负数或者是否能被某数整除。返回真或假。",e.Msg.MATH_IS_WHOLE="是整数",e.Msg.MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/模除",e.Msg.MATH_MODULO_TITLE="取 %1 ÷ %2 的余数",e.Msg.MATH_MODULO_TOOLTIP="返回这两个数字相除后的余数。",e.Msg.MATH_MULTIPLICATION_SYMBOL="×",e.Msg.MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/数",e.Msg.MATH_NUMBER_TOOLTIP="一个数值。",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="列表平均值",e.Msg.MATH_ONLIST_OPERATOR_MAX="列表最大值",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="列表中位数",e.Msg.MATH_ONLIST_OPERATOR_MIN="列表最小值",e.Msg.MATH_ONLIST_OPERATOR_MODE="列表中的众数",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="列表中的随机一项",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="列表的标准差",e.Msg.MATH_ONLIST_OPERATOR_SUM="列表中数值的和",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="返回列表中的数值的平均值。",e.Msg.MATH_ONLIST_TOOLTIP_MAX="返回列表中最大值。",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="返回列表中数值的中位数。",e.Msg.MATH_ONLIST_TOOLTIP_MIN="返回列表中最小值。",e.Msg.MATH_ONLIST_TOOLTIP_MODE="返回列表中的出现次数最多的项的列表。",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="从列表中返回一个随机的元素。",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="返回列表的标准差。",e.Msg.MATH_ONLIST_TOOLTIP_SUM="返回列表中的所有数值的和。",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="随机小数",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="返回一个从0.0（含）到1.0（不含）之间的随机数。",e.Msg.MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",e.Msg.MATH_RANDOM_INT_TITLE="从 %1 到 %2 范围内的随机整数",e.Msg.MATH_RANDOM_INT_TOOLTIP="返回一个限制在两个指定数值的范围（含边界）之间的随机整数。",e.Msg.MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/数值修约",e.Msg.MATH_ROUND_OPERATOR_ROUND="四舍五入",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="向下舍入",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="向上舍入",e.Msg.MATH_ROUND_TOOLTIP="数字向上或向下舍入。",e.Msg.MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/平方根",e.Msg.MATH_SINGLE_OP_ABSOLUTE="绝对值",e.Msg.MATH_SINGLE_OP_ROOT="平方根",e.Msg.MATH_SINGLE_TOOLTIP_ABS="返回一个数值的绝对值。",e.Msg.MATH_SINGLE_TOOLTIP_EXP="返回e的n次幂。",e.Msg.MATH_SINGLE_TOOLTIP_LN="返回一个数值的自然对数。",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="返回一个数值的以10为底的对数。",e.Msg.MATH_SINGLE_TOOLTIP_NEG="返回一个数值的相反数。",e.Msg.MATH_SINGLE_TOOLTIP_POW10="返回10的n次幂。",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="返回一个数的平方根。",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/三角函数",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="返回一个数值的反余弦值。",e.Msg.MATH_TRIG_TOOLTIP_ASIN="返回一个数值的反正弦值。",e.Msg.MATH_TRIG_TOOLTIP_ATAN="返回一个数值的反正切值。",e.Msg.MATH_TRIG_TOOLTIP_COS="返回指定角度的余弦值（非弧度）。",e.Msg.MATH_TRIG_TOOLTIP_SIN="返回指定角度的正弦值（非弧度）。",e.Msg.MATH_TRIG_TOOLTIP_TAN="返回指定角度的正切值（非弧度）。",e.Msg.NEW_COLOUR_VARIABLE="创建颜色变量...",e.Msg.NEW_NUMBER_VARIABLE="创建数字变量...",e.Msg.NEW_STRING_VARIABLE="创建字符串变量...",e.Msg.NEW_VARIABLE="创建变量...",e.Msg.NEW_VARIABLE_TITLE="新变量的名称：",e.Msg.NEW_VARIABLE_TYPE_TITLE="新变量的类型：",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="允许声明",e.Msg.PROCEDURES_BEFORE_PARAMS="与：",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="运行用户定义的函数“%1”。",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="运行用户定义的函数“%1”，并使用它的输出值。",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="与：",e.Msg.PROCEDURES_CREATE_DO="创建“%1”",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="描述该功能...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="做点什么",e.Msg.PROCEDURES_DEFNORETURN_TITLE="至",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="创建一个不带输出值的函数。",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",e.Msg.PROCEDURES_DEFRETURN_RETURN="返回",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="创建一个有输出值的函数。",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="警告：此函数具有重复参数。",e.Msg.PROCEDURES_HIGHLIGHT_DEF="突出显示函数定义",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="如果值为真，则返回第二个值。",e.Msg.PROCEDURES_IFRETURN_WARNING="警告：这个块只能在函数内部使用。",e.Msg.PROCEDURES_MUTATORARG_TITLE="输入名称：",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="添加函数输入。",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="输入",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="添加、移除或重新排此函数的输入。",e.Msg.REDO="重做",e.Msg.REMOVE_COMMENT="删除注释",e.Msg.RENAME_VARIABLE="重命名变量...",e.Msg.RENAME_VARIABLE_TITLE="将所有“%1”变量重命名为:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="在%1之后加上文本%2",e.Msg.TEXT_APPEND_TOOLTIP="将一些文本追加到变量“%1”里。",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="转为小写",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="转为首字母大写",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="转为大写",e.Msg.TEXT_CHANGECASE_TOOLTIP="用不同的大小写模式复制并返回这段文字。",e.Msg.TEXT_CHARAT_FIRST="获取第一个字符",e.Msg.TEXT_CHARAT_FROM_END="获取倒数第#个字符",e.Msg.TEXT_CHARAT_FROM_START="获取第#个字符",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="获取最后一个字符",e.Msg.TEXT_CHARAT_RANDOM="获取随机一个字符",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="在文本%1 里 %2",e.Msg.TEXT_CHARAT_TOOLTIP="返回位于指定位置的字符。",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="计算%1在%2里出现的次数",e.Msg.TEXT_COUNT_TOOLTIP="计算在一段文本中，某个部分文本重复出现了多少次。",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="将一个项添加到文本中。",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="拼接",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="添加、移除或重新排列各节来重新配置这个文本块。",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="到倒数第#个字符",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="到第#个字符",e.Msg.TEXT_GET_SUBSTRING_END_LAST="到最后一个字符",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="从文本",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="获取子串，从第一个字符",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="获取子串，从倒数第#个字符",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="获取子串，从第#个字符",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="返回文本中指定的一部分。",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="寻找第一次出现的文本",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="寻找最后一次出现的文本",e.Msg.TEXT_INDEXOF_TITLE="在文本 %1 里 %2  %3",e.Msg.TEXT_INDEXOF_TOOLTIP="返回第一个文本段在第二个文本段中的第一/最后一个匹配项的起始位置。如果未找到，则返回%1。",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1是空的",e.Msg.TEXT_ISEMPTY_TOOLTIP="如果给定的文本为空，则返回真。",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="创建文本，内容：",e.Msg.TEXT_JOIN_TOOLTIP="通过串起任意数量的项以建立一段文本。",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="%1的长度",e.Msg.TEXT_LENGTH_TOOLTIP="返回给定文本的字母数（包括空格）。",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="输出%1",e.Msg.TEXT_PRINT_TOOLTIP="输出指定的文字、数字或其他值。",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="要求用户输入数字。",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="要求用户输入一些文本。",e.Msg.TEXT_PROMPT_TYPE_NUMBER="要求输入数字，并显示提示消息",e.Msg.TEXT_PROMPT_TYPE_TEXT="要求输入文本，并显示提示消息",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="把%3中的%1替换为%2",e.Msg.TEXT_REPLACE_TOOLTIP="在一段文本中，将出现过的某部分文本都替换掉。",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="倒转文本%1",e.Msg.TEXT_REVERSE_TOOLTIP="将文本中各个字符的顺序倒转。",e.Msg.TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/字符串",e.Msg.TEXT_TEXT_TOOLTIP="一个字、词语或一行文本。",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="消除其两侧的空白",e.Msg.TEXT_TRIM_OPERATOR_LEFT="消除其左侧的空白",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="消除其右侧的空白",e.Msg.TEXT_TRIM_TOOLTIP="从某一端或同时从两端删除多余的空白，并返回这段文字的一个副本。",e.Msg.TODAY="今天",e.Msg.UNDO="撤销",e.Msg.UNNAMED_KEY="未命名",e.Msg.VARIABLES_DEFAULT_NAME="项目",e.Msg.VARIABLES_GET_CREATE_SET="创建“设定%1”",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="返回此变量的值。",e.Msg.VARIABLES_SET="赋值 %1 为 %2",e.Msg.VARIABLES_SET_CREATE_GET="创建“获得%1”",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="设置此变量，以使它和输入值相等。",e.Msg.VARIABLE_ALREADY_EXISTS="名字叫“%1”的变量已经存在了。",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="名字叫“%1”的变量已经有了另一个类型：“%2”。",e.Msg.WORKSPACE_ARIA_LABEL="Blockly工作区",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="说点什么...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?n.apply(t,r):n)||(e.exports=o)},8591:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=o.apply(null,n);s&&e.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},4377:(e,t,n)=>{var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=t._howls[n]._soundById(r[o]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=t._howls[n]._soundById(r[o]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),s=o&&parseInt(o[0].split("/")[1],10)<33,a=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),c=a&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),s=0;s<i.length;s++){var a=e._howls[o]._soundById(i[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return i.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(o++,r=n._sounds[s]._id);1===o?e=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var l=a._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&i._autoResume();var c=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),h=1e3*u/Math.abs(a._rate),d=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var f=function(){a._paused=!1,a._seek=c,a._start=d,a._stop=p,a._loop=!(!a._loop&&!n._sprite[e][2])};if(!(c>=p)){var g=a._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;g.gain.setValueAtTime(e,i.ctx.currentTime),a._playStart=i.ctx.currentTime,void 0===g.bufferSource.start?a._loop?g.bufferSource.noteGrainOn(0,c,86400):g.bufferSource.noteGrainOn(0,c,u):a._loop?g.bufferSource.start(0,c,86400):g.bufferSource.start(0,c,u),h!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h)),t||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(a._id))}else{var _=function(){g.currentTime=c,g.muted=a._muted||n._muted||i._muted||g.muted,g.volume=a._volume*i.volume(),g.playbackRate=a._rate;try{var r=g.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then((function(){n._playLock=!1,g._unlocked=!0,t?n._loadQueue():n._emit("play",a._id)})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):t||(n._playLock=!1,f(),n._emit("play",a._id)),g.playbackRate=a._rate,g.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h):(n._endTimers[a._id]=function(){n._ended(a),g.removeEventListener("ended",n._endTimers[a._id],!1)},g.addEventListener("ended",n._endTimers[a._id],!1))}catch(e){n._emit("playerror",a._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=n._src,g.load());var v=window&&window.ejecta||!g.readyState&&i._navigator.isCocoonJS;if(g.readyState>=3||v)_();else{n._playLock=!0,n._state="loading";var b=function(){n._state="loaded",_(),g.removeEventListener(i._canPlayEvent,b,!1)};g.addEventListener(i._canPlayEvent,b,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var s=n._soundById(r[o]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,i.ctx.currentTime):s._node&&(s._node.muted=!!i._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)(n=r._soundById(t[s]))&&(n._volume=e,o[2]||r._stopFade(t[s]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if(r||o._stopFade(s[a]),o._webAudio&&!l._muted){var c=i.ctx.currentTime,u=c+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(l,e,t,n,s[a],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var s=this,a=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?r/c:r),h=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-h)/r;h=Date.now(),a+=l*o,a=Math.round(100*a)/100,a=l<0?Math.max(n,a):Math.min(n,a),s._webAudio?e._volume=a:s.volume(a,e._id,!0),i&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),s=0;s<i.length;s++)(n=r._soundById(i[s]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[s])&&(r.pause(i[s],!0),r.play(i[s],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)if(n=r._soundById(t[s])){r.playing(t[s])&&(n._rateSeek=r.seek(t[s]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var a=r.seek(t[s]),l=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-a)/Math.abs(n._rate);!r._endTimers[t[s]]&&n._paused||(r._clearTimer(t[s]),r._endTimers[t[s]]=setTimeout(r._ended.bind(r,n),l)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?i.ctx.currentTime-o._playStart:0,a=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(a+s*Math.abs(o._rate))}return o._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var u=function(){n._playLock?setTimeout(u,0):c()};setTimeout(u,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return l&&o&&delete l[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var s=n===o[i].id;if(t===o[i].fn&&s||!t&&s){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var a=Object.keys(r);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(r[a[i]])&&(r[a[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new a(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},c=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);h(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?h(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},h=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(l[t._src]=e,d(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:s}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=s,void 0!==n.g?(n.g.HowlerGlobal=o,n.g.Howler=i,n.g.Howl=s,n.g.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=s,window.Sound=a)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;var a=s._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(s._orientation=[e,t,n,r,o,i],void 0!==s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,r,o,i),s)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),s=0;s<i.length;s++){var a=r._soundById(i[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,o),"spatial"===o?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),i._emit("pos",l._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=i._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),i._emit("orientation",l._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var s=o._getSoundIds(n),a=0;a<s.length;a++)if(r=o._soundById(s[a])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var c=r._panner;c?(c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},4330:(e,t,n)=>{"use strict";n.d(t,{s:()=>T,Z:()=>k});var r=n(7446),o=n(3133),i=n(9685),s=n.t(i,2),a=n(6436),l=n(5543),c=n(8591),u=n.n(c),h=n(4430);var d=0;function p(e){var t=i.useState("ssr-id"),n=(0,o.Z)(t,2),r=n[0],a=n[1],c=(0,l.Z)({},s).useId,u=null==c?void 0:c();return i.useEffect((function(){if(!c){var e=d;d+=1,a("rc_unique_".concat(e))}}),[]),e||(u||r)}var f=n(7682),g=n(211),m=n(1791);function _(e){var t=e.prefixCls,n=e.style,o=e.visible,s=e.maskProps,a=e.motionName;return i.createElement(m.Z,{key:"mask",visible:o,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},(function(e,o){var a=e.className,c=e.style;return i.createElement("div",(0,r.Z)({ref:o,style:(0,l.Z)((0,l.Z)({},c),n),className:u()("".concat(t,"-mask"),a)},s))}))}function v(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function b(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}const E=i.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var y={width:0,height:0,overflow:"hidden",outline:"none"};const T=i.forwardRef((function(e,t){var n=e.prefixCls,o=e.className,s=e.style,a=e.title,c=e.ariaId,h=e.footer,d=e.closable,p=e.closeIcon,f=e.onClose,g=e.children,m=e.bodyStyle,_=e.bodyProps,v=e.modalRender,b=e.onMouseDown,T=e.onMouseUp,w=e.holderRef,S=e.visible,C=e.forceRender,I=e.width,k=e.height,R=(0,i.useRef)(),M=(0,i.useRef)();i.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=R.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===M.current?R.current.focus():e||t!==R.current||M.current.focus()}}}));var O,x,A,N={};void 0!==I&&(N.width=I),void 0!==k&&(N.height=k),h&&(O=i.createElement("div",{className:"".concat(n,"-footer")},h)),a&&(x=i.createElement("div",{className:"".concat(n,"-header")},i.createElement("div",{className:"".concat(n,"-title"),id:c},a))),d&&(A=i.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:"".concat(n,"-close")},p||i.createElement("span",{className:"".concat(n,"-close-x")})));var L=i.createElement("div",{className:"".concat(n,"-content")},A,x,i.createElement("div",(0,r.Z)({className:"".concat(n,"-body"),style:m},_),g),O);return i.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?c:null,"aria-modal":"true",ref:w,style:(0,l.Z)((0,l.Z)({},s),N),className:u()(n,o),onMouseDown:b,onMouseUp:T},i.createElement("div",{tabIndex:0,ref:R,style:y,"aria-hidden":"true"}),i.createElement(E,{shouldUpdate:S||C},v?v(L):L),i.createElement("div",{tabIndex:0,ref:M,style:y,"aria-hidden":"true"}))}));var w=i.forwardRef((function(e,t){var n=e.prefixCls,s=e.title,a=e.style,c=e.className,h=e.visible,d=e.forceRender,p=e.destroyOnClose,f=e.motionName,g=e.ariaId,_=e.onVisibleChanged,v=e.mousePosition,E=(0,i.useRef)(),y=i.useState(),w=(0,o.Z)(y,2),S=w[0],C=w[1],I={};function k(){var e,t,n,r,o,i=(e=E.current,t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,o=r.defaultView||r.parentWindow,n.left+=b(o),n.top+=b(o,!0),n);C(v?"".concat(v.x-i.left,"px ").concat(v.y-i.top,"px"):"")}return S&&(I.transformOrigin=S),i.createElement(m.Z,{visible:h,onVisibleChanged:_,onAppearPrepare:k,onEnterPrepare:k,forceRender:d,motionName:f,removeOnLeave:p,ref:E},(function(o,h){var d=o.className,p=o.style;return i.createElement(T,(0,r.Z)({},e,{ref:t,title:s,ariaId:g,prefixCls:n,holderRef:h,style:(0,l.Z)((0,l.Z)((0,l.Z)({},p),a),I),className:u()(c,d)}))}))}));w.displayName="Content";const S=w;function C(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,s=e.zIndex,a=e.visible,c=void 0!==a&&a,d=e.keyboard,m=void 0===d||d,b=e.focusTriggerAfterClose,E=void 0===b||b,y=e.wrapStyle,T=e.wrapClassName,w=e.wrapProps,C=e.onClose,I=e.afterClose,k=e.transitionName,R=e.animation,M=e.closable,O=void 0===M||M,x=e.mask,A=void 0===x||x,N=e.maskTransitionName,L=e.maskAnimation,D=e.maskClosable,P=void 0===D||D,$=e.maskStyle,B=e.maskProps,F=e.rootClassName,U=(0,i.useRef)(),G=(0,i.useRef)(),j=(0,i.useRef)(),H=i.useState(c),V=(0,o.Z)(H,2),W=V[0],z=V[1],Z=p();function X(e){null==C||C(e)}var Y=(0,i.useRef)(!1),K=(0,i.useRef)(),J=null;return P&&(J=function(e){Y.current?Y.current=!1:G.current===e.target&&X(e)}),(0,i.useEffect)((function(){c&&(z(!0),(0,f.Z)(G.current,document.activeElement)||(U.current=document.activeElement))}),[c]),(0,i.useEffect)((function(){return function(){clearTimeout(K.current)}}),[]),i.createElement("div",(0,r.Z)({className:u()("".concat(n,"-root"),F)},(0,g.Z)(e,{data:!0})),i.createElement(_,{prefixCls:n,visible:A&&c,motionName:v(n,N,L),style:(0,l.Z)({zIndex:s},$),maskProps:B}),i.createElement("div",(0,r.Z)({tabIndex:-1,onKeyDown:function(e){if(m&&e.keyCode===h.Z.ESC)return e.stopPropagation(),void X(e);c&&e.keyCode===h.Z.TAB&&j.current.changeActive(!e.shiftKey)},className:u()("".concat(n,"-wrap"),T),ref:G,onClick:J,style:(0,l.Z)((0,l.Z)({zIndex:s},y),{},{display:W?null:"none"})},w),i.createElement(S,(0,r.Z)({},e,{onMouseDown:function(){clearTimeout(K.current),Y.current=!0},onMouseUp:function(){K.current=setTimeout((function(){Y.current=!1}))},ref:j,closable:O,ariaId:Z,prefixCls:n,visible:c&&W,onClose:X,onVisibleChanged:function(e){if(e)(0,f.Z)(G.current,document.activeElement)||null===(t=j.current)||void 0===t||t.focus();else{if(z(!1),A&&U.current&&E){try{U.current.focus({preventScroll:!0})}catch(e){}U.current=null}W&&(null==I||I())}var t},motionName:v(n,k,R)}))))}var I=function(e){var t=e.visible,n=e.getContainer,s=e.forceRender,l=e.destroyOnClose,c=void 0!==l&&l,u=e.afterClose,h=i.useState(t),d=(0,o.Z)(h,2),p=d[0],f=d[1];return i.useEffect((function(){t&&f(!0)}),[t]),s||!c||p?i.createElement(a.Z,{open:t||s||p,autoDestroy:!1,getContainer:n,autoLock:t||p},i.createElement(C,(0,r.Z)({},e,{destroyOnClose:c,afterClose:function(){null==u||u(),f(!1)}}))):null};I.displayName="Dialog";const k=I},5914:(e,t,n)=>{"use strict";n.d(t,{zb:()=>v,RV:()=>Be});var r=n(9685),o=n(7446),i=n(127),s=n(6431),a=n(5543),l=n(9834),c=n(3836),u=n(1320),h=n(5659),d=n(6680),p=n(2763),f=n(1498),g=n(3379),m="RC_FORM_INTERNAL_HOOKS",_=function(){(0,g.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const v=r.createContext({getFieldValue:_,getFieldsValue:_,getFieldError:_,getFieldWarning:_,getFieldsError:_,isFieldsTouched:_,isFieldTouched:_,isFieldValidating:_,isFieldsValidating:_,resetFields:_,setFields:_,setFieldValue:_,setFieldsValue:_,validateFields:_,submit:_,getInternalHooks:function(){return _(),{dispatch:_,initEntityValue:_,registerField:_,useSubscribe:_,setInitialValues:_,destroyForm:_,setCallbacks:_,registerWatch:_,getFields:_,setValidateMessages:_,setPreserve:_,getInitialValue:_}}});function b(e){return null==e?[]:Array.isArray(e)?e:[e]}var E=n(7211),y=n(1033);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function C(e,t,n){return C=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&S(o,n.prototype),o},C.apply(null,arguments)}function I(e){var t="function"==typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return C(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,e)},I(e)}var k=/%[sdj%]/g;function R(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(k,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(e){return"[Circular]"}break;default:return e}})):e}function O(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function x(e,t,n){var r=0,o=e.length;!function i(s){if(s&&s.length)n(s);else{var a=r;r+=1,a<o?t(e[a],i):n([])}}([])}"undefined"!=typeof process&&process.env;var A=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n),r}(I(Error));function N(e,t,n,r,o){if(t.first){var i=new Promise((function(t,i){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);x(s,n,(function(e){return r(e),e.length?i(new A(e,R(e))):t(o)}))}));return i.catch((function(e){return e})),i}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,c=0,u=[],h=new Promise((function(t,i){var h=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?i(new A(u,R(u))):t(o)};a.length||(r(u),t(o)),a.forEach((function(t){var r=e[t];-1!==s.indexOf(t)?x(r,n,h):function(e,t,n){var r=[],o=0,i=e.length;function s(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,h)}))}));return h.catch((function(e){return e})),h}function L(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function D(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=T({},e[n],r):e[n]=r}return e}var P,$=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!O(t,i||e.type)||r.push(M(o.messages.required,e.fullField))},B=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,F=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,U={integer:function(e){return U.number(e)&&parseInt(e,10)===e},float:function(e){return U.number(e)&&!U.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!U.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(B)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(P)return P;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};l.v4=function(e){return e&&e.exact?s:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?a:new RegExp(""+t(e)+o+t(e),"g")};var c=l.v4().source,u=l.v6().source;return P=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(F)}},G="enum",j={required:$,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(M(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)$(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?U[i](t)||r.push(M(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(M(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,c=null,u="number"==typeof t,h="string"==typeof t,d=Array.isArray(t);if(u?c="number":h?c="string":d&&(c="array"),!c)return!1;d&&(l=t.length),h&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(M(o.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?r.push(M(o.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?r.push(M(o.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&r.push(M(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[G]=Array.isArray(e[G])?e[G]:[],-1===e[G].indexOf(t)&&r.push(M(o.messages[G],e.fullField,e[G].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(M(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(M(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},H=function(e,t,n,r,o){var i=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t,i)&&!e.required)return n();j.required(e,t,r,s,o,i),O(t,i)||j.type(e,t,r,s,o)}n(s)},V={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t,"string")&&!e.required)return n();j.required(e,t,r,i,o,"string"),O(t,"string")||(j.type(e,t,r,i,o),j.range(e,t,r,i,o),j.pattern(e,t,r,i,o),!0===e.whitespace&&j.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&j.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&(j.type(e,t,r,i,o),j.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&j.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),O(t)||j.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&(j.type(e,t,r,i,o),j.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&(j.type(e,t,r,i,o),j.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();j.required(e,t,r,i,o,"array"),null!=t&&(j.type(e,t,r,i,o),j.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&j.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o),void 0!==t&&j.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t,"string")&&!e.required)return n();j.required(e,t,r,i,o),O(t,"string")||j.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t,"date")&&!e.required)return n();var s;if(j.required(e,t,r,i,o),!O(t,"date"))s=t instanceof Date?t:new Date(t),j.type(e,s,r,i,o),s&&j.range(e,s.getTime(),r,i,o)}n(i)},url:H,hex:H,email:H,required:function(e,t,n,r,o){var i=[],s=Array.isArray(t)?"array":typeof t;j.required(e,t,r,i,o,s),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(O(t)&&!e.required)return n();j.required(e,t,r,i,o)}n(i)}};function W(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var z=W(),Z=function(){function e(e){this.rules=null,this._messages=z,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=D(W(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,s=n,a=r;if("function"==typeof s&&(a=s,s={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,i),Promise.resolve(i);if(s.messages){var l=this.messages();l===z&&(l=W()),D(l,s.messages),s.messages=l}else s.messages=this.messages();var c={};(s.keys||Object.keys(this.rules)).forEach((function(e){var n=o.rules[e],r=i[e];n.forEach((function(n){var s=n;"function"==typeof s.transform&&(i===t&&(i=T({},i)),r=i[e]=s.transform(r)),(s="function"==typeof s?{validator:s}:T({},s)).validator=o.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=o.getType(s),c[e]=c[e]||[],c[e].push({rule:s,value:r,source:i,field:e}))}))}));var u={};return N(c,s,(function(t,n){var r,o=t.rule,a=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function l(e,t){return T({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!s.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var h=c.map(L(o,i));if(s.first&&h.length)return u[o.field]=1,n(h);if(a){if(o.required&&!t.value)return void 0!==o.message?h=[].concat(o.message).map(L(o,i)):s.error&&(h=[s.error(o,M(s.messages.required,o.field))]),n(h);var d={};o.defaultField&&Object.keys(t.value).map((function(e){d[e]=o.defaultField})),d=T({},d,t.rule.fields);var p={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];p[e]=n.map(l.bind(null,e))}));var f=new e(p);f.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),f.validate(t.value,t.rule.options||s,(function(e){var t=[];h&&h.length&&t.push.apply(t,h),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(h)}if(a=a&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,c,t.source,s);else if(o.validator){try{r=o.validator(o,t.value,c,t.source,s)}catch(e){null==console.error||console.error(e),s.suppressValidatorError||setTimeout((function(){throw e}),0),c(e.message)}!0===r?c():!1===r?c("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){for(var t,n,r=[],o={},s=0;s<e.length;s++)t=e[s],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?(o=R(r),a(r,o)):a(null,i)}(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!V.hasOwnProperty(e.type))throw new Error(M("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?V.required:V[this.getType(e)]||void 0},e}();Z.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");V[e]=t},Z.warning=function(){},Z.messages=z,Z.validators=V;var X="'${name}' is not a valid ${type}",Y={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:X,method:X,array:X,object:X,number:X,date:X,boolean:X,integer:X,float:X,regexp:X,email:X,url:X,hex:X},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},K=n(6151);function J(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}var q=n(3323);function Q(e,t,n,r){if(!t.length)return n;var o,i=(0,q.Z)(t),s=i[0],c=i.slice(1);return o=e||"number"!=typeof s?Array.isArray(e)?(0,l.Z)(e):(0,a.Z)({},e):[],r&&void 0===n&&1===c.length?delete o[s][c[0]]:o[s]=Q(o[s],c,n,r),o}function ee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!J(e,t.slice(0,-1))?e:Q(e,t,n,r)}function te(e){return Array.isArray(e)?function(e){return e.map((function(e){return te(e)}))}(e):"object"===(0,K.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=te(e[n]);return t}return e}(e):e}const ne=te;function re(e){return b(e)}function oe(e,t){return J(e,t)}function ie(e,t,n){return ee(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}function se(e,t){var n={};return t.forEach((function(t){var r=oe(e,t);n=ie(n,t,r)})),n}function ae(e,t){return e&&e.some((function(e){return he(e,t)}))}function le(e){return"object"===(0,K.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function ce(e,t){var n=Array.isArray(e)?(0,l.Z)(e):(0,a.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],o=t[e],i=le(r)&&le(o);n[e]=i?ce(r,o||{}):ne(o)})),n):n}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return ce(e,t)}),e)}function he(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function de(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,K.Z)(t.target)&&e in t.target?t.target[e]:t}function pe(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat((0,l.Z)(e.slice(0,n)),[o],(0,l.Z)(e.slice(n,t)),(0,l.Z)(e.slice(t+1,r))):i<0?[].concat((0,l.Z)(e.slice(0,t)),(0,l.Z)(e.slice(t+1,n+1)),[o],(0,l.Z)(e.slice(n+1,r))):e}var fe=Z;function ge(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var me="CODE_LOGIC_ERROR";function _e(e,t,n,r,o){return ve.apply(this,arguments)}function ve(){return ve=(0,y.Z)((0,E.Z)().mark((function e(t,n,o,i,c){var u,h,d,p,f,g,m,_,v;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=(0,a.Z)({},o)).ruleIndex,u.validator&&(h=u.validator,u.validator=function(){try{return h.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(me)}}),d=null,u&&"array"===u.type&&u.defaultField&&(d=u.defaultField,delete u.defaultField),p=new fe((0,s.Z)({},t,[u])),f=ue({},Y,i.validateMessages),p.messages(f),g=[],e.prev=9,e.next=12,Promise.resolve(p.validate((0,s.Z)({},t,n),(0,a.Z)({},i)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(g=e.t0.errors.map((function(e,t){var n=e.message,o=n===me?f.default:n;return r.isValidElement(o)?r.cloneElement(o,{key:"error_".concat(t)}):o})));case 17:if(g.length||!d){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return _e("".concat(t,".").concat(n),e,d,i,c)})));case 20:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat((0,l.Z)(e),(0,l.Z)(t))}),[]));case 22:return _=(0,a.Z)((0,a.Z)({},o),{},{name:t,enum:(o.enum||[]).join(", ")},c),v=g.map((function(e){return"string"==typeof e?ge(e,_):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),ve.apply(this,arguments)}function be(e,t,n,r,o,i){var s,l=e.join("."),c=n.map((function(e,t){var n=e.validator,r=(0,a.Z)((0,a.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){(0,g.ZP)(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)}))}));o=i&&"function"==typeof i.then&&"function"==typeof i.catch,(0,g.ZP)(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n==!!o?r-i:n?1:-1}));if(!0===o)s=new Promise(function(){var e=(0,y.Z)((0,E.Z)().mark((function e(n,o){var s,a,u;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<c.length)){e.next=12;break}return a=c[s],e.next=5,_e(l,t,a,r,i);case 5:if(!(u=e.sent).length){e.next=9;break}return o([{errors:u,rule:a}]),e.abrupt("return");case 9:s+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=c.map((function(e){return _e(l,t,e,r,i).then((function(t){return{errors:t,rule:e}}))}));s=(o?function(e){return ye.apply(this,arguments)}(u):function(e){return Ee.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function Ee(){return(Ee=(0,y.Z)((0,E.Z)().mark((function e(t){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,l.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=(0,y.Z)((0,E.Z)().mark((function e(t){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=["name"],we=[];function Se(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var Ce=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(e){var o;((0,c.Z)(this,n),(o=t.call(this,e)).state={resetCount:0},o.cancelRegisterFunc=null,o.mounted=!1,o.touched=!1,o.dirty=!1,o.validatePromise=null,o.prevValidating=void 0,o.errors=we,o.warnings=we,o.cancelRegister=function(){var e=o.props,t=e.preserve,n=e.isListField,r=e.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(n,t,re(r)),o.cancelRegisterFunc=null},o.getNamePath=function(){var e=o.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,l.Z)(r),(0,l.Z)(t)):[]},o.getRules=function(){var e=o.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(r):e}))},o.refresh=function(){o.mounted&&o.setState((function(e){return{resetCount:e.resetCount+1}}))},o.triggerMetaEvent=function(e){var t=o.props.onMetaChange;null==t||t((0,a.Z)((0,a.Z)({},o.getMeta()),{},{destroy:e}))},o.onStoreChange=function(e,t,n){var r=o.props,i=r.shouldUpdate,s=r.dependencies,a=void 0===s?[]:s,l=r.onReset,c=n.store,u=o.getNamePath(),h=o.getValue(e),d=o.getValue(c),p=t&&ae(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&h!==d&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=we,o.warnings=we,o.triggerMetaEvent()),n.type){case"reset":if(!t||p)return o.touched=!1,o.dirty=!1,o.validatePromise=null,o.errors=we,o.warnings=we,o.triggerMetaEvent(),null==l||l(),void o.refresh();break;case"remove":if(i)return void o.reRender();break;case"setField":if(p){var f=n.data;return"touched"in f&&(o.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(o.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(o.errors=f.errors||we),"warnings"in f&&(o.warnings=f.warnings||we),o.dirty=!0,o.triggerMetaEvent(),void o.reRender()}if(i&&!u.length&&Se(i,e,c,h,d,n))return void o.reRender();break;case"dependenciesUpdate":if(a.map(re).some((function(e){return ae(n.relatedFields,e)})))return void o.reRender();break;default:if(p||(!a.length||u.length||i)&&Se(i,e,c,h,d,n))return void o.reRender()}!0===i&&o.reRender()},o.validateRules=function(e){var t=o.getNamePath(),n=o.getValue(),r=Promise.resolve().then((function(){if(!o.mounted)return[];var i=o.props,s=i.validateFirst,a=void 0!==s&&s,c=i.messageVariables,u=(e||{}).triggerName,h=o.getRules();u&&(h=h.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||b(t).includes(u)})));var d=be(t,n,h,e,a,c);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;if(o.validatePromise===r){var t;o.validatePromise=null;var n=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,o=void 0===r?we:r;t?i.push.apply(i,(0,l.Z)(o)):n.push.apply(n,(0,l.Z)(o))})),o.errors=n,o.warnings=i,o.triggerMetaEvent(),o.reRender()}})),d}));return o.validatePromise=r,o.dirty=!0,o.errors=we,o.warnings=we,o.triggerMetaEvent(),o.reRender(),r},o.isFieldValidating=function(){return!!o.validatePromise},o.isFieldTouched=function(){return o.touched},o.isFieldDirty=function(){return!(!o.dirty&&void 0===o.props.initialValue)||void 0!==(0,o.props.fieldContext.getInternalHooks(m).getInitialValue)(o.getNamePath())},o.getErrors=function(){return o.errors},o.getWarnings=function(){return o.warnings},o.isListField=function(){return o.props.isListField},o.isList=function(){return o.props.isList},o.isPreserve=function(){return o.props.preserve},o.getMeta=function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath()}},o.getOnlyChild=function(e){if("function"==typeof e){var t=o.getMeta();return(0,a.Z)((0,a.Z)({},o.getOnlyChild(e(o.getControlled(),t,o.props.fieldContext))),{},{isFunction:!0})}var n=(0,f.Z)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},o.getValue=function(e){var t=o.props.fieldContext.getFieldsValue,n=o.getNamePath();return oe(e||t(!0),n)},o.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.trigger,r=t.validateTrigger,i=t.getValueFromEvent,l=t.normalize,c=t.valuePropName,u=t.getValueProps,h=t.fieldContext,d=void 0!==r?r:h.validateTrigger,p=o.getNamePath(),f=h.getInternalHooks,g=h.getFieldsValue,_=f(m).dispatch,v=o.getValue(),E=u||function(e){return(0,s.Z)({},c,e)},y=e[n],T=(0,a.Z)((0,a.Z)({},e),E(v));return T[n]=function(){var e;o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=i?i.apply(void 0,n):de.apply(void 0,[c].concat(n)),l&&(e=l(e,v,g(!0))),_({type:"updateValue",namePath:p,value:e}),y&&y.apply(void 0,n)},b(d||[]).forEach((function(e){var t=T[e];T[e]=function(){t&&t.apply(void 0,arguments);var n=o.props.rules;n&&n.length&&_({type:"validateField",namePath:p,triggerName:e})}})),T},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m).initEntityValue)((0,h.Z)(o));return o}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,o=this.getOnlyChild(n),i=o.child;return o.isFunction?e=i:r.isValidElement(i)?e=r.cloneElement(i,this.getControlled(i.props)):((0,g.ZP)(!i,"`children` of Field is not validate ReactElement."),e=i),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);Ce.contextType=v,Ce.defaultProps={trigger:"onChange",valuePropName:"value"};const Ie=function(e){var t=e.name,n=(0,i.Z)(e,Te),s=r.useContext(v),a=void 0!==t?re(t):void 0,l="keep";return n.isListField||(l="_".concat((a||[]).join("_"))),r.createElement(Ce,(0,o.Z)({key:l,name:a},n,{fieldContext:s}))};const ke=r.createContext(null);const Re=function(e){var t=e.name,n=e.initialValue,o=e.children,i=e.rules,s=e.validateTrigger,c=r.useContext(v),u=r.useRef({keys:[],id:0}).current,h=r.useMemo((function(){var e=re(c.prefixName)||[];return[].concat((0,l.Z)(e),(0,l.Z)(re(t)))}),[c.prefixName,t]),d=r.useMemo((function(){return(0,a.Z)((0,a.Z)({},c),{},{prefixName:h})}),[c,h]),p=r.useMemo((function(){return{getKey:function(e){var t=h.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[h]);if("function"!=typeof o)return(0,g.ZP)(!1,"Form.List only accepts function as children."),null;return r.createElement(ke.Provider,{value:p},r.createElement(v.Provider,{value:d},r.createElement(Ie,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:s,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,i=e.onChange,s=c.getFieldValue,a=function(){return s(h||[])||[]},d={add:function(e,t){var n=a();t>=0&&t<=n.length?(u.keys=[].concat((0,l.Z)(u.keys.slice(0,t)),[u.id],(0,l.Z)(u.keys.slice(t))),i([].concat((0,l.Z)(n.slice(0,t)),[e],(0,l.Z)(n.slice(t))))):(u.keys=[].concat((0,l.Z)(u.keys),[u.id]),i([].concat((0,l.Z)(n),[e]))),u.id+=1},remove:function(e){var t=a(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),i(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=a();e<0||e>=n.length||t<0||t>=n.length||(u.keys=pe(u.keys,e,t),i(pe(n,e,t)))}}},p=r||[];return Array.isArray(p)||(p=[]),o(p.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};var Me=n(3133);var Oe="__@field_split__";function xe(e){return e.map((function(e){return"".concat((0,K.Z)(e),":").concat(e)})).join(Oe)}var Ae=function(){function e(){(0,c.Z)(this,e),this.kvs=new Map}return(0,u.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(xe(e),t)}},{key:"get",value:function(e){return this.kvs.get(xe(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(xe(e))}},{key:"map",value:function(e){return(0,l.Z)(this.kvs.entries()).map((function(t){var n=(0,Me.Z)(t,2),r=n[0],o=n[1],i=r.split(Oe);return e({key:i.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Me.Z)(t,3),r=n[1],o=n[2];return"number"===r?Number(o):o})),value:o})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const Ne=Ae;var Le=["name","errors"],De=(0,u.Z)((function e(t){var n=this;(0,c.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===m?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,g.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,o=ue({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;o=ie(o,n,oe(e,n))})),n.prevWithoutPreserves=null,n.updateStore(o)}},this.destroyForm=function(){var e=new Ne;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=oe(n.initialValues,e);return e.length?ne(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Ne;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=re(e);return t.get(n)||{INVALIDATE_NAME_PATH:re(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),o=[];return r.forEach((function(n){var r,i="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var s="getMeta"in n?n.getMeta():null;t(s)&&o.push(i)}else o.push(i)})),se(n.store,o.map(re))},this.getFieldValue=function(e){n.warningUnhooked();var t=re(e);return oe(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:re(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=re(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=re(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],s=t[1],a=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(re),a=!1):(o=null,a=i):(o=i.map(re),a=s);var c=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!o)return a?c.every(u):c.some(u);var h=new Ne;o.forEach((function(e){h.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();o.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&h.update(n,(function(t){return[].concat((0,l.Z)(t),[e])}))}))}));var d=function(e){return e.some(u)},p=h.map((function(e){return e.value}));return a?p.every(d):p.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(re);return t.some((function(e){var t=e.getNamePath();return ae(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Ne,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var o=t.get(r)||new Set;o.add({entity:e,value:n}),t.set(r,o)}}));var o;e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=o).push.apply(n,(0,l.Z)((0,l.Z)(r).map((function(e){return e.entity}))))}))):o=r,o.forEach((function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==n.getInitialValue(o))(0,g.ZP)(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)(0,g.ZP)(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var s=n.getFieldValue(o);e.skipExist&&void 0!==s||n.updateStore(ie(n.store,o,(0,l.Z)(i)[0].value))}}}}))},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(ue({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(re);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(ie(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var o=e.name,s=(e.errors,(0,i.Z)(e,Le)),a=re(o);r.push(a),"value"in s&&n.updateStore(ie(n.store,a,s.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),o=(0,a.Z)((0,a.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===oe(n.store,r)&&n.updateStore(ie(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null==t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(o)&&(!r||i.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every((function(e){return!he(e.getNamePath(),t)}))){var a=n.store;n.updateStore(ie(a,t,s,!0)),n.notifyObservers(a,[t],{type:"remove"}),n.triggerDependenciesUpdate(a,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var o=(0,a.Z)((0,a.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,o)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,l.Z)(r))}),r},this.updateValue=function(e,t){var r=re(e),o=n.store;n.updateStore(ie(n.store,r,t)),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(o,r),s=n.callbacks.onValuesChange;s&&s(se(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,l.Z)(i)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=ue(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],o=new Ne;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=re(t);o.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(o.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new Ne;t.forEach((function(e){var t=e.name,n=e.errors;i.set(t,n)})),o.forEach((function(e){e.errors=i.get(e.name)||e.errors}))}r(o.filter((function(t){var n=t.name;return ae(e,n)})),o)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,o=r?e.map(re):[],i=[];n.getFieldEntities(!0).forEach((function(s){if(r||o.push(s.getNamePath()),(null==t?void 0:t.recursive)&&r){var c=s.getNamePath();c.every((function(t,n){return e[n]===t||void 0===e[n]}))&&o.push(c)}if(s.props.rules&&s.props.rules.length){var u=s.getNamePath();if(!r||ae(o,u)){var h=s.validateRules((0,a.Z)({validateMessages:(0,a.Z)((0,a.Z)({},Y),n.validateMessages)},t));i.push(h.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,o=e.errors;t?r.push.apply(r,(0,l.Z)(o)):n.push.apply(n,(0,l.Z)(o))})),n.length?Promise.reject({name:u,errors:n,warnings:r}):{name:u,errors:n,warnings:r}})))}}}));var s=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(o,i){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[s]=e,n>0||(t&&i(r),o(r))}))}))})):Promise.resolve([])}(i);n.lastValidatePromise=s,s.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=s.then((function(){return n.lastValidatePromise===s?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==s})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));const Pe=function(e){var t=r.useRef(),n=r.useState({}),o=(0,Me.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new De((function(){o({})}));t.current=i.getForm()}return[t.current]};var $e=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Be=function(e){var t=e.validateMessages,n=e.onFormChange,o=e.onFormFinish,i=e.children,l=r.useContext($e),c=r.useRef({});return r.createElement($e.Provider,{value:(0,a.Z)((0,a.Z)({},l),{},{validateMessages:(0,a.Z)((0,a.Z)({},l.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),l.triggerFormChange(e,t)},triggerFormFinish:function(e,t){o&&o(e,{values:t,forms:c.current}),l.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=(0,a.Z)((0,a.Z)({},c.current),{},(0,s.Z)({},e,t))),l.registerForm(e,t)},unregisterForm:function(e){var t=(0,a.Z)({},c.current);delete t[e],c.current=t,l.unregisterForm(e)}})},i)};const Fe=$e;var Ue=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const Ge=function(e,t){var n=e.name,s=e.initialValues,c=e.fields,u=e.form,h=e.preserve,d=e.children,p=e.component,f=void 0===p?"form":p,g=e.validateMessages,_=e.validateTrigger,b=void 0===_?"onChange":_,E=e.onValuesChange,y=e.onFieldsChange,T=e.onFinish,w=e.onFinishFailed,S=(0,i.Z)(e,Ue),C=r.useContext(Fe),I=Pe(u),k=(0,Me.Z)(I,1)[0],R=k.getInternalHooks(m),M=R.useSubscribe,O=R.setInitialValues,x=R.setCallbacks,A=R.setValidateMessages,N=R.setPreserve,L=R.destroyForm;r.useImperativeHandle(t,(function(){return k})),r.useEffect((function(){return C.registerForm(n,k),function(){C.unregisterForm(n)}}),[C,k,n]),A((0,a.Z)((0,a.Z)({},C.validateMessages),g)),x({onValuesChange:E,onFieldsChange:function(e){if(C.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];y.apply(void 0,[e].concat(r))}},onFinish:function(e){C.triggerFormFinish(n,e),T&&T(e)},onFinishFailed:w}),N(h);var D,P=r.useRef(null);O(s,!P.current),P.current||(P.current=!0),r.useEffect((function(){return L}),[]);var $="function"==typeof d;$?D=d(k.getFieldsValue(!0),k):D=d;M(!$);var B=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,K.Z)(e)||"object"!==(0,K.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),o=new Set([].concat(n,r));return(0,l.Z)(o).every((function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o}))})(B.current||[],c||[])||k.setFields(c||[]),B.current=c}),[c,k]);var F=r.useMemo((function(){return(0,a.Z)((0,a.Z)({},k),{},{validateTrigger:b})}),[k,b]),U=r.createElement(v.Provider,{value:F},D);return!1===f?U:r.createElement(f,(0,o.Z)({},S,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),k.submit()},onReset:function(e){var t;e.preventDefault(),k.resetFields(),null===(t=S.onReset)||void 0===t||t.call(S,e)}}),U)};function je(e){try{return JSON.stringify(e)}catch(e){return Math.random()}}var He=function(){};const Ve=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],i=void 0===o?[]:o,s=t[1],a=(0,r.useState)(),l=(0,Me.Z)(a,2),c=l[0],u=l[1],h=(0,r.useMemo)((function(){return je(c)}),[c]),d=(0,r.useRef)(h);d.current=h;var p=(0,r.useContext)(v),f=s||p,g=f&&f._init,_=re(i),b=(0,r.useRef)(_);return b.current=_,He(_),(0,r.useEffect)((function(){if(g){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(m).registerWatch)((function(e){var t=oe(e,b.current),n=je(t);d.current!==n&&(d.current=n,u(t))})),n=oe(e(),b.current);return u(n),t}}),[g]),c};var We=r.forwardRef(Ge);We.FormProvider=Be,We.Field=Ie,We.List=Re,We.useForm=Pe,We.useWatch=Ve},1791:(e,t,n)=>{"use strict";n.d(t,{V:()=>ue,Z:()=>he});var r=n(6431),o=n(5543),i=n(3133),s=n(6151),a=n(9685),l=n(6289),c=n(2943),u=n(8591),h=n.n(u),d=n(4843);function p(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var f,g,m,_=(f=(0,d.Z)(),g="undefined"!=typeof window?window:{},m={animationend:p("Animation","AnimationEnd"),transitionend:p("Transition","TransitionEnd")},f&&("AnimationEvent"in g||delete m.animationend.animation,"TransitionEvent"in g||delete m.transitionend.transition),m),v={};if((0,d.Z)()){var b=document.createElement("div");v=b.style}var E={};function y(e){if(E[e])return E[e];var t=_[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in v)return E[e]=t[i],E[e]}return""}var T=y("animationend"),w=y("transitionend"),S=!(!T||!w),C=T||"animationend",I=w||"transitionend";function k(e,t){return e?"object"===(0,s.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var R="none",M="appear",O="enter",x="leave",A="none",N="prepare",L="start",D="active",P="end",$=n(3234),B=n(1055);const F=(0,d.Z)()?a.useLayoutEffect:a.useEffect;var U=[N,L,D,P],G=!1,j=!0;function H(e){return e===D||e===P}const V=function(e,t){var n=(0,$.Z)(A),r=(0,i.Z)(n,2),o=r[0],s=r[1],l=function(){var e=a.useRef(null);function t(){B.Z.cancel(e.current)}return a.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=(0,B.Z)((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)}));e.current=i},t]}(),c=(0,i.Z)(l,2),u=c[0],h=c[1];return F((function(){if(o!==A&&o!==P){var e=U.indexOf(o),n=U[e+1],r=t(o);r===G?s(n,!0):u((function(e){function t(){e.isCanceled()||s(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,o]),a.useEffect((function(){return function(){h()}}),[]),[function(){s(N,!0)},o]},W=function(e){var t=(0,a.useRef)(),n=(0,a.useRef)(e);n.current=e;var r=a.useCallback((function(e){n.current(e)}),[]);function o(e){e&&(e.removeEventListener(I,r),e.removeEventListener(C,r))}return a.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(I,r),e.addEventListener(C,r),t.current=e)},o]};var z=n(3836),Z=n(1320),X=n(6680),Y=n(2763);const K=function(e){(0,X.Z)(n,e);var t=(0,Y.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Z.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(a.Component);const J=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,s.Z)(e)&&(t=e.transitionSupport);var u=a.forwardRef((function(e,t){var s=e.visible,u=void 0===s||s,d=e.removeOnLeave,p=void 0===d||d,f=e.forceRender,g=e.children,m=e.motionName,_=e.leavedClassName,v=e.eventProps,b=n(e),E=(0,a.useRef)(),y=(0,a.useRef)();var T=function(e,t,n,s){var l=s.motionEnter,c=void 0===l||l,u=s.motionAppear,h=void 0===u||u,d=s.motionLeave,p=void 0===d||d,f=s.motionDeadline,g=s.motionLeaveImmediately,m=s.onAppearPrepare,_=s.onEnterPrepare,v=s.onLeavePrepare,b=s.onAppearStart,E=s.onEnterStart,y=s.onLeaveStart,T=s.onAppearActive,w=s.onEnterActive,S=s.onLeaveActive,C=s.onAppearEnd,I=s.onEnterEnd,k=s.onLeaveEnd,A=s.onVisibleChanged,P=(0,$.Z)(),B=(0,i.Z)(P,2),U=B[0],z=B[1],Z=(0,$.Z)(R),X=(0,i.Z)(Z,2),Y=X[0],K=X[1],J=(0,$.Z)(null),q=(0,i.Z)(J,2),Q=q[0],ee=q[1],te=(0,a.useRef)(!1),ne=(0,a.useRef)(null);function re(){return n()}var oe=(0,a.useRef)(!1);function ie(e){var t=re();if(!e||e.deadline||e.target===t){var n,r=oe.current;Y===M&&r?n=null==C?void 0:C(t,e):Y===O&&r?n=null==I?void 0:I(t,e):Y===x&&r&&(n=null==k?void 0:k(t,e)),Y!==R&&r&&!1!==n&&(K(R,!0),ee(null,!0))}}var se=W(ie),ae=(0,i.Z)(se,1)[0],le=a.useMemo((function(){var e,t,n;switch(Y){case M:return e={},(0,r.Z)(e,N,m),(0,r.Z)(e,L,b),(0,r.Z)(e,D,T),e;case O:return t={},(0,r.Z)(t,N,_),(0,r.Z)(t,L,E),(0,r.Z)(t,D,w),t;case x:return n={},(0,r.Z)(n,N,v),(0,r.Z)(n,L,y),(0,r.Z)(n,D,S),n;default:return{}}}),[Y]),ce=V(Y,(function(e){if(e===N){var t=le[N];return t?t(re()):G}var n;return de in le&&ee((null===(n=le[de])||void 0===n?void 0:n.call(le,re(),null))||null),de===D&&(ae(re()),f>0&&(clearTimeout(ne.current),ne.current=setTimeout((function(){ie({deadline:!0})}),f))),j})),ue=(0,i.Z)(ce,2),he=ue[0],de=ue[1],pe=H(de);oe.current=pe,F((function(){z(t);var n,r=te.current;te.current=!0,e&&(!r&&t&&h&&(n=M),r&&t&&c&&(n=O),(r&&!t&&p||!r&&g&&!t&&p)&&(n=x),n&&(K(n),he()))}),[t]),(0,a.useEffect)((function(){(Y===M&&!h||Y===O&&!c||Y===x&&!p)&&K(R)}),[h,c,p]),(0,a.useEffect)((function(){return function(){te.current=!1,clearTimeout(ne.current)}}),[]);var fe=a.useRef(!1);(0,a.useEffect)((function(){U&&(fe.current=!0),void 0!==U&&Y===R&&((fe.current||U)&&(null==A||A(U)),fe.current=!0)}),[U,Y]);var ge=Q;return le[N]&&de===L&&(ge=(0,o.Z)({transition:"none"},ge)),[Y,de,ge,null!=U?U:t]}(b,u,(function(){try{return E.current instanceof HTMLElement?E.current:(0,l.Z)(y.current)}catch(e){return null}}),e),w=(0,i.Z)(T,4),S=w[0],C=w[1],I=w[2],A=w[3],P=a.useRef(A);A&&(P.current=!0);var B,U=a.useCallback((function(e){E.current=e,(0,c.mH)(t,e)}),[t]),z=(0,o.Z)((0,o.Z)({},v),{},{visible:u});if(g)if(S!==R&&n(e)){var Z,X;C===N?X="prepare":H(C)?X="active":C===L&&(X="start"),B=g((0,o.Z)((0,o.Z)({},z),{},{className:h()(k(m,S),(Z={},(0,r.Z)(Z,k(m,"".concat(S,"-").concat(X)),X),(0,r.Z)(Z,m,"string"==typeof m),Z)),style:I}),U)}else B=A?g((0,o.Z)({},z),U):!p&&P.current&&_?g((0,o.Z)((0,o.Z)({},z),{},{className:_}),U):f||!p&&!_?g((0,o.Z)((0,o.Z)({},z),{},{style:{display:"none"}}),U):null;else B=null;a.isValidElement(B)&&(0,c.Yr)(B)&&(B.ref||(B=a.cloneElement(B,{ref:U})));return a.createElement(K,{ref:y},B)}));return u.displayName="CSSMotion",u}(S);var q=n(7446),Q=n(127),ee=n(5659),te="add",ne="keep",re="remove",oe="removed";function ie(e){var t;return t=e&&"object"===(0,s.Z)(e)&&"key"in e?e:{key:e},(0,o.Z)((0,o.Z)({},t),{},{key:String(t.key)})}function se(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ie)}var ae=["component","children","onVisibleChanged","onAllRemoved"],le=["status"],ce=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,n=function(e){(0,X.Z)(i,e);var n=(0,Y.Z)(i);function i(){var e;(0,z.Z)(this,i);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s)),(0,r.Z)((0,ee.Z)(e),"state",{keyEntities:[]}),(0,r.Z)((0,ee.Z)(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,o.Z)((0,o.Z)({},e),{},{status:oe})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==oe})).length})),e}return(0,Z.Z)(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,s=r.onVisibleChanged,l=r.onAllRemoved,c=(0,Q.Z)(r,ae),u=o||a.Fragment,h={};return ce.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,a.createElement(u,c,n.map((function(n){var r=n.status,o=(0,Q.Z)(n,le),c=r===te||r===ne;return a.createElement(t,(0,q.Z)({},h,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null==s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&l&&l()}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=se(n),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,s=se(e),a=se(t);s.forEach((function(e){for(var t=!1,s=r;s<i;s+=1){var l=a[s];if(l.key===e.key){r<s&&(n=n.concat(a.slice(r,s).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:te})}))),r=s),n.push((0,o.Z)((0,o.Z)({},l),{},{status:ne})),r+=1,t=!0;break}}t||n.push((0,o.Z)((0,o.Z)({},e),{},{status:re}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:te})}))));var l={};return n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1})),Object.keys(l).filter((function(e){return l[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==re}))).forEach((function(t){t.key===e&&(t.status=ne)}))})),n}(r,i);return{keyEntities:s.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==oe||e.status!==re}))}}}]),i}(a.Component);return(0,r.Z)(n,"defaultProps",{component:"div"}),n}(S),he=J},7033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},1498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9685),o=n(9403);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(i(e)):(0,o.isFragment)(e)&&e.props?n=n.concat(i(e.props.children,t)):n.push(e))})),n}},4843:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{Z:()=>r})},7682:(e,t,n)=>{"use strict";function r(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}n.d(t,{Z:()=>r})},4785:(e,t,n)=>{"use strict";n.d(t,{hq:()=>f,jL:()=>p});var r=n(4843),o=n(7682),i="data-rc-order",s="rc-util-key",a=new Map;function l(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):s}function c(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function u(e){return Array.from((a.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.Z)())return null;var n=t.csp,o=t.prepend,s=document.createElement("style");s.setAttribute(i,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(o)),null!=n&&n.nonce&&(s.nonce=null==n?void 0:n.nonce),s.innerHTML=e;var a=c(t),l=a.firstChild;if(o){if("queue"===o){var h=u(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(i))}));if(h.length)return a.insertBefore(s,h[h.length-1].nextSibling),s}a.insertBefore(s,l)}else a.appendChild(s);return s}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(c(t)).find((function(n){return n.getAttribute(l(t))===e}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d(e,t);n&&c(t).removeChild(n)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=a.get(e);if(!n||!(0,o.Z)(document,n)){var r=h("",t),i=r.parentNode;a.set(e,i),e.removeChild(r)}}(c(n),n);var r=d(t,n);if(r){var i,s,u;if(null!==(i=n.csp)&&void 0!==i&&i.nonce&&r.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))r.nonce=null===(u=n.csp)||void 0===u?void 0:u.nonce;return r.innerHTML!==e&&(r.innerHTML=e),r}var p=h(e,n);return p.setAttribute(l(n),t),p}},6289:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9685),o=n(374);function i(e){return e instanceof HTMLElement?e:e instanceof r.Component?o.findDOMNode(e):null}},5816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,s=o.height;if(i||s)return!0}return!1}},4430:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const o=r},7287:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>m,v:()=>E});var o,i=n(7211),s=n(1033),a=n(6151),l=n(5543),c=n(374),u=(0,l.Z)({},r||(r=n.t(c,2))),h=u.version,d=u.render,p=u.unmountComponentAtNode;try{Number((h||"").split(".")[0])>=18&&(o=u.createRoot)}catch(e){}function f(e){var t=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,a.Z)(t)&&(t.usingClientEntryPoint=e)}var g="__rc_react_root__";function m(e,t){o?function(e,t){f(!0);var n=t[g]||o(t);f(!1),n.render(e),t[g]=n}(e,t):function(e,t){d(e,t)}(e,t)}function _(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[g])||void 0===e||e.unmount(),delete t[g]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){p(e)}function E(e){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=2;break}return e.abrupt("return",_(t));case 2:b(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,o:()=>s});var r=n(9685),o=(0,n(4843).Z)()?r.useLayoutEffect:r.useEffect;const i=o;var s=function(e,t){var n=r.useRef(!0);o((function(){if(!n.current)return e()}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])}},6794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9685);function o(e,t,n){var o=r.useRef({});return"value"in o.current&&!n(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}},3234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3133),o=n(9685);function i(e){var t=o.useRef(!1),n=o.useState(e),i=(0,r.Z)(n,2),s=i[0],a=i[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[s,function(e,n){n&&t.current||a(e)}]}},752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6151),o=n(3379);const i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Set;return function e(t,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=i.has(t);if((0,o.ZP)(!l,"Warning: There may be circular references"),l)return!1;if(t===s)return!0;if(n&&a>1)return!1;i.add(t);var c=a+1;if(Array.isArray(t)){if(!Array.isArray(s)||t.length!==s.length)return!1;for(var u=0;u<t.length;u++)if(!e(t[u],s[u],c))return!1;return!0}if(t&&s&&"object"===(0,r.Z)(t)&&"object"===(0,r.Z)(s)){var h=Object.keys(t);return h.length===Object.keys(s).length&&h.every((function(n){return e(t[n],s[n],c)}))}return!1}(e,t)}},7231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5543);function o(e,t){var n=(0,r.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5543),o="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),i="aria-",s="data-";function a(e,t){return 0===e.indexOf(t)}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,r.Z)({},n);var l={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||a(n,i))||t.data&&a(n,s)||t.attr&&o.includes(n))&&(l[n]=e[n])})),l}},1055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=function(e){return+setTimeout(e,16)},o=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},o=function(e){return window.cancelAnimationFrame(e)});var i=0,s=new Map;function a(e){s.delete(e)}var l=function(e){var t=i+=1;return function n(o){if(0===o)a(t),e();else{var i=r((function(){n(o-1)}));s.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};l.cancel=function(e){var t=s.get(e);return a(t),o(t)};const c=l},2943:(e,t,n)=>{"use strict";n.d(t,{Yr:()=>c,mH:()=>s,sQ:()=>a,x1:()=>l});var r=n(6151),o=n(9403),i=n(6794);function s(e,t){"function"==typeof e?e(t):"object"===(0,r.Z)(e)&&e&&"current"in e&&(e.current=t)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){s(t,e)}))}}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.Z)((function(){return a.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}function c(e){var t,n,r=(0,o.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}},3379:(e,t,n)=>{"use strict";n.d(t,{Kp:()=>o,ZP:()=>s});var r={};function o(e,t){0}function i(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}const s=function(e,t){i(o,e,t)}},1482:(e,t,n)=>{"use strict";var r=n(9685),o=n(9220);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var P,$=Object.assign;function B(e){if(void 0===P)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function q(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var _e=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,we=null,Se=null;function Ce(e){if(e=Eo(e)){if("function"!=typeof Te)throw Error(i(280));var t=e.stateNode;t&&(t=To(t),Te(e.stateNode,e.type,t))}}function Ie(e){we?Se?Se.push(e):Se=[e]:we=e}function ke(){if(we){var e=we,t=Se;if(Se=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function Me(){}var Oe=!1;function xe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Re(e,t,n)}finally{Oe=!1,(null!==we||null!==Se)&&(Me(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=To(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function De(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Pe=!1,$e=null,Be=!1,Fe=null,Ue={onError:function(e){Pe=!0,$e=e}};function Ge(e,t,n,r,o,i,s,a,l){Pe=!1,$e=null,De.apply(Ue,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ve(o),e;if(s===r)return Ve(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var Ze=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Je=o.unstable_now,qe=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=ht(a):0!==(i&=s)&&(r=ht(i))}else 0!==(s=n&~o)?r=ht(s):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!=(4194240&i)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var yt,Tt,wt,St,Ct,It=!1,kt=[],Rt=null,Mt=null,Ot=null,xt=new Map,At=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Pt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Eo(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function $t(e){var t=bo(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Eo(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){It=!1,null!==Rt&&Bt(Rt)&&(Rt=null),null!==Mt&&Bt(Mt)&&(Mt=null),null!==Ot&&Bt(Ot)&&(Ot=null),xt.forEach(Ft),At.forEach(Ft)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function jt(e){function t(t){return Gt(t,e)}if(0<kt.length){Gt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Gt(Rt,e),null!==Mt&&Gt(Mt,e),null!==Ot&&Gt(Ot,e),xt.forEach(t),At.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)$t(n),null===n.blockedOn&&Nt.shift()}var Ht=E.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function zt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Zt(e,t,n,r){if(Vt){var o=Yt(e,t,n,r);if(null===o)Vr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Rt=Pt(Rt,e,t,n,r,o),!0;case"dragenter":return Mt=Pt(Mt,e,t,n,r,o),!0;case"mouseover":return Ot=Pt(Ot,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return xt.set(i,Pt(xt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,At.set(i,Pt(At.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=Eo(o);if(null!==i&&yt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Xt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=bo(e=ye(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,qt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=qt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=$({},cn,{view:0,detail:0}),dn=on(hn),pn=$({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),gn=on($({},pn,{dataTransfer:0})),mn=on($({},hn,{relatedTarget:0})),_n=on($({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=$({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),En=on($({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return Sn}var In=$({},hn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(In),Rn=on($({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on($({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=on($({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=$({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(xn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Pn=u&&"TextEvent"in window&&!Dn,$n=u&&(!Ln||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=zr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Zn=null;function Xn(e){Br(e,0)}function Yn(e){if(Z(yo(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(u){var qn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}qn=Qn}else qn=!1;Jn=qn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Zn=zn=null)}function nr(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];Wn(t,Zn,e,ye(e)),xe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,_r=null,vr=null,br=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=zr(_r,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},wr={},Sr={};function Cr(e){if(wr[e])return wr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return wr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Ir=Cr("animationend"),kr=Cr("animationiteration"),Rr=Cr("animationstart"),Mr=Cr("transitionend"),Or=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),l(t,[e])}for(var Nr=0;Nr<xr.length;Nr++){var Lr=xr[Nr];Ar(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(kr,"onAnimationIteration"),Ar(Rr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Mr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ge.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=$e;Pe=!1,$e=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;$r(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;$r(o,a,c),i=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Gr]){e[Gr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var o=Wt;break;case 4:o=zt;break;default:o=Zt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}xe((function(){var r=i,o=ye(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ir:case kr:case Rr:l=_n;break;case Mr:l=On;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!=(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Ae(f,d))&&u.push(Wr(f,g,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[go])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(h=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:yo(l),p=null==c?a:yo(c),(a=new u(g,f+"leave",l,n,o)).target=h,a.relatedTarget=p,g=null,bo(o)===r&&((u=new u(d,f+"enter",c,n,o)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Zr(p))f++;for(p=0,g=d;g;g=Zr(g))p++;for(;0<f-p;)u=Zr(u),f--;for(;0<p-f;)d=Zr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Zr(u),d=Zr(d)}u=null}else u=null;null!==l&&Xr(s,a,l,u,!1),null!==c&&null!==h&&Xr(s,h,c,u,!0)}if("select"===(l=(a=r?yo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Kn;else if(Vn(a))if(Jn)m=sr;else{m=or;var _=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ir);switch(m&&(m=m(e,r))?Wn(s,m,n,o):(_&&_(e,a,r),"focusout"===e&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&ee(a,"number",a.value)),_=r?yo(r):window,e){case"focusin":(Vn(_)||"true"===_.contentEditable)&&(mr=_,_r=r,vr=null);break;case"focusout":vr=_r=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Er(s,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(s,n,o)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(v=en()):(qt="value"in(Jt=o)?Jt.value:Jt.textContent,jn=!0)),0<(_=zr(r,b)).length&&(b=new En(b,e,null,n,o),s.push({event:b,listeners:_}),v?b.data=v:null!==(v=Gn(n))&&(b.data=v))),(v=Pn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Qt=qt=Jt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(o=new En("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=v))}Br(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ae(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ae(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Ae(n,i))&&s.unshift(Wr(n,l,a)):o||null!=(l=Ae(n,i))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);jt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,_o="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function Eo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function To(e){return e[fo]||null}var wo=[],So=-1;function Co(e){return{current:e}}function Io(e){0>So||(e.current=wo[So],wo[So]=null,So--)}function ko(e,t){So++,wo[So]=e.current,e.current=t}var Ro={},Mo=Co(Ro),Oo=Co(!1),xo=Ro;function Ao(e,t){var n=e.type.contextTypes;if(!n)return Ro;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!=(e=e.childContextTypes)}function Lo(){Io(Oo),Io(Mo)}function Do(e,t,n){if(Mo.current!==Ro)throw Error(i(168));ko(Mo,t),ko(Oo,n)}function Po(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return $({},n,r)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,xo=Mo.current,ko(Mo,e),ko(Oo,Oo.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Po(e,t,xo),r.__reactInternalMemoizedMergedChildContext=e,Io(Oo),Io(Mo),ko(Mo,e)):Io(Oo),ko(Oo,n)}var Fo=null,Uo=!1,Go=!1;function jo(e){null===Fo?Fo=[e]:Fo.push(e)}function Ho(){if(!Go&&null!==Fo){Go=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Uo=!1}catch(t){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ze(Qe,Ho),t}finally{bt=t,Go=!1}}return null}var Vo=[],Wo=0,zo=null,Zo=0,Xo=[],Yo=0,Ko=null,Jo=1,qo="";function Qo(e,t){Vo[Wo++]=Zo,Vo[Wo++]=zo,zo=e,Zo=t}function ei(e,t,n){Xo[Yo++]=Jo,Xo[Yo++]=qo,Xo[Yo++]=Ko,Ko=e;var r=Jo;e=qo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Jo=1<<32-st(t)+o|n<<o|r,qo=i+e}else Jo=1<<i|n<<o|r,qo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===zo;)zo=Vo[--Wo],Vo[Wo]=null,Zo=Vo[--Wo],Vo[Wo]=null;for(;e===Ko;)Ko=Xo[--Yo],Xo[Yo]=null,qo=Xo[--Yo],Xo[Yo]=null,Jo=Xo[--Yo],Xo[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ko?{id:Jo,overflow:qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return hi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function gi(e){null===si?si=[e]:si.push(e)}var mi=E.ReactCurrentBatchConfig;function _i(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vi=Co(null),bi=null,Ei=null,yi=null;function Ti(){yi=Ei=bi=null}function wi(e){var t=vi.current;Io(vi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){bi=e,yi=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ea=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(yi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ei){if(null===bi)throw Error(i(308));Ei=e,bi.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var ki=null;function Ri(e){null===ki?ki=[e]:ki.push(e)}function Mi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xi=!1;function Ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Ml)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oi(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function $i(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var o=e.updateQueue;xi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=o.baseState;for(s=0,u=c=l=null,a=i;;){var d=a.lane,p=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=n,g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(d="function"==typeof(f=g.payload)?f.call(p,h,d):f))break e;h=$({},h,d);break e;case 2:xi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(d=a).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===u&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);$l|=s,e.lanes=s,e.memoizedState=h}}function Fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Ui=(new r.Component).refs;function Gi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ji={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Di(e,i,o))&&(rc(t,e,o,r),Pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Di(e,i,o))&&(rc(t,e,o,r),Pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Li(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Di(e,o,r))&&(rc(t,e,r,n),Pi(t,e,r))}};function Hi(e,t,n,r,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function Vi(e,t,n){var r=!1,o=Ro,i=t.contextType;return"object"==typeof i&&null!==i?i=Ii(i):(o=No(t)?xo:Mo.current,i=(r=null!=(r=t.contextTypes))?Ao(e,o):Ro),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ji,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ji.enqueueReplaceState(t,t.state,null)}function zi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ui,Ai(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ii(i):(i=No(t)?xo:Mo.current,o.context=Ao(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Gi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ji.enqueueReplaceState(o,o.state,null),Bi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Zi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;t===Ui&&(t=o.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yi(e){return(0,e._init)(e._payload)}function Ki(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===w?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&Yi(i)===t.type)?((r=o(t,n.props)).ref=Zi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Zi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Zi(e,null,t),n.return=e,n;case T:return(t=Fc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Xi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===o?c(e,t,n,r):null;case T:return n.key===o?u(e,t,n,r):null;case A:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:h(e,t,n,r,null);Xi(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,o,null);Xi(t,r)}return null}function g(o,i,a,l){for(var c=null,u=null,h=i,g=i=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var _=p(o,h,a[g],l);if(null===_){null===h&&(h=m);break}e&&h&&null===_.alternate&&t(o,h),i=s(_,i,g),null===u?c=_:u.sibling=_,u=_,h=m}if(g===a.length)return n(o,h),ii&&Qo(o,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(o,a[g],l))&&(i=s(h,i,g),null===u?c=h:u.sibling=h,u=h);return ii&&Qo(o,g),c}for(h=r(o,h);g<a.length;g++)null!==(m=f(h,o,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=s(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),c}function m(o,a,l,c){var u=D(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,g=a,m=a=0,_=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(_=g,g=null):_=g.sibling;var b=p(o,g,v.value,c);if(null===b){null===g&&(g=_);break}e&&g&&null===b.alternate&&t(o,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=_}if(v.done)return n(o,g),ii&&Qo(o,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(o,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return ii&&Qo(o,m),u}for(g=r(o,g);!v.done;m++,v=l.next())null!==(v=f(g,o,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),u}return function e(r,i,s,l){if("object"==typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case y:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===A&&Yi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=Zi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===w?((i=Pc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=Zi(r,i,s),l.return=r,r=l)}return a(r);case T:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case A:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return g(r,i,s,l);if(D(s))return m(r,i,s,l);Xi(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Bc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var Ji=Ki(!0),qi=Ki(!1),Qi={},es=Co(Qi),ts=Co(Qi),ns=Co(Qi);function rs(e){if(e===Qi)throw Error(i(174));return e}function os(e,t){switch(ko(ns,t),ko(ts,e),ko(es,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(es),ko(es,t)}function is(){Io(es),Io(ts),Io(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(ko(ts,e),ko(es,n))}function as(e){ts.current===e&&(Io(es),Io(ts))}var ls=Co(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=E.ReactCurrentDispatcher,ps=E.ReactCurrentBatchConfig,fs=0,gs=null,ms=null,_s=null,vs=!1,bs=!1,Es=0,ys=0;function Ts(){throw Error(i(321))}function ws(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,o,s){if(fs=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,o),bs){s=0;do{if(bs=!1,Es=0,25<=s)throw Error(i(301));s+=1,_s=ms=null,t.updateQueue=null,ds.current=ca,e=n(r,o)}while(bs)}if(ds.current=sa,t=null!==ms&&null!==ms.next,fs=0,_s=ms=gs=null,vs=!1,t)throw Error(i(300));return e}function Cs(){var e=0!==Es;return Es=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_s?gs.memoizedState=_s=e:_s=_s.next=e,_s}function ks(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===_s?gs.memoizedState:_s.next;if(null!==t)_s=t,ms=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===_s?gs.memoizedState=_s=e:_s=_s.next=e}return _s}function Rs(e,t){return"function"==typeof t?t(e):t}function Ms(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ms,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((fs&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,gs.lanes|=h,$l|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,gs.lanes|=s,$l|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=ks(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(Ea=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function As(e,t){var n=gs,r=ks(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,Ea=!0),r=r.queue,Vs(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==_s&&1&_s.memoizedState.tag){if(n.flags|=2048,Fs(9,Ls.bind(null,n,r,o,t),void 0,null),null===Ol)throw Error(i(349));0!=(30&fs)||Ns(n,t,o)}return o}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,Ps(t)&&$s(e)}function Ds(e,t,n){return n((function(){Ps(t)&&$s(e)}))}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function $s(e){var t=Oi(e,1);null!==t&&rc(t,e,1,-1)}function Bs(e){var t=Is();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return ks().memoizedState}function Gs(e,t,n,r){var o=Is();gs.flags|=e,o.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function js(e,t,n,r){var o=ks();r=void 0===r?null:r;var i=void 0;if(null!==ms){var s=ms.memoizedState;if(i=s.destroy,null!==r&&ws(r,s.deps))return void(o.memoizedState=Fs(t,n,i,r))}gs.flags|=e,o.memoizedState=Fs(1|t,n,i,r)}function Hs(e,t){return Gs(8390656,8,e,t)}function Vs(e,t){return js(2048,8,e,t)}function Ws(e,t){return js(4,2,e,t)}function zs(e,t){return js(4,4,e,t)}function Zs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!=n?n.concat([e]):null,js(4,4,Zs.bind(null,t,e),n)}function Ys(){}function Ks(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0==(21&fs)?(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,$l|=n,e.baseState=!0),t)}function Qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{bt=n,ps.transition=r}}function ea(){return ks().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))oa(t,n);else if(null!==(n=Mi(e,t,n,r))){rc(n,e,r,tc()),ia(n,t,r)}}function na(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))oa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Mi(e,t,o,r))&&(rc(n,e,r,o=tc()),ia(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function oa(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ia(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:Ii,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useInsertionEffect:Ts,useLayoutEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useMutableSource:Ts,useSyncExternalStore:Ts,useId:Ts,unstable_isNewReconciler:!1},aa={readContext:Ii,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gs(4194308,4,Zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:Bs,useDebugValue:Ys,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Qs.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,o=Is();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ol)throw Error(i(349));0!=(30&fs)||Ns(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Hs(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Ol.identifierPrefix;if(ii){var n=qo;t=":"+t+"R"+(n=(Jo&~(1<<32-st(Jo)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ys++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ii,useCallback:Ks,useContext:Ii,useEffect:Vs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:zs,useMemo:Js,useReducer:Ms,useRef:Us,useState:function(){return Ms(Rs)},useDebugValue:Ys,useDeferredValue:function(e){return qs(ks(),ms.memoizedState,e)},useTransition:function(){return[Ms(Rs)[0],ks().memoizedState]},useMutableSource:xs,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ii,useCallback:Ks,useContext:Ii,useEffect:Vs,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:zs,useMemo:Js,useReducer:Os,useRef:Us,useState:function(){return Os(Rs)},useDebugValue:Ys,useDeferredValue:function(e){var t=ks();return null===ms?t.memoizedState=e:qs(t,ms.memoizedState,e)},useTransition:function(){return[Os(Rs)[0],ks().memoizedState]},useMutableSource:xs,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,zl=r),da(0,t)},n}function ga(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!=typeof r&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function _a(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ba=E.ReactCurrentOwner,Ea=!1;function ya(e,t,n,r){t.child=null===e?qi(t,null,n,r):Ji(t,e.child,n,r)}function Ta(e,t,n,r,o){n=n.render;var i=t.ref;return Ci(t,o),r=Ss(e,t,n,r,i,o),n=Cs(),null===e||Ea?(ii&&n&&ti(t),t.flags|=1,ya(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function wa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Nc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sa(e,t,i,r,o))}if(i=e.child,0==(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=i,0==(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!=(131072&e.flags)&&(Ea=!0)}}return ka(e,t,n,r,o)}function Ca(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Ll,Nl),Nl|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Ll,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ko(Ll,Nl),Nl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ko(Ll,Nl),Nl|=r;return ya(e,t,o,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,o){var i=No(n)?xo:Mo.current;return i=Ao(t,i),Ci(t,o),n=Ss(e,t,n,r,i,o),r=Cs(),null===e||Ea?(ii&&r&&ti(t),t.flags|=1,ya(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ra(e,t,n,r,o){if(No(n)){var i=!0;$o(t)}else i=!1;if(Ci(t,o),null===t.stateNode)Va(e,t),Vi(t,n,r),zi(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ii(c):c=Ao(t,c=No(n)?xo:Mo.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Wi(t,s,r,c),xi=!1;var d=t.memoizedState;s.state=d,Bi(t,r,s,o),l=t.memoizedState,a!==r||d!==l||Oo.current||xi?("function"==typeof u&&(Gi(t,n,u,r),l=t.memoizedState),(a=xi||Hi(t,n,a,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ni(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:_i(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Ao(t,l=No(n)?xo:Mo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Wi(t,s,r,l),xi=!1,d=t.memoizedState,s.state=d,Bi(t,r,s,o);var f=t.memoizedState;a!==h||d!==f||Oo.current||xi?("function"==typeof p&&(Gi(t,n,p,r),f=t.memoizedState),(c=xi||Hi(t,n,c,r,d,f,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,i,o)}function Ma(e,t,n,r,o,i){Ia(e,t);var s=0!=(128&t.flags);if(!r&&!s)return o&&Bo(t,n,!1),Wa(e,t,i);r=t.stateNode,ba.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ji(t,e.child,null,i),t.child=Ji(t,null,a,i)):ya(e,t,a,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),os(e,t.containerInfo)}function xa(e,t,n,r,o){return fi(),gi(o),t.flags|=256,ya(e,t,n,r),t.child}var Aa,Na,La,Da,Pa={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,o=t.pendingProps,s=ls.current,a=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ko(ls,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0==(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=$c(l,o,0,null),e=Pc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=$a(n),t.memoizedState=Pa,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ha(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=$c({mode:"visible",children:r.children},o,0,null),(s=Pc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&Ji(t,e.child,null,a),t.child.memoizedState=$a(a),t.memoizedState=Pa,s);if(0==(1&t.mode))return Ua(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ha(s=Error(i(419)),r,void 0))}if(l=0!=(a&e.childLanes),Ea||l){if(null!==(r=Ol)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oi(e,o),rc(r,e,o,-1))}return mc(),Ua(e,t,a,r=ha(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Xo[Yo++]=Jo,Xo[Yo++]=qo,Xo[Yo++]=Ko,Jo=e.id,qo=e.overflow,Ko=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0==(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Pc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?$a(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Pa,o}return e=(a=e.child).sibling,o=Lc(a,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=$c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&gi(r),Ji(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function ja(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ha(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ya(e,t,r.children,n),0!=(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n,t);else if(19===e.tag)Ga(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ko(ls,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ja(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===cs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ja(t,!0,n,null,i);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Za(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xa(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Za(t),null;case 1:case 17:return No(t.type)&&Lo(),Za(t),null;case 3:return r=t.stateNode,is(),Io(Oo),Io(Mo),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==si&&(ac(si),si=null))),Na(e,t),Za(t),null;case 5:as(t);var o=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Za(t),null}if(e=rs(es.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":oe(r,s),Fr("invalid",r)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&qr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&qr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":z(r),Q(r,s,!0);break;case"textarea":z(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":K(e,r),o=Y(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(s in ve(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"==typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":z(e),Q(e,r,!1);break;case"textarea":z(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Za(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=rs(ns.current),rs(es.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:qr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Za(t),null;case 13:if(Io(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!=(1&t.mode)&&0==(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Za(t),s=!1}else null!==si&&(ac(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ls.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Za(t),null);case 4:return is(),Na(e,t),null===e&&jr(t.stateNode.containerInfo),Za(t),null;case 10:return wi(t.type._context),Za(t),null;case 19:if(Io(ls),null===(s=t.memoizedState))return Za(t),null;if(r=0!=(128&t.flags),null===(l=s.rendering))if(r)za(s,!1);else{if(0!==Dl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,za(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ko(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Hl&&(t.flags|=128,r=!0,za(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),za(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Za(t),null}else 2*Je()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,za(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,ko(ls,r?1&n|2:1&n),t):(Za(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Nl)&&(Za(t),6&t.subtreeFlags&&(t.flags|=8192)):Za(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ya(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Io(Oo),Io(Mo),hs(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Io(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(ls),null;case 4:return is(),null;case 10:return wi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},La=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rs(es.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=$({},o,{value:void 0}),r=$({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ka=!1,Ja=!1,qa="function"==typeof WeakSet?WeakSet:Set,Qa=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cc(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){Cc(e,t,n)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[mo],delete t[_o],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,o=dl;hl=null,pl(e,t,n),dl=o,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),jt(e)):lo(hl,n.stateNode));break;case 4:r=hl,o=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!=(2&i)||0!=(4&i))&&tl(n,t,s),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cc(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,pl(e,t,n),Ja=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qa),t.forEach((function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));fl(s,a,o),hl=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Cc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(t){Cc(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(t){Cc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(o,d):"dangerouslySetInnerHTML"===h?he(o,d):"children"===h?de(o,d):b(o,h,d,u)}switch(l){case"input":q(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(t){Cc(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(t){Cc(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(jl=Je())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,ml(t,e),Ja=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!=(1&e.mode))for(Qa=e,h=e.child;null!==h;){for(d=Qa=h;null!==Qa;){switch(f=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Cc(r,n,e)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Tl(d);continue}}null!==f?(f.return=p,Qa=f):Tl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{o=d.stateNode,u?"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(t){Cc(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(i(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qa=e,El(e,t,n)}function El(e,t,n){for(var r=0!=(1&e.mode);null!==Qa;){var o=Qa,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ka;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Ka;var c=Ja;if(Ka=s,(Ja=l)&&!c)for(Qa=o;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?wl(o):null!==l?(l.return=s,Qa=l):wl(o);for(;null!==i;)Qa=i,El(i,t,n),i=i.sibling;Qa=o,Ka=a,Ja=c}yl(e)}else 0!=(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qa=i):yl(e)}}function yl(e){for(;null!==Qa;){var t=Qa;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:_i(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(i(163))}Ja||512&t.flags&&il(t)}catch(e){Cc(t,t.return,e)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function Tl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function wl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(e){Cc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Cc(t,o,e)}}var i=t.return;try{il(t)}catch(e){Cc(t,i,e)}break;case 5:var s=t.return;try{il(t)}catch(e){Cc(t,s,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Sl,Cl=Math.ceil,Il=E.ReactCurrentDispatcher,kl=E.ReactCurrentOwner,Rl=E.ReactCurrentBatchConfig,Ml=0,Ol=null,xl=null,Al=0,Nl=0,Ll=Co(0),Dl=0,Pl=null,$l=0,Bl=0,Fl=0,Ul=null,Gl=null,jl=0,Hl=1/0,Vl=null,Wl=!1,zl=null,Zl=null,Xl=!1,Yl=null,Kl=0,Jl=0,ql=null,Ql=-1,ec=0;function tc(){return 0!=(6&Ml)?Je():-1!==Ql?Ql:Ql=Je()}function nc(e){return 0==(1&e.mode)?1:0!=(2&Ml)&&0!==Al?Al&-Al:null!==mi.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,ql=null,Error(i(185));_t(e,n,r),0!=(2&Ml)&&e===Ol||(e===Ol&&(0==(2&Ml)&&(Bl|=n),4===Dl&&lc(e,Al)),oc(e,r),1===n&&0===Ml&&0==(1&t.mode)&&(Hl=Je()+500,Uo&&Ho()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!=(a&n)&&0==(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=dt(e,e===Ol?Al:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Uo=!0,jo(e)}(cc.bind(null,e)):jo(cc.bind(null,e)),so((function(){0==(6&Ml)&&Ho()})),n=null;else{switch(Et(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,ec=0,0!=(6&Ml))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Al:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=_c(e,r);else{t=r;var o=Ml;Ml|=2;var s=gc();for(Ol===e&&Al===t||(Vl=null,Hl=Je()+500,pc(e,t));;)try{bc();break}catch(t){fc(e,t)}Ti(),Il.current=s,Ml=o,null!==xl?t=0:(Ol=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t)throw n=Pl,pc(e,0),lc(e,r),oc(e,Je()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=_c(e,r))&&(0!==(s=ft(e))&&(r=s,t=sc(e,s))),1===t))throw n=Pl,pc(e,0),lc(e,r),oc(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Tc(e,Gl,Vl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=jl+500-Je())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Tc.bind(null,e,Gl,Vl),t);break}Tc(e,Gl,Vl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ro(Tc.bind(null,e,Gl,Vl),r);break}Tc(e,Gl,Vl);break;default:throw Error(i(329))}}}return oc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=Gl,Gl=n,null!==t&&ac(t)),e}function ac(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function lc(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!=(6&Ml))throw Error(i(327));wc();var t=dt(e,0);if(0==(1&t))return oc(e,Je()),null;var n=_c(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Pl,pc(e,0),lc(e,t),oc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Gl,Vl),oc(e,Je()),null}function uc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Hl=Je()+500,Uo&&Ho())}}function hc(e){null!==Yl&&0===Yl.tag&&0==(6&Ml)&&wc();var t=Ml;Ml|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0==(6&(Ml=t))&&Ho()}}function dc(){Nl=Ll.current,Io(Ll)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==xl)for(n=xl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Lo();break;case 3:is(),Io(Oo),Io(Mo),hs();break;case 5:as(r);break;case 4:is();break;case 13:case 19:Io(ls);break;case 10:wi(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,xl=e=Lc(e.current,null),Al=Nl=t,Dl=0,Pl=null,Fl=Bl=$l=0,Gl=Ul=null,null!==ki){for(t=0;t<ki.length;t++)if(null!==(r=(n=ki[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}ki=null}return e}function fc(e,t){for(;;){var n=xl;try{if(Ti(),ds.current=sa,vs){for(var r=gs.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}vs=!1}if(fs=0,_s=ms=gs=null,bs=!1,Es=0,kl.current=null,null===n||null===n.return){Dl=1,Pl=t,xl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=_a(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0==(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var _=_a(a);if(null!==_){0==(65536&_.flags)&&(_.flags|=256),va(_,a,l,0,t),gi(ua(c,l));break e}}s=c=ua(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$i(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Zl||!Zl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,$i(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}yc(n)}catch(e){t=e,xl===n&&null!==n&&(xl=n=n.return);continue}break}}function gc(){var e=Il.current;return Il.current=sa,null===e?sa:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0==(268435455&$l)&&0==(268435455&Bl)||lc(Ol,Al)}function _c(e,t){var n=Ml;Ml|=2;var r=gc();for(Ol===e&&Al===t||(Vl=null,pc(e,t));;)try{vc();break}catch(t){fc(e,t)}if(Ti(),Ml=n,Il.current=r,null!==xl)throw Error(i(261));return Ol=null,Al=0,Dl}function vc(){for(;null!==xl;)Ec(xl)}function bc(){for(;null!==xl&&!Ye();)Ec(xl)}function Ec(e){var t=Sl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?yc(e):xl=t,kl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Xa(n,t,Nl)))return void(xl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(xl=n);if(null===e)return Dl=6,void(xl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xl=t);xl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Tc(e,t,n){var r=bt,o=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Yl);if(0!=(6&Ml))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Ol&&(xl=Ol=null,Al=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Xl||(Xl=!0,Oc(tt,(function(){return wc(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=Rl.transition,Rl.transition=null;var a=bt;bt=1;var l=Ml;Ml|=4,kl.current=null,function(e,t){if(eo=Vt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==o&&3!==d.nodeType||(l=a+o),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++h===r&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,_=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:_i(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(i(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}g=nl,nl=!1}(e,n),_l(n,e),fr(to),Vt=!!eo,to=eo=null,e.current=n,bl(n,e,o),Ke(),Ml=l,bt=a,Rl.transition=s}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=o),s=e.pendingLanes,0===s&&(Zl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),oc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=zl,zl=null,e;0!=(1&Kl)&&0!==e.tag&&wc(),s=e.pendingLanes,0!=(1&s)?e===ql?Jl++:(Jl=0,ql=e):Jl=0,Ho()}(e,t,n,r)}finally{Rl.transition=o,bt=r}return null}function wc(){if(null!==Yl){var e=Et(Kl),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!=(6&Ml))throw Error(i(331));var o=Ml;for(Ml|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!=(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var h=Qa;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Qa=d;else for(;null!==Qa;){var p=(h=Qa).sibling,f=h.return;if(sl(h),h===u){Qa=null;break}if(null!==p){p.return=f,Qa=p;break}Qa=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(null!==m)}}Qa=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!=(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Qa=v;break e}Qa=s.return}}var b=e.current;for(Qa=b;null!==Qa;){var E=(a=Qa).child;if(0!=(2064&a.subtreeFlags)&&null!==E)E.return=a,Qa=E;else e:for(a=b;null!==Qa;){if(0!=(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(e){Cc(l,l.return,e)}if(l===a){Qa=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,Qa=y;break e}Qa=l.return}}if(Ml=o,Ho(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Sc(e,t,n){e=Di(e,t=fa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(_t(e,1,t),oc(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Zl||!Zl.has(r))){t=Di(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(_t(t,1,e),oc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Je()-jl?pc(e,0):Fl|=n),oc(e,t)}function kc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Oi(e,t))&&(_t(e,t,n),oc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Oc(e,t){return Ze(e,t)}function xc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new xc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,o,s){var a=2;if(r=e,"function"==typeof e)Nc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case w:return Pc(n.children,o,s,t);case S:a=8,o|=8;break;case C:return(e=Ac(12,n,t,2|o)).elementType=C,e.lanes=s,e;case M:return(e=Ac(13,n,t,o)).elementType=M,e.lanes=s,e;case O:return(e=Ac(19,n,t,o)).elementType=O,e.lanes=s,e;case N:return $c(n,o,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case k:a=9;break e;case R:a=11;break e;case x:a=14;break e;case A:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Pc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function $c(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,r,o,i,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(i),e}function jc(e){if(!e)return Ro;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Po(e,n,t)}return t}function Hc(e,t,n,r,o,i,s,a,l){return(e=Gc(n,r,!0,e,0,i,0,a,l)).context=jc(null),n=e.current,(i=Li(r=tc(),o=nc(n))).callback=null!=t?t:null,Di(n,i,o),e.current.lanes=o,_t(e,o,r),oc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=tc(),s=nc(o);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(o,t,s))&&(rc(e,o,s,i),Pi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oo.current)Ea=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),fi();break;case 5:ss(t);break;case 1:No(t.type)&&$o(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ko(vi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ko(ls,1&ls.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ba(e,t,n):(ko(ls,1&ls.current),null!==(e=Wa(e,t,n))?e.sibling:null);ko(ls,1&ls.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Wa(e,t,n)}(e,t,n);Ea=0!=(131072&e.flags)}else Ea=!1,ii&&0!=(1048576&t.flags)&&ei(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var o=Ao(t,Mo.current);Ci(t,n),o=Ss(null,t,r,e,o,n);var s=Cs();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,$o(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ai(t),o.updater=ji,t.stateNode=o,o._reactInternals=t,zi(t,r,e,n),t=Ma(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),ya(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Nc(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===x)return 14}return 2}(r),e=_i(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=Ta(null,t,r,e,n);break e;case 14:t=wa(null,t,r,_i(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ka(e,t,r,o=t.elementType===r?o:_i(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ra(e,t,r,o=t.elementType===r?o:_i(r,o),n);case 3:e:{if(Oa(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Ni(e,t),Bi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=xa(e,t,r,n,o=ua(Error(i(423)),t));break e}if(r!==o){t=xa(e,t,r,n,o=ua(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}ya(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ia(e,t),ya(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ba(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ji(t,null,r,n):ya(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:_i(r,o),n);case 7:return ya(e,t,t.pendingProps,n),t.child;case 8:case 12:return ya(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,ko(vi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Oo.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Li(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Si(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Si(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ya(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ci(t,n),r=r(o=Ii(o)),t.flags|=1,ya(e,t,r,n),t.child;case 14:return o=_i(r=t.type,t.pendingProps),wa(e,t,r,o=_i(r.type,o),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_i(r,o),Va(e,t),t.tag=1,No(r)?(e=!0,$o(t)):e=!1,Ci(t,n),Vi(t,r,o),zi(t,r,o,n),Ma(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ca(e,t,n)}throw Error(i(156,t.tag))};var Xc="function"==typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"==typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}Vc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[go]=s.current,jr(8===e.nodeType?e.parentNode:e),hc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[go]=l.current,jr(8===e.nodeType?e.parentNode:e),hc((function(){Vc(t,l,n,r)})),l}(n,t,e,o,r);return Wc(s)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Vc(null,e,null,null)})),t[go]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&$t(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),oc(t,Je()),0==(6&Ml)&&(Hl=Je()+500,Ho()))}break;case 13:hc((function(){var t=Oi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Zc(e,1)}},Tt=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)rc(t,e,134217728,tc());Zc(e,134217728)}},wt=function(e){if(13===e.tag){var t=nc(e),n=Oi(e,t);if(null!==n)rc(n,e,t,tc());Zc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Te=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=To(r);if(!o)throw Error(i(90));Z(r),q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=uc,Me=hc;var tu={usingClientEntryPoint:!1,Events:[Eo,yo,To,Ie,ke,uc]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",o=Xc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Gc(e,1,!1,null,0,n,0,r,o),e[go]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!qc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Xc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,s,a),e[go]=t.current,jr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kc(t)},t.render=function(e,t,n){if(!qc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},7180:(e,t,n)=>{"use strict";var r=n(374);t.s=r.createRoot,r.hydrateRoot},374:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(1482)},9418:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case o:return t}}}function T(e){return y(e)===h}t.isFragment=function(e){return y(e)===i},t.isMemo=function(e){return y(e)===g}},9403:(e,t,n)=>{"use strict";e.exports=n(9418)},3092:(e,t,n)=>{"use strict";var r=n(9685),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},3068:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=_.prototype;var E=b.prototype=new v;E.constructor=b,g(E,_.prototype),E.isPureReactComponent=!0;var y=Array.isArray,T=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:w.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+R(l,0):i,y(s)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),M(s,t,o,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",y(e))for(var c=0;c<e.length;c++){var u=i+R(a=e[c],c);l+=M(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=M(a=a.value,t,o,u=i+R(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],o=0;return M(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:w};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},9685:(e,t,n)=>{"use strict";e.exports=n(3068)},3342:(e,t,n)=>{"use strict";e.exports=n(3092)},2989:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,_="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function y(e){if(m=!1,E(e),!g)if(null!==r(c))g=!0,N(T);else{var t=r(u);null!==t&&L(y,t.startTime-e)}}function T(e,n){g=!1,m&&(m=!1,v(I),I=-1),f=!0;var i=p;try{for(E(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!M());){var s=d.callback;if("function"==typeof s){d.callback=null,p=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?d.callback=a:d===r(c)&&o(c),E(n)}else o(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(y,h.startTime-n),l=!1}return l}finally{d=null,p=i,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,C=null,I=-1,k=5,R=-1;function M(){return!(t.unstable_now()-R<k)}function O(){if(null!==C){var e=t.unstable_now();R=e;var n=!0;try{n=C(!0,e)}finally{n?w():(S=!1,C=null)}}else S=!1}if("function"==typeof b)w=function(){b(O)};else if("undefined"!=typeof MessageChannel){var x=new MessageChannel,A=x.port2;x.port1.onmessage=O,w=function(){A.postMessage(null)}}else w=function(){_(O,0)};function N(e){C=e,S||(S=!0,w())}function L(e,n){I=_((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(v(I),I=-1):m=!0,L(y,i-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,N(T))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9220:(e,t,n)=>{"use strict";e.exports=n(2989)},9592:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B4:()=>Value,WD:()=>Category,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,gO:()=>Block,jX:()=>Shadow});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3342),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9685),antd__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3945),antd__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2393),blockly_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2772),blockly_core__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_2__),blockly_javascript__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7734),blockly_javascript__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(blockly_javascript__WEBPACK_IMPORTED_MODULE_3__),blockly_blocks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4541),blockly_blocks__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(blockly_blocks__WEBPACK_IMPORTED_MODULE_4__),_utils_codetool__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(987),_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8428),renderer_utils_hashtool__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1747),_config_version__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7997),blockly_msg_zh_hans__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4403),blockly_msg_zh_hans__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(blockly_msg_zh_hans__WEBPACK_IMPORTED_MODULE_6__),_SourceGround__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5619),howler__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4377),howler__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_8__);function antiShake(e,t){return window.genrun=null,function(n){clearTimeout(window.genrun),window.genrun=setTimeout((()=>{e.apply(this,arguments)}),t)}}function PlayGround(props){const blocklyDiv=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),toolbox=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();let primaryWorkspace=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(),[showtool,setShowtool]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[resultcode,setResultcode]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[showres,setShowres]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[sourcepageopen,setSourcepageopen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[sourcemap,setSourcemap]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map([["bgm",[]],["bcg",[]],["cover",[]],["sound",[]],["spr",[]]]));(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const{initialXml:e,children:t,...n}=props;primaryWorkspace.current=blockly_core__WEBPACK_IMPORTED_MODULE_2___default().inject(blocklyDiv.current,{toolbox:toolbox.current,...n}),e&&blockly_core__WEBPACK_IMPORTED_MODULE_2___default().Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_2___default().Xml.textToDom(e),primaryWorkspace.current),primaryWorkspace.current.addChangeListener(antiShake(antiSaveFile,500))}),[primaryWorkspace,toolbox,blocklyDiv,props]);const loadProject=e=>{if(e.target&&e.target.files){const t=e.target.files[0],n=t.name.split(".");"bablockly"===n[n.length-1]?(0,_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__.lG)(t,(function(e){let t=JSON.parse(e);try{blockly_core__WEBPACK_IMPORTED_MODULE_2___default().serialization.workspaces.load(t,primaryWorkspace.current)}catch(e){setResultcode("读取错误，请检查项目文件的版本以及blockly程序版本，不同版本间可能会不兼容")}})):setResultcode("读取失败，项目文件名后缀应当是bablockly")}},saveProject=()=>{(0,_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__.mr)(`ArisStudio_blockly可视化_${_config_version__WEBPACK_IMPORTED_MODULE_10__.Z}.bablockly`,JSON.stringify(blockly_core__WEBPACK_IMPORTED_MODULE_2___default().serialization.workspaces.save(primaryWorkspace.current)))},loadData=e=>{new Promise(((t,n)=>{try{const n=[],r=[],o=[],i=[],s=[],a={"Data/Bgm/":n,"Data/Image/Background/":r,"Data/Image/Cover/":o,"Data/SoundEffect/":i,"Data/Spr/":s};for(let t of e.target.files)for(let e in a)0===t.webkitRelativePath.indexOf(e)&&a[e].push(t);const l=new Map;l.set("bgm",n),l.set("bcg",r),l.set("cover",o),l.set("sound",i),l.set("spr",s),t(l)}catch(e){n("失败，请确保选择的是Data文件夹")}})).then((e=>{setSourcemap(e)}))},openSourcePage=()=>{let e=0;for(let t of sourcemap.keys())e+=sourcemap.get(t).length||0;0===e?antd__WEBPACK_IMPORTED_MODULE_11__.ZP.error("请先选择Data文件夹"):setSourcepageopen(!0)},generateCode=()=>{window.numinbigfunc=0;let e=blockly_javascript__WEBPACK_IMPORTED_MODULE_3__.javascriptGenerator.workspaceToCode(primaryWorkspace.current);const t=(0,_utils_codetool__WEBPACK_IMPORTED_MODULE_12__.A)(e);window.playcode=t;try{window.eval(t),setResultcode(window.txtcode)}catch(e){setResultcode(`生成脚本时出错啦，你可以反馈该问题：${e.message}`)}},selectFilepath=e=>{e.target&&e.target.files?(window.wfilepath=e.target.files[0].path,setResultcode("开启实时导出到:"+window.wfilepath)):setResultcode("无法得到文件路径")},antiSaveFile=()=>{generateCode(),window.wfilepath&&window.wfilepath.length>0&&window.electron&&window.electron.ipcRenderer&&window.electron.ipcRenderer.sendMessage("ipc-example",[window.wfilepath,window.txtcode])},downloadCode=()=>{(0,_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__.mr)("demob.txt",resultcode)},getChatinfo=resscript=>{let resscriptlist=resscript.split("\n");const stuspeakMap=new Map,errorstuspeakSet=new Set;let hasloadend=!1;for(let senidx in resscriptlist){let linewords=resscriptlist[senidx].trim();"load end"===linewords&&stuspeakMap.set("hasloadend",senidx);const singlechar="[\\u3000-\\u303f\\u4e00-\\u9fa5_a-zA-Z0-9.-~#（）|【-】· (){}+=*^&%$@!.,，。<>;:：；‘’“”、'\"?`\\d\\w\\s\\u3002\\uff1f\\uff01\\uff0c\\u3001\\uff1b\\uff1a\\u201c\\u201d\\u2018\\u2019\\uff08\\uff09\\u300a\\u300b\\u3008\\u3009\\u3010\\u3011|\\u300e\\u300f\\u300c\\u300d\\ufe43\\ufe44\\u3014\\u3015\\u2026\\u2014\\uff5e\\ufe4f\\uffe5]",matchtc=linewords.match(eval(`/tc? '(${singlechar}*)' '${singlechar}*' '(${singlechar}*)'/`)),matchth=linewords.match(eval(`/th ${singlechar}* '(${singlechar}*)' '${singlechar}*' '(${singlechar}*)'/`));if(matchtc||matchth){let e;matchtc?e=matchtc:matchth&&(e=matchth);let t=e[1]+e[2],n="00"+(0,renderer_utils_hashtool__WEBPACK_IMPORTED_MODULE_5__.f)(t);stuspeakMap.has(n)?(errorstuspeakSet.add(e[2]),stuspeakMap.get(n).lines.push(senidx)):stuspeakMap.set(n,{name:e[1],content:e[2],lines:[senidx]})}}return console.log(stuspeakMap,errorstuspeakSet),stuspeakMap},getChattxt=()=>{const e=getChatinfo(resultcode);let t="";for(let n of e)"hasloadend"!==n[0]&&(t+=`${n[1].name}\n`,t+=`${n[0]}.wav\n`,t+=`${n[1].content}\n`);(0,_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__.mr)("对话文本.txt",t)},flatmap=e=>{const t=[];for(let n of e){if("hasloadend"===n[0])continue;const e=n[0],r=n[1].name,o=n[1].content,i=n[1].lines;for(let n of i)t.push({hash:e,name:r,content:o,line:n})}return t.sort(((e,t)=>e.line-t.line)),t},getChatscript=()=>{const e=resultcode.split("\n"),t=getChatinfo(resultcode),n=flatmap(t);n.reverse();for(let t of n){const n=t.line;e.splice(n,0,"se play"),e.splice(n,0,`se set ${t.hash}`),e.splice(n,0,"se set mutevoice")}t.has("hasloadend")||e.splice(0,0,"load end");for(let t of n){const n=`${t.hash}.wav`;e.splice(0,0,`load se ${t.hash} ${n}`)}e.splice(0,0,"load se mutevoice Mute.wav"),(0,_utils_IOdata__WEBPACK_IMPORTED_MODULE_9__.mr)("democ.txt",e.join("\n"))};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{id:"toolsbox",children:["当前版本:",_config_version__WEBPACK_IMPORTED_MODULE_10__.Z,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{setShowtool(!showtool)},children:showtool?"隐藏工具栏":"显示工具栏"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{style:showtool?{}:{display:"none"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"loadprojectbutton",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"file",name:"file",accept:"*",className:"projectfile",onChange:loadProject}),"导入blockly项目"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:saveProject,children:"导出blockly项目"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"loadprojectbutton",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"file",multiple:"",webkitdirectory:"",name:"file",accept:"*",className:"projectfile",onChange:loadData}),"选择Data文件夹"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:openSourcePage,children:"打开资源浏览页"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[window.isinWebpageMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"loadprojectbutton",style:{width:"120px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"file",name:"file",accept:"text/plain",className:"projectfile",onChange:selectFilepath}),window.wfilepath?"重新":"开始","设定自动导出"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:downloadCode,children:"导出脚本"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:getChattxt,children:"导出语音文本"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:getChatscript,children:"导出含语音脚本"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>setShowres(!showres),children:showres?"隐藏下方脚本框":"显示脚本框"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{ref:blocklyDiv,id:"blocklyDiv"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{display:"none"},ref:toolbox,children:props.children}),showres?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{onChange:e=>setResultcode(e.target.value),style:showtool?{}:{display:"none"},spellCheck:!1,id:"rescodebox",value:resultcode}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_13__.Z,{id:"sourcemodal",width:"80%",title:"资源浏览",open:sourcepageopen,onOk:()=>{setSourcepageopen(!1),howler__WEBPACK_IMPORTED_MODULE_8__.Howler.stop()},onCancel:()=>{setSourcepageopen(!1),howler__WEBPACK_IMPORTED_MODULE_8__.Howler.stop()},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_SourceGround__WEBPACK_IMPORTED_MODULE_7__.Z,{sourcemap})})]})}blockly_core__WEBPACK_IMPORTED_MODULE_2___default().setLocale(blockly_msg_zh_hans__WEBPACK_IMPORTED_MODULE_6___default()),window.electron&&window.electron.ipcRenderer?(window.isinWebpageMode=!1,window.electron.ipcRenderer.on("ipc-example",(e=>{}))):window.isinWebpageMode=!0;const __WEBPACK_DEFAULT_EXPORT__=PlayGround,Block=e=>{const{children:t,...n}=e;return n.is="blockly",react__WEBPACK_IMPORTED_MODULE_1__.createElement("block",n,t)},Category=e=>{const{children:t,...n}=e;return n.is="blockly",react__WEBPACK_IMPORTED_MODULE_1__.createElement("category",n,t)},Value=e=>{const{children:t,...n}=e;return n.is="blockly",react__WEBPACK_IMPORTED_MODULE_1__.createElement("value",n,t)},Field=e=>{const{children:t,...n}=e;return n.is="blockly",react__WEBPACK_IMPORTED_MODULE_1__.createElement("field",n,t)},Shadow=e=>{const{children:t,...n}=e;return n.is="blockly",react__WEBPACK_IMPORTED_MODULE_1__.createElement("shadow",n,t)}},5619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>qc});var r=n(3342),o=n(9685),i=n(2157),s=n(5543);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var l=n(849),c=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:a}))};c.displayName="EllipsisOutlined";const u=o.forwardRef(c);const h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var d=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:h}))};d.displayName="PlusOutlined";const p=o.forwardRef(d);var f=n(8591),g=n.n(f),m=n(7446),_=n(6431),v=n(3133),b=n(6151),E=n(127);const y=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))};function T(e){var t=o.useRef();t.current=e;var n=o.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var w=n(9023),S=n(3234);function C(e){return void 0!==e}function I(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,s=n.postState,a=(0,S.Z)((function(){return C(o)?o:C(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),l=(0,v.Z)(a,2),c=l[0],u=l[1],h=void 0!==o?o:c,d=s?s(h):h,p=T(i),f=(0,S.Z)([h]),g=(0,v.Z)(f,2),m=g[0],_=g[1];return(0,w.o)((function(){var e=m[0];c!==e&&p(c,e)}),[m]),(0,w.o)((function(){C(o)||u(o)}),[o]),[d,T((function(e,t){u(e,t),_([h],t)}))]}var k=n(1791);const R=(0,o.createContext)(null);var M=o.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.style,s=e.id,a=e.active,l=e.tabKey,c=e.children;return o.createElement("div",{id:s&&"".concat(s,"-panel-").concat(l),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(l),"aria-hidden":!a,style:i,className:g()(n,a&&"".concat(n,"-active"),r),ref:t},c)}));const O=M;var x=["key","forceRender","style","className"];function A(e){var t=e.id,n=e.activeKey,r=e.animated,i=e.tabPosition,a=e.destroyInactiveTabPane,l=o.useContext(R),c=l.prefixCls,u=l.tabs,h=r.tabPane,d="".concat(c,"-tabpane");return o.createElement("div",{className:g()("".concat(c,"-content-holder"))},o.createElement("div",{className:g()("".concat(c,"-content"),"".concat(c,"-content-").concat(i),(0,_.Z)({},"".concat(c,"-content-animated"),h))},u.map((function(e){var i=e.key,l=e.forceRender,c=e.style,u=e.className,p=(0,E.Z)(e,x),f=i===n;return o.createElement(k.Z,(0,m.Z)({key:i,visible:f,forceRender:l,removeOnLeave:!!a,leavedClassName:"".concat(d,"-hidden")},r.tabPaneMotion),(function(e,n){var r=e.style,a=e.className;return o.createElement(O,(0,m.Z)({},p,{prefixCls:d,id:t,tabKey:i,animated:h,active:f,style:(0,s.Z)((0,s.Z)({},c),r),className:g()(u,a),ref:n}))}))}))))}var N=n(9834),L=n(1498),D=n(3379),P=n(2943),$=n(6289),B=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),F="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,U=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),G="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(U):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},j=2;var H=20,V=["top","right","bottom","left","width","height","size","weight"],W="undefined"!=typeof MutationObserver,z=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&a()}function s(){G(i)}function a(){var e=Date.now();if(n){if(e-o<j)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return a}(this.refresh.bind(this),H)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){F&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),W?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){F&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;V.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Z=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},X=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||U},Y=te(0,0,0,0);function K(e){return parseFloat(e)||0}function J(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+K(e["border-"+n+"-width"])}),0)}function q(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Y;var r=X(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=K(i)}return t}(r),i=o.left+o.right,s=o.top+o.bottom,a=K(r.width),l=K(r.height);if("border-box"===r.boxSizing&&(Math.round(a+i)!==t&&(a-=J(r,"left","right")+i),Math.round(l+s)!==n&&(l-=J(r,"top","bottom")+s)),!function(e){return e===X(e).document.documentElement}(e)){var c=Math.round(a+i)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return te(o.left,o.top,a,l)}var Q="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof X(e).SVGGraphicsElement}:function(e){return e instanceof X(e).SVGElement&&"function"==typeof e.getBBox};function ee(e){return F?Q(e)?function(e){var t=e.getBBox();return te(0,0,t.width,t.height)}(e):q(e):Y}function te(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ne=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=te(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ee(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),re=function(e,t){var n,r,o,i,s,a,l,c=(r=(n=t).x,o=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),Z(l,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),l);Z(this,{target:e,contentRect:c})},oe=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new B,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof X(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ne(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof X(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new re(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ie="undefined"!=typeof WeakMap?new WeakMap:new B,se=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=z.getInstance(),r=new oe(t,n,this);ie.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){se.prototype[e]=function(){var t;return(t=ie.get(this))[e].apply(t,arguments)}}));const ae=void 0!==U.ResizeObserver?U.ResizeObserver:se;var le=new Map;var ce=new ae((function(e){e.forEach((function(e){var t,n=e.target;null===(t=le.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var ue=n(3836),he=n(1320),de=n(6680),pe=n(2763),fe=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(){return(0,ue.Z)(this,n),t.apply(this,arguments)}return(0,he.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component),ge=o.createContext(null);function me(e,t){var n=e.children,r=e.disabled,i=o.useRef(null),a=o.useRef(null),l=o.useContext(ge),c="function"==typeof n,u=c?n(i):n,h=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!c&&o.isValidElement(u)&&(0,P.Yr)(u),p=d?u.ref:null,f=o.useMemo((function(){return(0,P.sQ)(p,i)}),[p,i]),g=function(){return(0,$.Z)(i.current)||(0,$.Z)(a.current)};o.useImperativeHandle(t,(function(){return g()}));var m=o.useRef(e);m.current=e;var _=o.useCallback((function(e){var t=m.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,c=e.offsetWidth,u=e.offsetHeight,d=Math.floor(i),p=Math.floor(a);if(h.current.width!==d||h.current.height!==p||h.current.offsetWidth!==c||h.current.offsetHeight!==u){var f={width:d,height:p,offsetWidth:c,offsetHeight:u};h.current=f;var g=c===Math.round(i)?i:c,_=u===Math.round(a)?a:u,v=(0,s.Z)((0,s.Z)({},f),{},{offsetWidth:g,offsetHeight:_});null==l||l(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return o.useEffect((function(){var e,t,n=g();return n&&!r&&(e=n,t=_,le.has(e)||(le.set(e,new Set),ce.observe(e)),le.get(e).add(t)),function(){return function(e,t){le.has(e)&&(le.get(e).delete(t),le.get(e).size||(ce.unobserve(e),le.delete(e)))}(n,_)}}),[i.current,r]),o.createElement(fe,{ref:a},d?o.cloneElement(u,{ref:f}):u)}const _e=o.forwardRef(me);var ve="rc-observer-key";function be(e,t){var n=e.children;return("function"==typeof n?[n]:(0,L.Z)(n)).map((function(n,r){var i=(null==n?void 0:n.key)||"".concat(ve,"-").concat(r);return o.createElement(_e,(0,m.Z)({},e,{key:i,ref:0===r?t:void 0}),n)}))}var Ee=o.forwardRef(be);Ee.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),i=o.useRef([]),s=o.useContext(ge),a=o.useCallback((function(e,t,o){r.current+=1;var a=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){a===r.current&&(null==n||n(i.current),i.current=[])})),null==s||s(e,t,o)}),[n,s]);return o.createElement(ge.Provider,{value:a},t)};const ye=Ee;var Te=n(1055),we={width:0,height:0,left:0,top:0};function Se(e,t){var n=o.useRef(e),r=o.useState({}),i=(0,v.Z)(r,2)[1];return[n.current,function(e){var r="function"==typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var Ce=.1,Ie=.01,ke=20,Re=Math.pow(.995,ke);function Me(e){var t=(0,o.useState)(0),n=(0,v.Z)(t,2),r=n[0],i=n[1],s=(0,o.useRef)(0),a=(0,o.useRef)();return a.current=e,(0,w.o)((function(){var e;null===(e=a.current)||void 0===e||e.call(a)}),[r]),function(){s.current===r&&(s.current+=1,i(s.current))}}var Oe={width:0,height:0,left:0,top:0,right:0};function xe(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function Ae(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,s=e.style;return r&&!1!==r.showAdd?o.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:s,"aria-label":(null==i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}const Ne=o.forwardRef(Ae);const Le=o.forwardRef((function(e,t){var n,r=e.position,i=e.prefixCls,s=e.extra;if(!s)return null;var a={};return"object"!==(0,b.Z)(s)||o.isValidElement(s)?a.right=s:a=s,"right"===r&&(n=a.right),"left"===r&&(n=a.left),n?o.createElement("div",{className:"".concat(i,"-extra-content"),ref:t},n):null}));var De=n(5659),Pe=n(374),$e=n(7682);function Be(e,t,n,r){var o=Pe.unstable_batchedUpdates?function(e){Pe.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o,r)}}}var Fe=n(4843);const Ue=(0,o.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,s=(0,o.useRef)(),a=(0,o.useRef)();(0,o.useImperativeHandle)(t,(function(){return{}}));var l=(0,o.useRef)(!1);return!l.current&&(0,Fe.Z)()&&(a.current=r(),s.current=a.current.parentNode,l.current=!0),(0,o.useEffect)((function(){null==n||n(e)})),(0,o.useEffect)((function(){return null===a.current.parentNode&&null!==s.current&&s.current.appendChild(a.current),function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?Pe.createPortal(i,a.current):null}));function Ge(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function je(e){var t=e.prefixCls,n=e.motion,r=e.animation,o=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:o?{motionName:o}:null)}function He(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,a=e.maskMotion,l=e.maskAnimation,c=e.maskTransitionName;if(!i)return null;var u={};return(a||c||l)&&(u=(0,s.Z)({motionAppear:!0},je({motion:a,prefixCls:t,transitionName:c,animation:l}))),o.createElement(k.Z,(0,m.Z)({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return o.createElement("div",{style:{zIndex:r},className:g()("".concat(t,"-mask"),n)})}))}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe,Ye={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Ke(){if(void 0!==Xe)return Xe;Xe="";var e=document.createElement("p").style;for(var t in Ye)t+"Transform"in e&&(Xe=t);return Xe}function Je(){return Ke()?"".concat(Ke(),"TransitionProperty"):"transitionProperty"}function qe(){return Ke()?"".concat(Ke(),"Transform"):"transform"}function Qe(e,t){var n=Je();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function et(e,t){var n=qe();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var tt,nt=/matrix\((.*)\)/,rt=/matrix3d\((.*)\)/;function ot(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function it(e,t,n){var r=n;if("object"!==ze(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):tt(e,t);for(var o in t)t.hasOwnProperty(o)&&it(e,o,t[o])}function st(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function at(e){return st(e)}function lt(e){return st(e,!0)}function ct(e){var t=function(e){var t,n,r,o=e.ownerDocument,i=o.body,s=o&&o.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=s.clientLeft||i.clientLeft||0,top:r-=s.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=at(r),t.top+=lt(r),t}function ut(e){return null!=e&&e==e.window}function ht(e){return ut(e)?e.document:9===e.nodeType?e:e.ownerDocument}var dt=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),pt=/^(top|right|bottom|left)$/,ft="currentStyle",gt="runtimeStyle",mt="left",_t="px";function vt(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function bt(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Et(e,t,n){"static"===it(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=vt("left",n),s=vt("top",n),a=bt(i),l=bt(s);"left"!==i&&(r=999),"top"!==s&&(o=999);var c,u="",h=ct(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[Je()]||"",Qe(e,"none")),"left"in t&&(e.style[a]="",e.style[i]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[s]="".concat(o,"px")),ot(e);var d=ct(e),p={};for(var f in t)if(t.hasOwnProperty(f)){var g=vt(f,n),m="left"===f?r:o,_=h[f]-d[f];p[g]=g===f?m+_:m-_}it(e,p),ot(e),("left"in t||"top"in t)&&Qe(e,u);var v={};for(var b in t)if(t.hasOwnProperty(b)){var E=vt(b,n),y=t[b]-h[b];v[E]=b===E?p[E]+y:p[E]-y}it(e,v)}function yt(e,t){var n=ct(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(qe());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(qe());if(r&&"none"!==r){var o,i=r.match(nt);i?((o=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,et(e,"matrix(".concat(o.join(","),")"))):((o=r.match(rt)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,et(e,"matrix3d(".concat(o.join(","),")")))}else et(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}function Tt(e,t){for(var n=0;n<e.length;n++)t(e[n])}function wt(e){return"border-box"===tt(e,"boxSizing")}"undefined"!=typeof window&&(tt=window.getComputedStyle?function(e,t,n){var r=n,o="",i=ht(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e[ft]&&e[ft][t];if(dt.test(n)&&!pt.test(t)){var r=e.style,o=r[mt],i=e[gt][mt];e[gt][mt]=e[ft][mt],r[mt]="fontSize"===t?"1em":n||0,n=r.pixelLeft+_t,r[mt]=o,e[gt][mt]=i}return""===n?"auto":n});var St=["margin","border","padding"],Ct=-1,It=2,kt=1;function Rt(e,t,n){var r,o,i,s=0;for(o=0;o<t.length;o++)if(r=t[o])for(i=0;i<n.length;i++){var a=void 0;a="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i],s+=parseFloat(tt(e,a))||0}return s}var Mt={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Ot(e,t,n){var r=n;if(ut(e))return"width"===t?Mt.viewportWidth(e):Mt.viewportHeight(e);if(9===e.nodeType)return"width"===t?Mt.docWidth(e):Mt.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),s=wt(e),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=tt(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=Math.floor(parseFloat(a))||0),void 0===r&&(r=s?kt:Ct);var l=void 0!==i||s,c=i||a;return r===Ct?l?c-Rt(e,["border","padding"],o):a:l?r===kt?c:c+(r===It?-Rt(e,["border"],o):Rt(e,["margin"],o)):a+Rt(e,St.slice(r),o)}Tt(["Width","Height"],(function(e){Mt["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Mt["viewport".concat(e)](n))},Mt["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var xt={position:"absolute",visibility:"hidden",display:"block"};function At(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return 0!==o.offsetWidth?r=Ot.apply(void 0,t):function(e,t,n){var r,o={},i=e.style;for(r in t)t.hasOwnProperty(r)&&(o[r]=i[r],i[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(i[r]=o[r])}(o,xt,(function(){r=Ot.apply(void 0,t)})),r}function Nt(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Tt(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Mt["outer".concat(t)]=function(t,n){return t&&At(t,e,n?0:kt)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Mt[e]=function(t,r){var o=r;return void 0!==o?t?(wt(t)&&(o+=Rt(t,["padding","border"],n)),it(t,e,o)):void 0:t&&At(t,e,Ct)}}));var Lt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:ht,offset:function(e,t,n){if(void 0===t)return ct(e);!function(e,t,n){if(n.ignoreShake){var r=ct(e),o=r.left.toFixed(0),i=r.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(o===s&&i===a)return}n.useCssRight||n.useCssBottom?Et(e,t,n):n.useCssTransform&&qe()in document.body.style?yt(e,t):Et(e,t,n)}(e,t,n||{})},isWindow:ut,each:Tt,css:it,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Nt,getWindowScrollLeft:function(e){return at(e)},getWindowScrollTop:function(e){return lt(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Lt.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Nt(Lt,Mt);var Dt=Lt.getParent;function Pt(e){if(Lt.isWindow(e)||9===e.nodeType)return null;var t,n=Lt.getDocument(e).body,r=Lt.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Dt(e);for(t=Dt(e);t&&t!==n&&9!==t.nodeType;t=Dt(t))if("static"!==(r=Lt.css(t,"position")))return t;return null}var $t=Lt.getParent;function Bt(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Pt(e),o=Lt.getDocument(e),i=o.defaultView||o.parentWindow,s=o.body,a=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===s||r===a||"visible"===Lt.css(r,"overflow")){if(r===s||r===a)break}else{var l=Lt.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Pt(r)}var c=null;Lt.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Lt.css(e,"position")&&(e.style.position="fixed"));var u=Lt.getWindowScrollLeft(i),h=Lt.getWindowScrollTop(i),d=Lt.viewportWidth(i),p=Lt.viewportHeight(i),f=a.scrollWidth,g=a.scrollHeight,m=window.getComputedStyle(s);if("hidden"===m.overflowX&&(f=i.innerWidth),"hidden"===m.overflowY&&(g=i.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Lt.isWindow(e)||9===e.nodeType)return!1;var t=Lt.getDocument(e),n=t.body,r=null;for(r=$t(e);r&&r!==n&&r!==t;r=$t(r))if("fixed"===Lt.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,h),n.right=Math.min(n.right,u+d),n.bottom=Math.min(n.bottom,h+p);else{var _=Math.max(f,u+d);n.right=Math.min(n.right,_);var v=Math.max(g,h+p);n.bottom=Math.min(n.bottom,v)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ft(e){var t,n,r;if(Lt.isWindow(e)||9===e.nodeType){var o=Lt.getWindow(e);t={left:Lt.getWindowScrollLeft(o),top:Lt.getWindowScrollTop(o)},n=Lt.viewportWidth(o),r=Lt.viewportHeight(o)}else t=Lt.offset(e),n=Lt.outerWidth(e),r=Lt.outerHeight(e);return t.width=n,t.height=r,t}function Ut(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,s=e.left,a=e.top;return"c"===n?a+=i/2:"b"===n&&(a+=i),"c"===r?s+=o/2:"r"===r&&(s+=o),{left:s,top:a}}function Gt(e,t,n,r,o){var i=Ut(t,n[1]),s=Ut(e,n[0]),a=[s.left-i.left,s.top-i.top];return{left:Math.round(e.left-a[0]+r[0]-o[0]),top:Math.round(e.top-a[1]+r[1]-o[1])}}function jt(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Ht(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Vt(e,t,n){var r=[];return Lt.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Wt(e,t){return e[t]=-e[t],e}function zt(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Zt(e,t){e[0]=zt(e[0],t.width),e[1]=zt(e[1],t.height)}function Xt(e,t,n,r){var o=n.points,i=n.offset||[0,0],s=n.targetOffset||[0,0],a=n.overflow,l=n.source||e;i=[].concat(i),s=[].concat(s);var c={},u=0,h=Bt(l,!(!(a=a||{})||!a.alwaysByViewport)),d=Ft(l);Zt(i,d),Zt(s,t);var p=Gt(d,t,o,i,s),f=Lt.merge(d,p);if(h&&(a.adjustX||a.adjustY)&&r){if(a.adjustX&&jt(p,d,h)){var g=Vt(o,/[lr]/gi,{l:"r",r:"l"}),m=Wt(i,0),_=Wt(s,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Gt(d,t,g,m,_),d,h)||(u=1,o=g,i=m,s=_)}if(a.adjustY&&Ht(p,d,h)){var v=Vt(o,/[tb]/gi,{t:"b",b:"t"}),b=Wt(i,1),E=Wt(s,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Gt(d,t,v,b,E),d,h)||(u=1,o=v,i=b,s=E)}u&&(p=Gt(d,t,o,i,s),Lt.mix(f,p));var y=jt(p,d,h),T=Ht(p,d,h);if(y||T){var w=o;y&&(w=Vt(o,/[lr]/gi,{l:"r",r:"l"})),T&&(w=Vt(o,/[tb]/gi,{t:"b",b:"t"})),o=w,i=n.offset||[0,0],s=n.targetOffset||[0,0]}c.adjustX=a.adjustX&&y,c.adjustY=a.adjustY&&T,(c.adjustX||c.adjustY)&&(f=function(e,t,n,r){var o=Lt.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),Lt.mix(o,i)}(p,d,h,c))}return f.width!==d.width&&Lt.css(l,"width",Lt.width(l)+f.width-d.width),f.height!==d.height&&Lt.css(l,"height",Lt.height(l)+f.height-d.height),Lt.offset(l,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:s,overflow:c}}function Yt(e,t,n){var r=n.target||t,o=Ft(r),i=!function(e,t){var n=Bt(e,t),r=Ft(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Xt(e,o,n,i)}Yt.__getOffsetParent=Pt,Yt.__getVisibleRectForElement=Bt;var Kt=n(752),Jt=n(5816);function qt(e,t){var n=null,r=null;var o=new ae((function(e){var o=(0,v.Z)(e,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),s=i.width,a=i.height,l=Math.floor(s),c=Math.floor(a);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&o.observe(e),function(){o.disconnect()}}function Qt(e){return"function"!=typeof e?null:e()}function en(e){return"object"===(0,b.Z)(e)&&e?e:null}var tn=function(e,t){var n=e.children,r=e.disabled,i=e.target,s=e.align,a=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,u=void 0===c?0:c,h=o.useRef({}),d=o.useRef(),p=o.Children.only(n),f=o.useRef({});f.current.disabled=r,f.current.target=i,f.current.align=s,f.current.onAlign=a;var g=function(e,t){var n=o.useRef(!1),r=o.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(s){if(i(),n.current&&!0!==s)r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e(s))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=f.current,t=e.disabled,n=e.target,r=e.align,o=e.onAlign,i=d.current;if(!t&&n&&i){var s,a=Qt(n),l=en(n);h.current.element=a,h.current.point=l,h.current.align=r;var c=document.activeElement;return a&&(0,Jt.Z)(a)?s=Yt(i,a,r):l&&(s=function(e,t,n){var r,o,i=Lt.getDocument(e),s=i.defaultView||i.parentWindow,a=Lt.getWindowScrollLeft(s),l=Lt.getWindowScrollTop(s),c=Lt.viewportWidth(s),u=Lt.viewportHeight(s),h={left:r="pageX"in t?t.pageX:a+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},d=r>=0&&r<=a+c&&o>=0&&o<=l+u,p=[n.points[0],"cc"];return Xt(e,h,We(We({},n),{},{points:p}),d)}(i,l,r)),function(e,t){e!==document.activeElement&&(0,$e.Z)(t,e)&&"function"==typeof e.focus&&e.focus()}(c,i),o&&s&&o(i,s),!0}return!1}),u),m=(0,v.Z)(g,2),_=m[0],b=m[1],E=o.useState(),y=(0,v.Z)(E,2),T=y[0],S=y[1],C=o.useState(),I=(0,v.Z)(C,2),k=I[0],R=I[1];return(0,w.Z)((function(){S(Qt(i)),R(en(i))})),o.useEffect((function(){var e,t;h.current.element===T&&((e=h.current.point)===(t=k)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&(0,Kt.Z)(h.current.align,s)||_()})),o.useEffect((function(){return qt(d.current,_)}),[d.current]),o.useEffect((function(){return qt(T,_)}),[T]),o.useEffect((function(){r?b():_()}),[r]),o.useEffect((function(){if(l)return Be(window,"resize",_).remove}),[l]),o.useEffect((function(){return function(){b()}}),[]),o.useImperativeHandle(t,(function(){return{forceAlign:function(){return _(!0)}}})),o.isValidElement(p)&&(p=o.cloneElement(p,{ref:(0,P.sQ)(p.ref,d)})),p},nn=o.forwardRef(tn);nn.displayName="Align";const rn=nn;var on=n(7211),sn=n(1033),an=["measure","alignPre","align",null,"motion"];var ln=o.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,a=e.style,l=e.children,c=e.zIndex,u=e.stretch,h=e.destroyPopupOnHide,d=e.forceRender,p=e.align,f=e.point,_=e.getRootDomNode,b=e.getClassNameFromAlign,E=e.onAlign,y=e.onMouseEnter,T=e.onMouseLeave,C=e.onMouseDown,I=e.onTouchStart,R=e.onClick,M=(0,o.useRef)(),O=(0,o.useRef)(),x=(0,o.useState)(),A=(0,v.Z)(x,2),N=A[0],L=A[1],D=function(e){var t=o.useState({width:0,height:0}),n=(0,v.Z)(t,2),r=n[0],i=n[1];return[o.useMemo((function(){var t={};if(e){var n=r.width,o=r.height;-1!==e.indexOf("height")&&o?t.height=o:-1!==e.indexOf("minHeight")&&o&&(t.minHeight=o),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),o=r.width,s=r.height;Math.abs(t-o)<1&&Math.abs(n-s)<1&&(t=o,n=s),i({width:t,height:n})}]}(u),P=(0,v.Z)(D,2),$=P[0],B=P[1];var F=function(e,t){var n=(0,S.Z)(null),r=(0,v.Z)(n,2),i=r[0],s=r[1],a=(0,o.useRef)();function l(e){s(e,!0)}function c(){Te.Z.cancel(a.current)}return(0,o.useEffect)((function(){l("measure")}),[e]),(0,o.useEffect)((function(){"measure"===i&&t(),i&&(a.current=(0,Te.Z)((0,sn.Z)((0,on.Z)().mark((function e(){var t,n;return(0,on.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=an.indexOf(i),(n=an[t+1])&&-1!==t&&l(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,o.useEffect)((function(){return function(){c()}}),[]),[i,function(e){c(),a.current=(0,Te.Z)((function(){l((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(n,(function(){u&&B(_())})),U=(0,v.Z)(F,2),G=U[0],j=U[1],H=(0,o.useState)(0),V=(0,v.Z)(H,2),W=V[0],z=V[1],Z=(0,o.useRef)();function X(){var e;null===(e=M.current)||void 0===e||e.forceAlign()}function Y(e,t){var n=b(t);N!==n&&L(n),z((function(e){return e+1})),"align"===G&&(null==E||E(e,t))}(0,w.Z)((function(){"alignPre"===G&&z(0)}),[G]),(0,w.Z)((function(){"align"===G&&(W<3?X():j((function(){var e;null===(e=Z.current)||void 0===e||e.call(Z)})))}),[W]);var K=(0,s.Z)({},je(e));function J(){return new Promise((function(e){Z.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=K[e];K[e]=function(e,n){return j(),null==t?void 0:t(e,n)}})),o.useEffect((function(){K.motionName||"motion"!==G||j()}),[K.motionName,G]),o.useImperativeHandle(t,(function(){return{forceAlign:X,getElement:function(){return O.current}}}));var q=(0,s.Z)((0,s.Z)({},$),{},{zIndex:c,opacity:"motion"!==G&&"stable"!==G&&n?0:void 0,pointerEvents:n||"stable"===G?void 0:"none"},a),Q=!0;null==p||!p.points||"align"!==G&&"stable"!==G||(Q=!1);var ee=l;return o.Children.count(l)>1&&(ee=o.createElement("div",{className:"".concat(r,"-content")},l)),o.createElement(k.Z,(0,m.Z)({visible:n,ref:O,leavedClassName:"".concat(r,"-hidden")},K,{onAppearPrepare:J,onEnterPrepare:J,removeOnLeave:h,forceRender:d}),(function(e,t){var n=e.className,a=e.style,l=g()(r,i,N,n);return o.createElement(rn,{target:f||_,key:"popup",ref:M,monitorWindowResize:!0,disabled:Q,align:p,onAlign:Y},o.createElement("div",{ref:t,className:l,onMouseEnter:y,onMouseLeave:T,onMouseDownCapture:C,onTouchStartCapture:I,onClick:R,style:(0,s.Z)((0,s.Z)({},a),q)},ee))}))}));ln.displayName="PopupInner";const cn=ln;var un=o.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,a=e.children,l=e.mobile,c=(l=void 0===l?{}:l).popupClassName,u=l.popupStyle,h=l.popupMotion,d=void 0===h?{}:h,p=l.popupRender,f=e.onClick,_=o.useRef();o.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return _.current}}}));var v=(0,s.Z)({zIndex:i},u),b=a;return o.Children.count(a)>1&&(b=o.createElement("div",{className:"".concat(n,"-content")},a)),p&&(b=p(b)),o.createElement(k.Z,(0,m.Z)({visible:r,ref:_,removeOnLeave:!0},d),(function(e,t){var r=e.className,i=e.style,a=g()(n,c,r);return o.createElement("div",{ref:t,className:a,onClick:f,style:(0,s.Z)((0,s.Z)({},i),v)},b)}))}));un.displayName="MobilePopupInner";const hn=un;var dn=["visible","mobile"],pn=o.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=(0,E.Z)(e,dn),a=(0,o.useState)(n),l=(0,v.Z)(a,2),c=l[0],u=l[1],h=(0,o.useState)(!1),d=(0,v.Z)(h,2),p=d[0],f=d[1],g=(0,s.Z)((0,s.Z)({},i),{},{visible:c});(0,o.useEffect)((function(){u(n),n&&r&&f(y())}),[n,r]);var _=p?o.createElement(hn,(0,m.Z)({},g,{mobile:r,ref:t})):o.createElement(cn,(0,m.Z)({},g,{ref:t}));return o.createElement("div",null,o.createElement(He,g),_)}));pn.displayName="Popup";const fn=pn;const gn=o.createContext(null);function mn(){}function _n(){return""}function vn(e){return e?e.ownerDocument:window.document}var bn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const En=(yn=Ue,Tn=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(e){var r,i;return(0,ue.Z)(this,n),r=t.call(this,e),(0,_.Z)((0,De.Z)(r),"popupRef",o.createRef()),(0,_.Z)((0,De.Z)(r),"triggerRef",o.createRef()),(0,_.Z)((0,De.Z)(r),"portalContainer",void 0),(0,_.Z)((0,De.Z)(r),"attachId",void 0),(0,_.Z)((0,De.Z)(r),"clickOutsideHandler",void 0),(0,_.Z)((0,De.Z)(r),"touchOutsideHandler",void 0),(0,_.Z)((0,De.Z)(r),"contextMenuOutsideHandler1",void 0),(0,_.Z)((0,De.Z)(r),"contextMenuOutsideHandler2",void 0),(0,_.Z)((0,De.Z)(r),"mouseDownTimeout",void 0),(0,_.Z)((0,De.Z)(r),"focusTime",void 0),(0,_.Z)((0,De.Z)(r),"preClickTime",void 0),(0,_.Z)((0,De.Z)(r),"preTouchTime",void 0),(0,_.Z)((0,De.Z)(r),"delayTimer",void 0),(0,_.Z)((0,De.Z)(r),"hasPopupMouseDown",void 0),(0,_.Z)((0,De.Z)(r),"onMouseEnter",(function(e){var t=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",e),r.delaySetPopupVisible(!0,t,t?null:e)})),(0,_.Z)((0,De.Z)(r),"onMouseMove",(function(e){r.fireEvents("onMouseMove",e),r.setPoint(e)})),(0,_.Z)((0,De.Z)(r),"onMouseLeave",(function(e){r.fireEvents("onMouseLeave",e),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)})),(0,_.Z)((0,De.Z)(r),"onPopupMouseEnter",(function(){r.clearDelayTimer()})),(0,_.Z)((0,De.Z)(r),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&(0,$e.Z)(null===(t=r.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)})),(0,_.Z)((0,De.Z)(r),"onFocus",(function(e){r.fireEvents("onFocus",e),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))})),(0,_.Z)((0,De.Z)(r),"onMouseDown",(function(e){r.fireEvents("onMouseDown",e),r.preClickTime=Date.now()})),(0,_.Z)((0,De.Z)(r),"onTouchStart",(function(e){r.fireEvents("onTouchStart",e),r.preTouchTime=Date.now()})),(0,_.Z)((0,De.Z)(r),"onBlur",(function(e){r.fireEvents("onBlur",e),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)})),(0,_.Z)((0,De.Z)(r),"onContextMenu",(function(e){e.preventDefault(),r.fireEvents("onContextMenu",e),r.setPopupVisible(!0,e)})),(0,_.Z)((0,De.Z)(r),"onContextMenuClose",(function(){r.isContextMenuToShow()&&r.close()})),(0,_.Z)((0,De.Z)(r),"onClick",(function(e){if(r.fireEvents("onClick",e),r.focusTime){var t;if(r.preClickTime&&r.preTouchTime?t=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?t=r.preClickTime:r.preTouchTime&&(t=r.preTouchTime),Math.abs(t-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!r.state.popupVisible;(r.isClickToHide()&&!n||n&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,e)})),(0,_.Z)((0,De.Z)(r),"onPopupMouseDown",(function(){var e;r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout((function(){r.hasPopupMouseDown=!1}),0),r.context&&(e=r.context).onPopupMouseDown.apply(e,arguments)})),(0,_.Z)((0,De.Z)(r),"onDocumentClick",(function(e){if(!r.props.mask||r.props.maskClosable){var t=e.target,n=r.getRootDomNode(),o=r.getPopupDomNode();(0,$e.Z)(n,t)&&!r.isContextMenuOnly()||(0,$e.Z)(o,t)||r.hasPopupMouseDown||r.close()}})),(0,_.Z)((0,De.Z)(r),"getRootDomNode",(function(){var e=r.props.getTriggerDOMNode;if(e)return e(r.triggerRef.current);try{var t=(0,$.Z)(r.triggerRef.current);if(t)return t}catch(e){}return Pe.findDOMNode((0,De.Z)(r))})),(0,_.Z)((0,De.Z)(r),"getPopupClassNameFromAlign",(function(e){var t=[],n=r.props,o=n.popupPlacement,i=n.builtinPlacements,s=n.prefixCls,a=n.alignPoint,l=n.getPopupClassNameFromAlign;return o&&i&&t.push(function(e,t,n,r){for(var o=n.points,i=Object.keys(e),s=0;s<i.length;s+=1){var a=i[s];if(Ge(e[a].points,o,r))return"".concat(t,"-placement-").concat(a)}return""}(i,s,e,a)),l&&t.push(l(e)),t.join(" ")})),(0,_.Z)((0,De.Z)(r),"getComponent",(function(){var e=r.props,t=e.prefixCls,n=e.destroyPopupOnHide,i=e.popupClassName,s=e.onPopupAlign,a=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,u=e.popupStyle,h=e.mask,d=e.maskAnimation,p=e.maskTransitionName,f=e.maskMotion,g=e.zIndex,_=e.popup,v=e.stretch,b=e.alignPoint,E=e.mobile,y=e.forceRender,T=e.onPopupClick,w=r.state,S=w.popupVisible,C=w.point,I=r.getPopupAlign(),k={};return r.isMouseEnterToShow()&&(k.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(k.onMouseLeave=r.onPopupMouseLeave),k.onMouseDown=r.onPopupMouseDown,k.onTouchStart=r.onPopupMouseDown,o.createElement(fn,(0,m.Z)({prefixCls:t,destroyPopupOnHide:n,visible:S,point:b&&C,className:i,align:I,onAlign:s,animation:l,getClassNameFromAlign:r.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:r.getRootDomNode,style:u,mask:h,zIndex:g,transitionName:c,maskAnimation:d,maskTransitionName:p,maskMotion:f,ref:r.popupRef,motion:a,mobile:E,forceRender:y,onClick:T}),"function"==typeof _?_():_)})),(0,_.Z)((0,De.Z)(r),"attachParent",(function(e){Te.Z.cancel(r.attachId);var t,n=r.props,o=n.getPopupContainer,i=n.getDocument,s=r.getRootDomNode();o?(s||0===o.length)&&(t=o(s)):t=i(r.getRootDomNode()).body,t?t.appendChild(e):r.attachId=(0,Te.Z)((function(){r.attachParent(e)}))})),(0,_.Z)((0,De.Z)(r),"getContainer",(function(){if(!r.portalContainer){var e=(0,r.props.getDocument)(r.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",r.portalContainer=e}return r.attachParent(r.portalContainer),r.portalContainer})),(0,_.Z)((0,De.Z)(r),"setPoint",(function(e){r.props.alignPoint&&e&&r.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),(0,_.Z)((0,De.Z)(r),"handlePortalUpdate",(function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)})),(0,_.Z)((0,De.Z)(r),"triggerContextValue",{onPopupMouseDown:r.onPopupMouseDown}),i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},bn.forEach((function(e){r["fire".concat(e)]=function(t){r.fireEvents(e,t)}})),r}return(0,he.Z)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Be(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Be(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Be(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Be(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Te.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return(0,s.Z)((0,s.Z)({},r),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,r=t.forceRender,i=t.alignPoint,a=t.className,l=t.autoDestroy,c=o.Children.only(n),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,i&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var h=g()(c&&c.props&&c.props.className,a);h&&(u.className=h);var d=(0,s.Z)({},u);(0,P.Yr)(c)&&(d.ref=(0,P.sQ)(this.triggerRef,c.ref));var p,f=o.cloneElement(c,d);return(e||this.popupRef.current||r)&&(p=o.createElement(yn,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&l&&(p=null),o.createElement(gn.Provider,{value:this.triggerContextValue},f,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(o.Component),(0,_.Z)(Tn,"contextType",gn),(0,_.Z)(Tn,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:_n,getDocument:vn,onPopupVisibleChange:mn,afterPopupVisibleChange:mn,onPopupAlign:mn,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),Tn);var yn,Tn,wn={adjustX:1,adjustY:1},Sn=[0,0];const Cn={topLeft:{points:["bl","tl"],overflow:wn,offset:[0,-4],targetOffset:Sn},topCenter:{points:["bc","tc"],overflow:wn,offset:[0,-4],targetOffset:Sn},topRight:{points:["br","tr"],overflow:wn,offset:[0,-4],targetOffset:Sn},bottomLeft:{points:["tl","bl"],overflow:wn,offset:[0,4],targetOffset:Sn},bottomCenter:{points:["tc","bc"],overflow:wn,offset:[0,4],targetOffset:Sn},bottomRight:{points:["tr","br"],overflow:wn,offset:[0,4],targetOffset:Sn}};var In=n(4430);function kn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,Jt.Z)(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),i=Number(o),s=null;return o&&!Number.isNaN(i)?s=i:r&&null===s&&(s=0),r&&e.disabled&&(s=null),null!==s&&(s>=0||t&&s<0)}return!1}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,N.Z)(e.querySelectorAll("*")).filter((function(e){return kn(e,t)}));return kn(e,t)&&n.unshift(e),n}var Mn=In.Z.ESC,On=In.Z.TAB;var xn=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function An(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,a=void 0===i?"rc-dropdown":i,l=e.transitionName,c=e.animation,u=e.align,h=e.placement,d=void 0===h?"bottomLeft":h,p=e.placements,f=void 0===p?Cn:p,m=e.getPopupContainer,b=e.showAction,y=e.hideAction,T=e.overlayClassName,w=e.overlayStyle,S=e.visible,C=e.trigger,I=void 0===C?["hover"]:C,k=e.autoFocus,R=(0,E.Z)(e,xn),M=o.useState(),O=(0,v.Z)(M,2),x=O[0],A=O[1],N="visible"in e?S:x,L=o.useRef(null);o.useImperativeHandle(t,(function(){return L.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.onVisibleChange,s=e.autoFocus,a=o.useRef(!1),l=function(){var e,o,s,a;t&&r.current&&(null===(e=r.current)||void 0===e||null===(o=e.triggerRef)||void 0===o||null===(s=o.current)||void 0===s||null===(a=s.focus)||void 0===a||a.call(s),n(!1),"function"==typeof i&&i(!1))},c=function(){var e,t,n,o,i=Rn(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(o=n.getElement)||void 0===o?void 0:o.call(n))[0];return!!(null==i?void 0:i.focus)&&(i.focus(),a.current=!0,!0)},u=function(e){switch(e.keyCode){case Mn:l();break;case On:var t=!1;a.current||(t=c()),t?e.preventDefault():l()}};o.useEffect((function(){return t?(window.addEventListener("keydown",u),s&&(0,Te.Z)(c,3),function(){window.removeEventListener("keydown",u),a.current=!1}):function(){a.current=!1}}),[t])}({visible:N,setTriggerVisible:A,triggerRef:L,onVisibleChange:e.onVisibleChange,autoFocus:k});var D,P,$,B,F=function(){var t,n="function"==typeof(t=e.overlay)?t():t;return o.createElement(o.Fragment,null,r&&o.createElement("div",{className:"".concat(a,"-arrow")}),n)},U=y;return U||-1===I.indexOf("contextMenu")||(U=["click"]),o.createElement(En,(0,s.Z)((0,s.Z)({builtinPlacements:f},R),{},{prefixCls:a,ref:L,popupClassName:g()(T,(0,_.Z)({},"".concat(a,"-show-arrow"),r)),popupStyle:w,action:I,showAction:b,hideAction:U||[],popupPlacement:d,popupAlign:u,popupTransitionName:l,popupAnimation:c,popupVisible:N,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"==typeof e.overlay?F:F(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;A(t),"function"==typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;A(!1),n&&n(t)},getPopupContainer:m}),(P=e.children,$=P.props?P.props:{},B=g()($.className,void 0!==(D=e.openClassName)?D:"".concat(a,"-open")),N&&P?o.cloneElement(P,{className:B}):P))}const Nn=o.forwardRef(An);var Ln=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Dn=void 0;function Pn(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,a=e.renderItem,l=e.responsive,c=e.responsiveDisabled,u=e.registerSize,h=e.itemKey,d=e.className,p=e.style,f=e.children,_=e.display,v=e.order,b=e.component,y=void 0===b?"div":b,T=(0,E.Z)(e,Ln),w=l&&!_;function S(e){u(h,e)}o.useEffect((function(){return function(){S(null)}}),[]);var C,I=a&&i!==Dn?a(i):f;r||(C={opacity:w?0:1,height:w?0:Dn,overflowY:w?"hidden":Dn,order:l?v:Dn,pointerEvents:w?"none":Dn,position:w?"absolute":Dn});var k={};w&&(k["aria-hidden"]=!0);var R=o.createElement(y,(0,m.Z)({className:g()(!r&&n,d),style:(0,s.Z)((0,s.Z)({},C),p)},k,T,{ref:t}),I);return l&&(R=o.createElement(ye,{onResize:function(e){S(e.offsetWidth)},disabled:c},R)),R}var $n=o.forwardRef(Pn);$n.displayName="Item";const Bn=$n;var Fn=["component"],Un=["className"],Gn=["className"],jn=function(e,t){var n=o.useContext(zn);if(!n){var r=e.component,i=void 0===r?"div":r,s=(0,E.Z)(e,Fn);return o.createElement(i,(0,m.Z)({},s,{ref:t}))}var a=n.className,l=(0,E.Z)(n,Un),c=e.className,u=(0,E.Z)(e,Gn);return o.createElement(zn.Provider,{value:null},o.createElement(Bn,(0,m.Z)({ref:t,className:g()(a,c)},l,u)))},Hn=o.forwardRef(jn);Hn.displayName="RawItem";const Vn=Hn;var Wn=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],zn=o.createContext(null),Zn="responsive",Xn="invalidate";function Yn(e){return"+ ".concat(e.length," ...")}function Kn(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,a=void 0===i?[]:i,l=e.renderItem,c=e.renderRawItem,u=e.itemKey,h=e.itemWidth,d=void 0===h?10:h,p=e.ssr,f=e.style,_=e.className,b=e.maxCount,y=e.renderRest,T=e.renderRawRest,C=e.suffix,I=e.component,k=void 0===I?"div":I,R=e.itemComponent,M=e.onVisibleChange,O=(0,E.Z)(e,Wn),x=function(){var e=(0,S.Z)({}),t=(0,v.Z)(e,2)[1],n=(0,o.useRef)([]),r=0,i=0;return function(e){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=e),[n.current[o],function(e){n.current[o]="function"==typeof e?e(n.current[o]):e,Te.Z.cancel(i),i=(0,Te.Z)((function(){t({},!0)}))}]}}(),A="full"===p,N=x(null),L=(0,v.Z)(N,2),D=L[0],P=L[1],$=D||0,B=x(new Map),F=(0,v.Z)(B,2),U=F[0],G=F[1],j=x(0),H=(0,v.Z)(j,2),V=H[0],W=H[1],z=x(0),Z=(0,v.Z)(z,2),X=Z[0],Y=Z[1],K=x(0),J=(0,v.Z)(K,2),q=J[0],Q=J[1],ee=(0,o.useState)(null),te=(0,v.Z)(ee,2),ne=te[0],re=te[1],oe=(0,o.useState)(null),ie=(0,v.Z)(oe,2),se=ie[0],ae=ie[1],le=o.useMemo((function(){return null===se&&A?Number.MAX_SAFE_INTEGER:se||0}),[se,D]),ce=(0,o.useState)(!1),ue=(0,v.Z)(ce,2),he=ue[0],de=ue[1],pe="".concat(r,"-item"),fe=Math.max(V,X),ge=b===Zn,me=a.length&&ge,_e=b===Xn,ve=me||"number"==typeof b&&a.length>b,be=(0,o.useMemo)((function(){var e=a;return me?e=null===D&&A?a:a.slice(0,Math.min(a.length,$/d)):"number"==typeof b&&(e=a.slice(0,b)),e}),[a,d,D,b,me]),Ee=(0,o.useMemo)((function(){return me?a.slice(le+1):a.slice(be.length)}),[a,be,me,le]),we=(0,o.useCallback)((function(e,t){var n;return"function"==typeof u?u(e):null!==(n=u&&(null==e?void 0:e[u]))&&void 0!==n?n:t}),[u]),Se=(0,o.useCallback)(l||function(e){return e},[l]);function Ce(e,t,n){(se!==e||void 0!==t&&t!==ne)&&(ae(e),n||(de(e<a.length-1),null==M||M(e)),void 0!==t&&re(t))}function Ie(e,t){G((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ke(e){return U.get(we(be[e],e))}(0,w.Z)((function(){if($&&fe&&be){var e=q,t=be.length,n=t-1;if(!t)return void Ce(0,null);for(var r=0;r<t;r+=1){var o=ke(r);if(A&&(o=o||0),void 0===o){Ce(r-1,void 0,!0);break}if(e+=o,0===n&&e<=$||r===n-1&&e+ke(n)<=$){Ce(n,null);break}if(e+fe>$){Ce(r-1,e-o-q+X);break}}C&&ke(0)+q>$&&re(null)}}),[$,U,X,q,we,be]);var Re=he&&!!Ee.length,Me={};null!==ne&&me&&(Me={position:"absolute",left:ne,top:0});var Oe,xe={prefixCls:pe,responsive:me,component:R,invalidate:_e},Ae=c?function(e,t){var n=we(e,t);return o.createElement(zn.Provider,{key:n,value:(0,s.Z)((0,s.Z)({},xe),{},{order:t,item:e,itemKey:n,registerSize:Ie,display:t<=le})},c(e,t))}:function(e,t){var n=we(e,t);return o.createElement(Bn,(0,m.Z)({},xe,{order:t,key:n,item:e,renderItem:Se,itemKey:n,registerSize:Ie,display:t<=le}))},Ne={order:Re?le:Number.MAX_SAFE_INTEGER,className:"".concat(pe,"-rest"),registerSize:function(e,t){Y(t),W(X)},display:Re};if(T)T&&(Oe=o.createElement(zn.Provider,{value:(0,s.Z)((0,s.Z)({},xe),Ne)},T(Ee)));else{var Le=y||Yn;Oe=o.createElement(Bn,(0,m.Z)({},xe,Ne),"function"==typeof Le?Le(Ee):Le)}var De=o.createElement(k,(0,m.Z)({className:g()(!_e&&r,_),style:f,ref:t},O),be.map(Ae),ve?Oe:null,C&&o.createElement(Bn,(0,m.Z)({},xe,{responsive:ge,responsiveDisabled:!me,order:le,className:"".concat(pe,"-suffix"),registerSize:function(e,t){Q(t)},display:!0,style:Me}),C));return ge&&(De=o.createElement(ye,{onResize:function(e,t){P(t.clientWidth)},disabled:!me},De)),De}var Jn=o.forwardRef(Kn);Jn.displayName="Overflow",Jn.Item=Vn,Jn.RESPONSIVE=Zn,Jn.INVALIDATE=Xn;const qn=Jn;var Qn=o.createContext(null);function er(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function tr(e){return er(o.useContext(Qn),e)}var nr=n(6794),rr=["children","locked"],or=o.createContext(null);function ir(e){var t=e.children,n=e.locked,r=(0,E.Z)(e,rr),i=o.useContext(or),a=(0,nr.Z)((function(){return e=i,t=r,n=(0,s.Z)({},e),Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n;var e,t,n}),[i,r],(function(e,t){return!(n||e[0]===t[0]&&(0,Kt.Z)(e[1],t[1],!0))}));return o.createElement(or.Provider,{value:a},t)}var sr=[],ar=o.createContext(null);function lr(){return o.useContext(ar)}var cr=o.createContext(sr);function ur(e){var t=o.useContext(cr);return o.useMemo((function(){return void 0!==e?[].concat((0,N.Z)(t),[e]):t}),[t,e])}var hr=o.createContext(null);const dr=o.createContext({});var pr=In.Z.LEFT,fr=In.Z.RIGHT,gr=In.Z.UP,mr=In.Z.DOWN,_r=In.Z.ENTER,vr=In.Z.ESC,br=In.Z.HOME,Er=In.Z.END,yr=[gr,mr,pr,fr];function Tr(e,t){return Rn(e,!0).filter((function(e){return t.has(e)}))}function wr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=Tr(e,t),i=o.length,s=o.findIndex((function(e){return n===e}));return r<0?-1===s?s=i-1:s-=1:r>0&&(s+=1),o[s=(s+i)%i]}function Sr(e,t,n,r,i,s,a,l,c,u){var h=o.useRef(),d=o.useRef();d.current=t;var p=function(){Te.Z.cancel(h.current)};return o.useEffect((function(){return function(){p()}}),[]),function(o){var f=o.which;if([].concat(yr,[_r,vr,br,Er]).includes(f)){var g,m,v,b=function(){return g=new Set,m=new Map,v=new Map,s().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(er(r,e),"']"));t&&(g.add(t),v.set(t,e),m.set(e,t))})),g};b();var E=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),g),y=v.get(E),T=function(e,t,n,r){var o,i,s,a,l="prev",c="next",u="children",h="parent";if("inline"===e&&r===_r)return{inlineTrigger:!0};var d=(o={},(0,_.Z)(o,gr,l),(0,_.Z)(o,mr,c),o),p=(i={},(0,_.Z)(i,pr,n?c:l),(0,_.Z)(i,fr,n?l:c),(0,_.Z)(i,mr,u),(0,_.Z)(i,_r,u),i),f=(s={},(0,_.Z)(s,gr,l),(0,_.Z)(s,mr,c),(0,_.Z)(s,_r,u),(0,_.Z)(s,vr,h),(0,_.Z)(s,pr,n?u:h),(0,_.Z)(s,fr,n?h:u),s);switch(null===(a={inline:d,horizontal:p,vertical:f,inlineSub:d,horizontalSub:f,verticalSub:f}["".concat(e).concat(t?"":"Sub")])||void 0===a?void 0:a[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(e,1===a(y,!0).length,n,f);if(!T&&f!==br&&f!==Er)return;(yr.includes(f)||[br,Er].includes(f))&&o.preventDefault();var w=function(e){if(e){var t=e,n=e.querySelector("a");null!=n&&n.getAttribute("href")&&(t=n);var r=v.get(e);l(r),p(),h.current=(0,Te.Z)((function(){d.current===r&&t.focus()}))}};if([br,Er].includes(f)||T.sibling||!E){var S,C,I=Tr(S=E&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(E):i.current,g);C=f===br?I[0]:f===Er?I[I.length-1]:wr(S,g,E,T.offset),w(C)}else if(T.inlineTrigger)c(y);else if(T.offset>0)c(y,!0),p(),h.current=(0,Te.Z)((function(){b();var e=E.getAttribute("aria-controls"),t=wr(document.getElementById(e),g);w(t)}),5);else if(T.offset<0){var k=a(y,!0),R=k[k.length-2],M=m.get(R);c(R,!1),w(M)}}null==u||u(o)}}var Cr="__RC_UTIL_PATH_SPLIT__",Ir=function(e){return e.join(Cr)},kr=function(e){return e.split(Cr)},Rr="rc-menu-more";function Mr(){var e=o.useState({}),t=(0,v.Z)(e,2)[1],n=(0,o.useRef)(new Map),r=(0,o.useRef)(new Map),i=o.useState([]),s=(0,v.Z)(i,2),a=s[0],l=s[1],c=(0,o.useRef)(0),u=(0,o.useRef)(!1),h=(0,o.useCallback)((function(e,o){var i=Ir(o);r.current.set(i,e),n.current.set(e,i),c.current+=1;var s,a=c.current;s=function(){a===c.current&&(u.current||t({}))},Promise.resolve().then(s)}),[]),d=(0,o.useCallback)((function(e,t){var o=Ir(t);r.current.delete(o),n.current.delete(e)}),[]),p=(0,o.useCallback)((function(e){l(e)}),[]),f=(0,o.useCallback)((function(e,t){var r=n.current.get(e)||"",o=kr(r);return t&&a.includes(o[0])&&o.unshift(Rr),o}),[a]),g=(0,o.useCallback)((function(e,t){return e.some((function(e){return f(e,!0).includes(t)}))}),[f]),m=(0,o.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Cr),o=new Set;return(0,N.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&o.add(r.current.get(e))})),o}),[]);return o.useEffect((function(){return function(){u.current=!0}}),[]),{registerPath:h,unregisterPath:d,refreshOverflowKeys:p,isSubPathKey:g,getKeyPath:f,getKeys:function(){var e=(0,N.Z)(n.current.keys());return a.length&&e.push(Rr),e},getSubPathKeys:m}}function Or(e){var t=o.useRef(e);t.current=e;var n=o.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var xr=Math.random().toFixed(5).toString().slice(2),Ar=0;var Nr=n(7231);function Lr(e,t,n,r){var i=o.useContext(or),s=i.activeKey,a=i.onActive,l=i.onInactive,c={active:s===e};return t||(c.onMouseEnter=function(t){null==n||n({key:e,domEvent:t}),a(e)},c.onMouseLeave=function(t){null==r||r({key:e,domEvent:t}),l(e)}),c}var Dr=["item"];function Pr(e){var t=e.item,n=(0,E.Z)(e,Dr);return Object.defineProperty(n,"item",{get:function(){return(0,D.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function $r(e){var t=e.icon,n=e.props,r=e.children;return("function"==typeof t?o.createElement(t,(0,s.Z)({},n)):t)||r||null}function Br(e){var t=o.useContext(or),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var Fr=["title","attribute","elementRef"],Ur=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Gr=["active"],jr=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(){return(0,ue.Z)(this,n),t.apply(this,arguments)}return(0,he.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=(0,E.Z)(e,Fr),s=(0,Nr.Z)(i,["eventKey"]);return(0,D.ZP)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),o.createElement(qn.Item,(0,m.Z)({},n,{title:"string"==typeof t?t:void 0},s,{ref:r}))}}]),n}(o.Component),Hr=function(e){var t,n=e.style,r=e.className,i=e.eventKey,a=(e.warnKey,e.disabled),l=e.itemIcon,c=e.children,u=e.role,h=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,f=e.onKeyDown,v=e.onFocus,b=(0,E.Z)(e,Ur),y=tr(i),T=o.useContext(or),w=T.prefixCls,S=T.onItemClick,C=T.disabled,I=T.overflowDisabled,k=T.itemIcon,R=T.selectedKeys,M=T.onActive,O=o.useContext(dr)._internalRenderMenuItem,x="".concat(w,"-item"),A=o.useRef(),L=o.useRef(),D=C||a,P=ur(i);var $=function(e){return{key:i,keyPath:(0,N.Z)(P).reverse(),item:A.current,domEvent:e}},B=l||k,F=Lr(i,D,h,d),U=F.active,G=(0,E.Z)(F,Gr),j=R.includes(i),H=Br(P.length),V={};"option"===e.role&&(V["aria-selected"]=j);var W=o.createElement(jr,(0,m.Z)({ref:A,elementRef:L,role:null===u?"none":u||"menuitem",tabIndex:a?null:-1,"data-menu-id":I&&y?null:y},b,G,V,{component:"li","aria-disabled":a,style:(0,s.Z)((0,s.Z)({},H),n),className:g()(x,(t={},(0,_.Z)(t,"".concat(x,"-active"),U),(0,_.Z)(t,"".concat(x,"-selected"),j),(0,_.Z)(t,"".concat(x,"-disabled"),D),t),r),onClick:function(e){if(!D){var t=$(e);null==p||p(Pr(t)),S(t)}},onKeyDown:function(e){if(null==f||f(e),e.which===In.Z.ENTER){var t=$(e);null==p||p(Pr(t)),S(t)}},onFocus:function(e){M(i),null==v||v(e)}}),c,o.createElement($r,{props:(0,s.Z)((0,s.Z)({},e),{},{isSelected:j}),icon:B}));return O&&(W=O(W,e,{selected:j})),W};const Vr=function(e){var t=e.eventKey,n=lr(),r=ur(t);return o.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:o.createElement(Hr,e)};var Wr=["className","children"],zr=function(e,t){var n=e.className,r=e.children,i=(0,E.Z)(e,Wr),s=o.useContext(or),a=s.prefixCls,l=s.mode,c=s.rtl;return o.createElement("ul",(0,m.Z)({className:g()(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},i,{"data-menu-list":!0,ref:t}),r)},Zr=o.forwardRef(zr);Zr.displayName="SubMenuList";const Xr=Zr;var Yr=["label","children","key","type"];function Kr(e,t){return(0,L.Z)(e).map((function(e,n){if(o.isValidElement(e)){var r,i,s=e.key,a=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:s;null==a&&(a="tmp_key-".concat([].concat((0,N.Z)(t),[n]).join("-")));var l={key:a,eventKey:a};return o.cloneElement(e,l)}return e}))}function Jr(e){return(e||[]).map((function(e,t){if(e&&"object"===(0,b.Z)(e)){var n=e,r=n.label,i=n.children,s=n.key,a=n.type,l=(0,E.Z)(n,Yr),c=null!=s?s:"tmp-".concat(t);return i||"group"===a?"group"===a?o.createElement(_o,(0,m.Z)({key:c},l,{title:r}),Jr(i)):o.createElement(co,(0,m.Z)({key:c},l,{title:r}),Jr(i)):"divider"===a?o.createElement(vo,(0,m.Z)({key:c},l)):o.createElement(Vr,(0,m.Z)({key:c},l),r)}return null})).filter((function(e){return e}))}function qr(e,t,n){var r=e;return t&&(r=Jr(t)),Kr(r,n)}var Qr={adjustX:1,adjustY:1},eo={topLeft:{points:["bl","tl"],overflow:Qr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qr,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Qr,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Qr,offset:[4,0]}},to={topLeft:{points:["bl","tl"],overflow:Qr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Qr,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Qr,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Qr,offset:[4,0]}};function no(e,t,n){return t||(n?n[e]||n.other:void 0)}var ro={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function oo(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,a=e.popupClassName,l=e.popupOffset,c=e.disabled,u=e.mode,h=e.onVisibleChange,d=o.useContext(or),p=d.getPopupContainer,f=d.rtl,m=d.subMenuOpenDelay,b=d.subMenuCloseDelay,E=d.builtinPlacements,y=d.triggerSubMenuAction,T=d.forceSubMenuRender,w=d.rootClassName,S=d.motion,C=d.defaultMotions,I=o.useState(!1),k=(0,v.Z)(I,2),R=k[0],M=k[1],O=f?(0,s.Z)((0,s.Z)({},to),E):(0,s.Z)((0,s.Z)({},eo),E),x=ro[u],A=no(u,S,C),N=o.useRef(A);"inline"!==u&&(N.current=A);var L=(0,s.Z)((0,s.Z)({},N.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),D=o.useRef();return o.useEffect((function(){return D.current=(0,Te.Z)((function(){M(n)})),function(){Te.Z.cancel(D.current)}}),[n]),o.createElement(En,{prefixCls:t,popupClassName:g()("".concat(t,"-popup"),(0,_.Z)({},"".concat(t,"-rtl"),f),a,w),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:p,builtinPlacements:O,popupPlacement:x,popupVisible:R,popup:i,popupAlign:l&&{offset:l},action:c?[]:[y],mouseEnterDelay:m,mouseLeaveDelay:b,onPopupVisibleChange:h,forceRender:T,popupMotion:L},r)}function io(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,a="inline",l=o.useContext(or),c=l.prefixCls,u=l.forceSubMenuRender,h=l.motion,d=l.defaultMotions,p=l.mode,f=o.useRef(!1);f.current=p===a;var g=o.useState(!f.current),_=(0,v.Z)(g,2),b=_[0],E=_[1],y=!!f.current&&n;o.useEffect((function(){f.current&&E(!1)}),[p]);var T=(0,s.Z)({},no(a,h,d));r.length>1&&(T.motionAppear=!1);var w=T.onVisibleChanged;return T.onVisibleChanged=function(e){return f.current||e||E(!0),null==w?void 0:w(e)},b?null:o.createElement(ir,{mode:a,locked:!f.current},o.createElement(k.Z,(0,m.Z)({visible:y},T,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(c,"-hidden")}),(function(e){var n=e.className,r=e.style;return o.createElement(Xr,{id:t,className:n,style:r},i)})))}var so=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ao=["active"],lo=function(e){var t,n=e.style,r=e.className,i=e.title,a=e.eventKey,l=(e.warnKey,e.disabled),c=e.internalPopupClose,u=e.children,h=e.itemIcon,d=e.expandIcon,p=e.popupClassName,f=e.popupOffset,b=e.onClick,y=e.onMouseEnter,T=e.onMouseLeave,w=e.onTitleClick,S=e.onTitleMouseEnter,C=e.onTitleMouseLeave,I=(0,E.Z)(e,so),k=tr(a),R=o.useContext(or),M=R.prefixCls,O=R.mode,x=R.openKeys,A=R.disabled,N=R.overflowDisabled,L=R.activeKey,D=R.selectedKeys,P=R.itemIcon,$=R.expandIcon,B=R.onItemClick,F=R.onOpenChange,U=R.onActive,G=o.useContext(dr)._internalRenderSubMenuItem,j=o.useContext(hr).isSubPathKey,H=ur(),V="".concat(M,"-submenu"),W=A||l,z=o.useRef(),Z=o.useRef();var X=h||P,Y=d||$,K=x.includes(a),J=!N&&K,q=j(D,a),Q=Lr(a,W,S,C),ee=Q.active,te=(0,E.Z)(Q,ao),ne=o.useState(!1),re=(0,v.Z)(ne,2),oe=re[0],ie=re[1],se=function(e){W||ie(e)},ae=o.useMemo((function(){return ee||"inline"!==O&&(oe||j([L],a))}),[O,ee,L,oe,a,j]),le=Br(H.length),ce=Or((function(e){null==b||b(Pr(e)),B(e)})),ue=k&&"".concat(k,"-popup"),he=o.createElement("div",(0,m.Z)({role:"menuitem",style:le,className:"".concat(V,"-title"),tabIndex:W?null:-1,ref:z,title:"string"==typeof i?i:null,"data-menu-id":N&&k?null:k,"aria-expanded":J,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":W,onClick:function(e){W||(null==w||w({key:a,domEvent:e}),"inline"===O&&F(a,!K))},onFocus:function(){U(a)}},te),i,o.createElement($r,{icon:"horizontal"!==O?Y:null,props:(0,s.Z)((0,s.Z)({},e),{},{isOpen:J,isSubMenu:!0})},o.createElement("i",{className:"".concat(V,"-arrow")}))),de=o.useRef(O);if("inline"!==O&&H.length>1?de.current="vertical":de.current=O,!N){var pe=de.current;he=o.createElement(oo,{mode:pe,prefixCls:V,visible:!c&&J&&"inline"!==O,popupClassName:p,popupOffset:f,popup:o.createElement(ir,{mode:"horizontal"===pe?"vertical":pe},o.createElement(Xr,{id:ue,ref:Z},u)),disabled:W,onVisibleChange:function(e){"inline"!==O&&F(a,e)}},he)}var fe=o.createElement(qn.Item,(0,m.Z)({role:"none"},I,{component:"li",style:n,className:g()(V,"".concat(V,"-").concat(O),r,(t={},(0,_.Z)(t,"".concat(V,"-open"),J),(0,_.Z)(t,"".concat(V,"-active"),ae),(0,_.Z)(t,"".concat(V,"-selected"),q),(0,_.Z)(t,"".concat(V,"-disabled"),W),t)),onMouseEnter:function(e){se(!0),null==y||y({key:a,domEvent:e})},onMouseLeave:function(e){se(!1),null==T||T({key:a,domEvent:e})}}),he,!N&&o.createElement(io,{id:ue,open:J,keyPath:H},u));return G&&(fe=G(fe,e,{selected:q,active:ae,open:J,disabled:W})),o.createElement(ir,{onItemClick:ce,mode:"horizontal"===O?"vertical":O,itemIcon:X,expandIcon:Y},fe)};function co(e){var t,n=e.eventKey,r=e.children,i=ur(n),s=Kr(r,i),a=lr();return o.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?s:o.createElement(lo,e,s),o.createElement(cr.Provider,{value:i},t)}var uo=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],ho=[],po=o.forwardRef((function(e,t){var n,r,i=e,a=i.prefixCls,l=void 0===a?"rc-menu":a,c=i.rootClassName,u=i.style,h=i.className,d=i.tabIndex,p=void 0===d?0:d,f=i.items,b=i.children,y=i.direction,T=i.id,w=i.mode,S=void 0===w?"vertical":w,C=i.inlineCollapsed,k=i.disabled,R=i.disabledOverflow,M=i.subMenuOpenDelay,O=void 0===M?.1:M,x=i.subMenuCloseDelay,A=void 0===x?.1:x,L=i.forceSubMenuRender,D=i.defaultOpenKeys,P=i.openKeys,$=i.activeKey,B=i.defaultActiveFirst,F=i.selectable,U=void 0===F||F,G=i.multiple,j=void 0!==G&&G,H=i.defaultSelectedKeys,V=i.selectedKeys,W=i.onSelect,z=i.onDeselect,Z=i.inlineIndent,X=void 0===Z?24:Z,Y=i.motion,K=i.defaultMotions,J=i.triggerSubMenuAction,q=void 0===J?"hover":J,Q=i.builtinPlacements,ee=i.itemIcon,te=i.expandIcon,ne=i.overflowedIndicator,re=void 0===ne?"...":ne,oe=i.overflowedIndicatorPopupClassName,ie=i.getPopupContainer,se=i.onClick,ae=i.onOpenChange,le=i.onKeyDown,ce=(i.openAnimation,i.openTransitionName,i._internalRenderMenuItem),ue=i._internalRenderSubMenuItem,he=(0,E.Z)(i,uo),de=o.useMemo((function(){return qr(b,f,ho)}),[b,f]),pe=o.useState(!1),fe=(0,v.Z)(pe,2),ge=fe[0],me=fe[1],_e=o.useRef(),ve=function(e){var t=I(e,{value:e}),n=(0,v.Z)(t,2),r=n[0],i=n[1];return o.useEffect((function(){Ar+=1;var e="".concat(xr,"-").concat(Ar);i("rc-menu-uuid-".concat(e))}),[]),r}(T),be="rtl"===y;var Ee=I(D,{value:P,postState:function(e){return e||ho}}),ye=(0,v.Z)(Ee,2),Te=ye[0],we=ye[1],Se=function(e){function t(){we(e),null==ae||ae(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,Pe.flushSync)(t):t()},Ce=o.useState(Te),Ie=(0,v.Z)(Ce,2),ke=Ie[0],Re=Ie[1],Me=o.useRef(!1),Oe=o.useMemo((function(){return"inline"!==S&&"vertical"!==S||!C?[S,!1]:["vertical",C]}),[S,C]),xe=(0,v.Z)(Oe,2),Ae=xe[0],Ne=xe[1],Le="inline"===Ae,De=o.useState(Ae),$e=(0,v.Z)(De,2),Be=$e[0],Fe=$e[1],Ue=o.useState(Ne),Ge=(0,v.Z)(Ue,2),je=Ge[0],He=Ge[1];o.useEffect((function(){Fe(Ae),He(Ne),Me.current&&(Le?we(ke):Se(ho))}),[Ae,Ne]);var Ve=o.useState(0),We=(0,v.Z)(Ve,2),ze=We[0],Ze=We[1],Xe=ze>=de.length-1||"horizontal"!==Be||R;o.useEffect((function(){Le&&Re(Te)}),[Te]),o.useEffect((function(){return Me.current=!0,function(){Me.current=!1}}),[]);var Ye=Mr(),Ke=Ye.registerPath,Je=Ye.unregisterPath,qe=Ye.refreshOverflowKeys,Qe=Ye.isSubPathKey,et=Ye.getKeyPath,tt=Ye.getKeys,nt=Ye.getSubPathKeys,rt=o.useMemo((function(){return{registerPath:Ke,unregisterPath:Je}}),[Ke,Je]),ot=o.useMemo((function(){return{isSubPathKey:Qe}}),[Qe]);o.useEffect((function(){qe(Xe?ho:de.slice(ze+1).map((function(e){return e.key})))}),[ze,Xe]);var it=I($||B&&(null===(n=de[0])||void 0===n?void 0:n.key),{value:$}),st=(0,v.Z)(it,2),at=st[0],lt=st[1],ct=Or((function(e){lt(e)})),ut=Or((function(){lt(void 0)}));(0,o.useImperativeHandle)(t,(function(){return{list:_e.current,focus:function(e){var t,n,r,o,i=null!=at?at:null===(t=de.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;i&&(null===(n=_e.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(er(ve,i),"']")))||void 0===r||null===(o=r.focus)||void 0===o||o.call(r,e))}}}));var ht=I(H||[],{value:V,postState:function(e){return Array.isArray(e)?e:null==e?ho:[e]}}),dt=(0,v.Z)(ht,2),pt=dt[0],ft=dt[1],gt=Or((function(e){null==se||se(Pr(e)),function(e){if(U){var t,n=e.key,r=pt.includes(n);t=j?r?pt.filter((function(e){return e!==n})):[].concat((0,N.Z)(pt),[n]):[n],ft(t);var o=(0,s.Z)((0,s.Z)({},e),{},{selectedKeys:t});r?null==z||z(o):null==W||W(o)}!j&&Te.length&&"inline"!==Be&&Se(ho)}(e)})),mt=Or((function(e,t){var n=Te.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Be){var r=nt(e);n=n.filter((function(e){return!r.has(e)}))}(0,Kt.Z)(Te,n,!0)||Se(n,!0)})),_t=Or(ie),vt=Sr(Be,at,be,ve,_e,tt,et,lt,(function(e,t){var n=null!=t?t:!Te.includes(e);mt(e,n)}),le);o.useEffect((function(){me(!0)}),[]);var bt=o.useMemo((function(){return{_internalRenderMenuItem:ce,_internalRenderSubMenuItem:ue}}),[ce,ue]),Et="horizontal"!==Be||R?de:de.map((function(e,t){return o.createElement(ir,{key:e.key,overflowDisabled:t>ze},e)})),yt=o.createElement(qn,(0,m.Z)({id:T,ref:_e,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:Vr,className:g()(l,"".concat(l,"-root"),"".concat(l,"-").concat(Be),h,(r={},(0,_.Z)(r,"".concat(l,"-inline-collapsed"),je),(0,_.Z)(r,"".concat(l,"-rtl"),be),r),c),dir:y,style:u,role:"menu",tabIndex:p,data:Et,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?de.slice(-t):null;return o.createElement(co,{eventKey:Rr,title:re,disabled:Xe,internalPopupClose:0===t,popupClassName:oe},n)},maxCount:"horizontal"!==Be||R?qn.INVALIDATE:qn.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ze(e)},onKeyDown:vt},he));return o.createElement(dr.Provider,{value:bt},o.createElement(Qn.Provider,{value:ve},o.createElement(ir,{prefixCls:l,rootClassName:c,mode:Be,openKeys:Te,rtl:be,disabled:k,motion:ge?Y:null,defaultMotions:ge?K:null,activeKey:at,onActive:ct,onInactive:ut,selectedKeys:pt,inlineIndent:X,subMenuOpenDelay:O,subMenuCloseDelay:A,forceSubMenuRender:L,builtinPlacements:Q,triggerSubMenuAction:q,getPopupContainer:_t,itemIcon:ee,expandIcon:te,onItemClick:gt,onOpenChange:mt},o.createElement(hr.Provider,{value:ot},yt),o.createElement("div",{style:{display:"none"},"aria-hidden":!0},o.createElement(ar.Provider,{value:rt},de)))))}));var fo=["className","title","eventKey","children"],go=["children"],mo=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),i=(0,E.Z)(e,fo),s=o.useContext(or).prefixCls,a="".concat(s,"-item-group");return o.createElement("li",(0,m.Z)({role:"presentation"},i,{onClick:function(e){return e.stopPropagation()},className:g()(a,t)}),o.createElement("div",{role:"presentation",className:"".concat(a,"-title"),title:"string"==typeof n?n:void 0},n),o.createElement("ul",{role:"group",className:"".concat(a,"-list")},r))};function _o(e){var t=e.children,n=(0,E.Z)(e,go),r=Kr(t,ur(n.eventKey));return lr()?r:o.createElement(mo,(0,Nr.Z)(n,["warnKey"]),r)}function vo(e){var t=e.className,n=e.style,r=o.useContext(or).prefixCls;return lr()?null:o.createElement("li",{className:g()("".concat(r,"-item-divider"),t),style:n})}var bo=po;bo.Item=Vr,bo.SubMenu=co,bo.ItemGroup=_o,bo.Divider=vo;const Eo=bo;function yo(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,s=e.locale,a=e.mobile,l=e.moreIcon,c=void 0===l?"More":l,u=e.moreTransitionName,h=e.style,d=e.className,p=e.editable,f=e.tabBarGutter,m=e.rtl,b=e.removeAriaLabel,E=e.onTabClick,y=e.getPopupContainer,T=e.popupClassName,w=(0,o.useState)(!1),S=(0,v.Z)(w,2),C=S[0],I=S[1],k=(0,o.useState)(null),R=(0,v.Z)(k,2),M=R[0],O=R[1],x="".concat(r,"-more-popup"),A="".concat(n,"-dropdown"),N=null!==M?"".concat(x,"-").concat(M):null,L=null==s?void 0:s.dropdownAriaLabel;var D=o.createElement(Eo,{onClick:function(e){var t=e.key,n=e.domEvent;E(t,n),I(!1)},prefixCls:"".concat(A,"-menu"),id:x,tabIndex:-1,role:"listbox","aria-activedescendant":N,selectedKeys:[M],"aria-label":void 0!==L?L:"expanded dropdown"},i.map((function(e){var t=p&&!1!==e.closable&&!e.disabled;return o.createElement(Vr,{key:e.key,id:"".concat(x,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},o.createElement("span",null,e.label),t&&o.createElement("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(A,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),p.onEdit("remove",{key:r,event:n})}},e.closeIcon||p.removeIcon||"×"))})));function P(e){for(var t=i.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===M}))||0,r=t.length,o=0;o<r;o+=1){var s=t[n=(n+e+r)%r];if(!s.disabled)return void O(s.key)}}(0,o.useEffect)((function(){var e=document.getElementById(N);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[M]),(0,o.useEffect)((function(){C||O(null)}),[C]);var $=(0,_.Z)({},m?"marginRight":"marginLeft",f);i.length||($.visibility="hidden",$.order=1);var B=g()((0,_.Z)({},"".concat(A,"-rtl"),m)),F=a?null:o.createElement(Nn,{prefixCls:A,overlay:D,trigger:["hover"],visible:!!i.length&&C,transitionName:u,onVisibleChange:I,overlayClassName:g()(B,T),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:y},o.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:$,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":x,id:"".concat(r,"-more"),"aria-expanded":C,onKeyDown:function(e){var t=e.which;if(C)switch(t){case In.Z.UP:P(-1),e.preventDefault();break;case In.Z.DOWN:P(1),e.preventDefault();break;case In.Z.ESC:I(!1);break;case In.Z.SPACE:case In.Z.ENTER:null!==M&&E(M,e)}else[In.Z.DOWN,In.Z.SPACE,In.Z.ENTER].includes(t)&&(I(!0),e.preventDefault())}},c));return o.createElement("div",{className:g()("".concat(n,"-nav-operations"),d),style:h,ref:t},F,o.createElement(Ne,{prefixCls:n,locale:s,editable:p}))}const To=o.memo(o.forwardRef(yo),(function(e,t){return t.tabMoving}));const wo=function(e){var t,n=e.prefixCls,r=e.id,i=e.active,s=e.tab,a=s.key,l=s.label,c=s.disabled,u=s.closeIcon,h=e.closable,d=e.renderWrapper,p=e.removeAriaLabel,f=e.editable,m=e.onClick,v=e.onFocus,b=e.style,E="".concat(n,"-tab"),y=f&&!1!==h&&!c;function T(e){c||m(e)}var w=o.createElement("div",{key:a,"data-node-key":a,className:g()(E,(t={},(0,_.Z)(t,"".concat(E,"-with-remove"),y),(0,_.Z)(t,"".concat(E,"-active"),i),(0,_.Z)(t,"".concat(E,"-disabled"),c),t)),style:b,onClick:T},o.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(a),className:"".concat(E,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(a),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),T(e)},onKeyDown:function(e){[In.Z.SPACE,In.Z.ENTER].includes(e.which)&&(e.preventDefault(),T(e))},onFocus:v},l),y&&o.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(E,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),f.onEdit("remove",{key:a,event:t})}},u||f.removeIcon||"×"));return d?d(w):w};var So=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,o=t.offsetHeight;return[r,void 0===o?0:o]},Co=function(e,t){return e[t?0:1]};function Io(e,t){var n,r=o.useContext(R),i=r.prefixCls,a=r.tabs,l=e.className,c=e.style,u=e.id,h=e.animated,d=e.activeKey,p=e.rtl,f=e.extra,b=e.editable,E=e.locale,y=e.tabPosition,w=e.tabBarGutter,S=e.children,C=e.onTabClick,I=e.onTabScroll,k=(0,o.useRef)(),M=(0,o.useRef)(),O=(0,o.useRef)(),x=(0,o.useRef)(),A=(0,o.useRef)(),L=(0,o.useRef)(),D=(0,o.useRef)(),$="top"===y||"bottom"===y,B=Se(0,(function(e,t){$&&I&&I({direction:e>t?"left":"right"})})),F=(0,v.Z)(B,2),U=F[0],G=F[1],j=Se(0,(function(e,t){!$&&I&&I({direction:e>t?"top":"bottom"})})),H=(0,v.Z)(j,2),V=H[0],W=H[1],z=(0,o.useState)([0,0]),Z=(0,v.Z)(z,2),X=Z[0],Y=Z[1],K=(0,o.useState)([0,0]),J=(0,v.Z)(K,2),q=J[0],Q=J[1],ee=(0,o.useState)([0,0]),te=(0,v.Z)(ee,2),ne=te[0],re=te[1],oe=(0,o.useState)([0,0]),ie=(0,v.Z)(oe,2),se=ie[0],ae=ie[1],le=function(e){var t=(0,o.useRef)([]),n=(0,o.useState)({}),r=(0,v.Z)(n,2)[1],i=(0,o.useRef)("function"==typeof e?e():e),s=Me((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,r({})}));return[i.current,function(e){t.current.push(e),s()}]}(new Map),ce=(0,v.Z)(le,2),ue=ce[0],he=ce[1],de=function(e,t,n){return(0,o.useMemo)((function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||we,i=o.left+o.width,a=0;a<e.length;a+=1){var l,c=e[a].key,u=t.get(c);u||(u=t.get(null===(l=e[a-1])||void 0===l?void 0:l.key)||we);var h=r.get(c)||(0,s.Z)({},u);h.right=i-h.left-h.width,r.set(c,h)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(a,ue,q[0]),pe=Co(X,$),fe=Co(q,$),ge=Co(ne,$),me=Co(se,$),_e=pe<fe+ge,ve=_e?pe-me:pe-ge,be="".concat(i,"-nav-operations-hidden"),Ee=0,Ae=0;function De(e){return e<Ee?Ee:e>Ae?Ae:e}$&&p?(Ee=0,Ae=Math.max(0,fe-ve)):(Ee=Math.min(0,ve-fe),Ae=0);var Pe=(0,o.useRef)(),$e=(0,o.useState)(),Be=(0,v.Z)($e,2),Fe=Be[0],Ue=Be[1];function Ge(){Ue(Date.now())}function je(){window.clearTimeout(Pe.current)}!function(e,t){var n=(0,o.useState)(),r=(0,v.Z)(n,2),i=r[0],s=r[1],a=(0,o.useState)(0),l=(0,v.Z)(a,2),c=l[0],u=l[1],h=(0,o.useState)(0),d=(0,v.Z)(h,2),p=d[0],f=d[1],g=(0,o.useState)(),m=(0,v.Z)(g,2),_=m[0],b=m[1],E=(0,o.useRef)(),y=(0,o.useRef)(),T=(0,o.useRef)(null);T.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;s({x:n,y:r}),window.clearInterval(E.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;s({x:r,y:o});var a=r-i.x,l=o-i.y;t(a,l);var h=Date.now();u(h),f(h-c),b({x:a,y:l})}},onTouchEnd:function(){if(i&&(s(null),b(null),_)){var e=_.x/p,n=_.y/p,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<Ce)return;var a=e,l=n;E.current=window.setInterval((function(){Math.abs(a)<Ie&&Math.abs(l)<Ie?window.clearInterval(E.current):t((a*=Re)*ke,(l*=Re)*ke)}),ke)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),s=Math.abs(r);i===s?o="x"===y.current?n:r:i>s?(o=n,y.current="x"):(o=r,y.current="y"),t(-o,-o)&&e.preventDefault()}},o.useEffect((function(){function t(e){T.current.onTouchMove(e)}function n(e){T.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){T.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){T.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(x,(function(e,t){function n(e,t){e((function(e){return De(e+t)}))}return!!_e&&($?n(G,e):n(W,t),je(),Ge(),!0)})),(0,o.useEffect)((function(){return je(),Fe&&(Pe.current=window.setTimeout((function(){Ue(0)}),100)),je}),[Fe]);var He=function(e,t,n,r,i,s,a){var l,c,u,h=a.tabs,d=a.tabPosition,p=a.rtl;return["top","bottom"].includes(d)?(l="width",c=p?"right":"left",u=Math.abs(n)):(l="height",c="top",u=-n),(0,o.useMemo)((function(){if(!h.length)return[0,0];for(var n=h.length,r=n,o=0;o<n;o+=1){var i=e.get(h[o].key)||Oe;if(i[c]+i[l]>u+t){r=o-1;break}}for(var s=0,a=n-1;a>=0;a-=1)if((e.get(h[a].key)||Oe)[c]<u){s=a+1;break}return[s,r]}),[e,t,r,i,s,u,d,h.map((function(e){return e.key})).join("_"),p])}(de,ve,$?U:V,fe,ge,me,(0,s.Z)((0,s.Z)({},e),{},{tabs:a})),Ve=(0,v.Z)(He,2),We=Ve[0],ze=Ve[1],Ze=T((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=de.get(e)||{width:0,height:0,left:0,right:0,top:0};if($){var n=U;p?t.right<U?n=t.right:t.right+t.width>U+ve&&(n=t.right+t.width-ve):t.left<-U?n=-t.left:t.left+t.width>-U+ve&&(n=-(t.left+t.width-ve)),W(0),G(De(n))}else{var r=V;t.top<-V?r=-t.top:t.top+t.height>-V+ve&&(r=-(t.top+t.height-ve)),G(0),W(De(r))}})),Xe={};"top"===y||"bottom"===y?Xe[p?"marginRight":"marginLeft"]=w:Xe.marginTop=w;var Ye=a.map((function(e,t){var n=e.key;return o.createElement(wo,{id:u,prefixCls:i,key:n,tab:e,style:0===t?void 0:Xe,closable:e.closable,editable:b,active:n===d,renderWrapper:S,removeAriaLabel:null==E?void 0:E.removeAriaLabel,onClick:function(e){C(n,e)},onFocus:function(){Ze(n),Ge(),x.current&&(p||(x.current.scrollLeft=0),x.current.scrollTop=0)}})})),Ke=function(){return he((function(){var e=new Map;return a.forEach((function(t){var n,r=t.key,o=null===(n=A.current)||void 0===n?void 0:n.querySelector('[data-node-key="'.concat(r,'"]'));o&&e.set(r,{width:o.offsetWidth,height:o.offsetHeight,left:o.offsetLeft,top:o.offsetTop})})),e}))};(0,o.useEffect)((function(){Ke()}),[a.map((function(e){return e.key})).join("_")]);var Je=Me((function(){var e=So(k),t=So(M),n=So(O);Y([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=So(D);re(r);var o=So(L);ae(o);var i=So(A);Q([i[0]-r[0],i[1]-r[1]]),Ke()})),qe=a.slice(0,We),Qe=a.slice(ze+1),et=[].concat((0,N.Z)(qe),(0,N.Z)(Qe)),tt=(0,o.useState)(),nt=(0,v.Z)(tt,2),rt=nt[0],ot=nt[1],it=de.get(d),st=(0,o.useRef)();function at(){Te.Z.cancel(st.current)}(0,o.useEffect)((function(){var e={};return it&&($?(p?e.right=it.right:e.left=it.left,e.width=it.width):(e.top=it.top,e.height=it.height)),at(),st.current=(0,Te.Z)((function(){ot(e)})),at}),[it,$,p]),(0,o.useEffect)((function(){Ze()}),[d,Ee,Ae,xe(it),xe(de),$]),(0,o.useEffect)((function(){Je()}),[p]);var lt,ct,ut,ht,dt=!!et.length,pt="".concat(i,"-nav-wrap");return $?p?(ct=U>0,lt=U!==Ae):(lt=U<0,ct=U!==Ee):(ut=V<0,ht=V!==Ee),o.createElement(ye,{onResize:Je},o.createElement("div",{ref:(0,P.x1)(t,k),role:"tablist",className:g()("".concat(i,"-nav"),l),style:c,onKeyDown:function(){Ge()}},o.createElement(Le,{ref:M,position:"left",extra:f,prefixCls:i}),o.createElement("div",{className:g()(pt,(n={},(0,_.Z)(n,"".concat(pt,"-ping-left"),lt),(0,_.Z)(n,"".concat(pt,"-ping-right"),ct),(0,_.Z)(n,"".concat(pt,"-ping-top"),ut),(0,_.Z)(n,"".concat(pt,"-ping-bottom"),ht),n)),ref:x},o.createElement(ye,{onResize:Je},o.createElement("div",{ref:A,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(U,"px, ").concat(V,"px)"),transition:Fe?"none":void 0}},Ye,o.createElement(Ne,{ref:D,prefixCls:i,locale:E,editable:b,style:(0,s.Z)((0,s.Z)({},0===Ye.length?void 0:Xe),{},{visibility:dt?"hidden":null})}),o.createElement("div",{className:g()("".concat(i,"-ink-bar"),(0,_.Z)({},"".concat(i,"-ink-bar-animated"),h.inkBar)),style:rt})))),o.createElement(To,(0,m.Z)({},e,{removeAriaLabel:null==E?void 0:E.removeAriaLabel,ref:L,prefixCls:i,tabs:et,className:!dt&&be,tabMoving:!!Fe})),o.createElement(Le,{ref:O,position:"right",extra:f,prefixCls:i})))}const ko=o.forwardRef(Io);var Ro=["renderTabBar"],Mo=["label","key"];function Oo(e){var t=e.renderTabBar,n=(0,E.Z)(e,Ro),r=o.useContext(R).tabs;return t?t((0,s.Z)((0,s.Z)({},n),{},{panes:r.map((function(e){var t=e.label,n=e.key,r=(0,E.Z)(e,Mo);return o.createElement(O,(0,m.Z)({tab:t,key:n,tabKey:n},r))}))}),ko):o.createElement(ko,n)}var xo=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Ao=0;function No(e,t){var n,r=e.id,i=e.prefixCls,a=void 0===i?"rc-tabs":i,l=e.className,c=e.items,u=e.direction,h=e.activeKey,d=e.defaultActiveKey,p=e.editable,f=e.animated,T=e.tabPosition,w=void 0===T?"top":T,S=e.tabBarGutter,C=e.tabBarStyle,k=e.tabBarExtraContent,M=e.locale,O=e.moreIcon,x=e.moreTransitionName,N=e.destroyInactiveTabPane,L=e.renderTabBar,D=e.onChange,P=e.onTabClick,$=e.onTabScroll,B=e.getPopupContainer,F=e.popupClassName,U=(0,E.Z)(e,xo),G=o.useMemo((function(){return(c||[]).filter((function(e){return e&&"object"===(0,b.Z)(e)&&"key"in e}))}),[c]),j="rtl"===u,H=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:(0,s.Z)({inkBar:!0},"object"===(0,b.Z)(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(f),V=(0,o.useState)(!1),W=(0,v.Z)(V,2),z=W[0],Z=W[1];(0,o.useEffect)((function(){Z(y())}),[]);var X=I((function(){var e;return null===(e=G[0])||void 0===e?void 0:e.key}),{value:h,defaultValue:d}),Y=(0,v.Z)(X,2),K=Y[0],J=Y[1],q=(0,o.useState)((function(){return G.findIndex((function(e){return e.key===K}))})),Q=(0,v.Z)(q,2),ee=Q[0],te=Q[1];(0,o.useEffect)((function(){var e,t=G.findIndex((function(e){return e.key===K}));-1===t&&(t=Math.max(0,Math.min(ee,G.length-1)),J(null===(e=G[t])||void 0===e?void 0:e.key));te(t)}),[G.map((function(e){return e.key})).join("_"),K,ee]);var ne=I(null,{value:r}),re=(0,v.Z)(ne,2),oe=re[0],ie=re[1];(0,o.useEffect)((function(){r||(ie("rc-tabs-".concat(Ao)),Ao+=1)}),[]);var se={id:oe,activeKey:K,animated:H,tabPosition:w,rtl:j,mobile:z},ae=(0,s.Z)((0,s.Z)({},se),{},{editable:p,locale:M,moreIcon:O,moreTransitionName:x,tabBarGutter:S,onTabClick:function(e,t){null==P||P(e,t);var n=e!==K;J(e),n&&(null==D||D(e))},onTabScroll:$,extra:k,style:C,panes:null,getPopupContainer:B,popupClassName:F});return o.createElement(R.Provider,{value:{tabs:G,prefixCls:a}},o.createElement("div",(0,m.Z)({ref:t,id:r,className:g()(a,"".concat(a,"-").concat(w),(n={},(0,_.Z)(n,"".concat(a,"-mobile"),z),(0,_.Z)(n,"".concat(a,"-editable"),p),(0,_.Z)(n,"".concat(a,"-rtl"),j),n),l)},U),undefined,o.createElement(Oo,(0,m.Z)({},ae,{renderTabBar:L})),o.createElement(A,(0,m.Z)({destroyInactiveTabPane:N},se,{animated:H}))))}const Lo=o.forwardRef(No);var Do=n(8444),Po=n(6722),$o=n(1485);const Bo={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Fo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Uo=()=>null;var Go=n(6911),jo=n(9626),Ho=n(1637),Vo=n(6473),Wo=n(2701);const zo=new Vo.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Zo=new Vo.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Xo=new Vo.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Yo=new Vo.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Ko=new Vo.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Jo=new Vo.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),qo=new Vo.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Qo=new Vo.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ei={"slide-up":{inKeyframes:zo,outKeyframes:Zo},"slide-down":{inKeyframes:Xo,outKeyframes:Yo},"slide-left":{inKeyframes:Ko,outKeyframes:Jo},"slide-right":{inKeyframes:qo,outKeyframes:Qo}},ti=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=ei[t];return[(0,Wo.R)(r,o,i,e.motionDurationMid),{[`\n      ${r}-enter,\n      ${r}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},ni=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[ti(e,"slide-up"),ti(e,"slide-down")]]},ri=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeadBackground:r,tabsCardGutter:o,colorSplit:i}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${e.lineWidth}px ${e.lineType} ${i}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${o}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${o}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},oi=e=>{const{componentCls:t,tabsHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,Ho.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Ho.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},ii=e=>{const{componentCls:t,margin:n,colorSplit:r}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${n}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:1.25*e.controlHeight,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},si=e=>{const{componentCls:t,padding:n}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${n}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${1.5*e.paddingXXS}px ${n}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${n}px ${1.5*e.paddingXXS}px`}}}}}},ai=e=>{const{componentCls:t,tabsActiveColor:n,tabsHoverColor:r,iconCls:o,tabsHorizontalGutter:i}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},(0,Ho.Qy)(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${o}`]:{margin:0},[o]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${i}px`}}}},li=e=>{const{componentCls:t,tabsHorizontalGutter:n,iconCls:r,tabsCardGutter:o}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${n}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${o}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},ci=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeight:r,tabsCardGutter:o,tabsHoverColor:i,tabsActiveColor:s,colorSplit:a}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ho.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${o}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${a}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:i},"&:active, &:focus:not(:focus-visible)":{color:s}},(0,Ho.Qy)(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),ai(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},ui=(0,Go.Z)("Tabs",(e=>{const t=e.controlHeightLG,n=(0,jo.TS)(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[si(n),li(n),ii(n),oi(n),ri(n),ci(n),ni(n)]}),(e=>({zIndexPopup:e.zIndexPopupBase+50})));var hi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function di(e){var{type:t,className:n,rootClassName:r,size:s,onEdit:a,hideAdd:l,centered:c,addIcon:h,popupClassName:d,children:f,items:m,animated:_}=e,v=hi(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]);const{prefixCls:b,moreIcon:E=o.createElement(u,null)}=v,{direction:y,getPrefixCls:T,getPopupContainer:w}=o.useContext(Do.E_),S=T("tabs",b),[C,I]=ui(S);let k;"editable-card"===t&&(k={onEdit:(e,t)=>{let{key:n,event:r}=t;null==a||a("add"===e?r:n,e)},removeIcon:o.createElement(i.Z,null),addIcon:h||o.createElement(p,null),showAdd:!0!==l});const R=T(),M=function(e,t){return e||function(e){return e.filter((e=>e))}((0,L.Z)(t).map((e=>{if(o.isValidElement(e)){const{key:t,props:n}=e,r=n||{},{tab:o}=r,i=Fo(r,["tab"]);return Object.assign(Object.assign({key:String(t)},i),{label:o})}return null})))}(m,f),O=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"==typeof n?n:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},Bo),{motionName:(0,$o.mL)(e,"switch")})),t}(S,_),x=o.useContext(Po.Z),A=void 0!==s?s:x;return C(o.createElement(Lo,Object.assign({direction:y,getPopupContainer:w,moreTransitionName:`${R}-slide-up`},v,{items:M,className:g()({[`${S}-${A}`]:A,[`${S}-card`]:["card","editable-card"].includes(t),[`${S}-editable-card`]:"editable-card"===t,[`${S}-centered`]:c},n,r,I),popupClassName:g()(d,I),editable:k,moreIcon:E,prefixCls:S,animated:O})))}di.TabPane=Uo;const pi=di;const fi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};var gi=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:fi}))};gi.displayName="DoubleLeftOutlined";const mi=o.forwardRef(gi);const _i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var vi=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:_i}))};vi.displayName="DoubleRightOutlined";const bi=o.forwardRef(vi);const Ei={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var yi=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Ei}))};yi.displayName="LeftOutlined";const Ti=o.forwardRef(yi);const wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var Si=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:wi}))};Si.displayName="RightOutlined";const Ci=o.forwardRef(Si);const Ii=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=g()(n,"".concat(n,"-").concat(e.page),(t={},(0,_.Z)(t,"".concat(n,"-active"),e.active),(0,_.Z)(t,"".concat(n,"-disabled"),!e.page),(0,_.Z)(t,e.className,!!e.className),t));return o.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",o.createElement("a",{rel:"nofollow"},e.page)))},ki={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};var Ri=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(){var e;(0,ue.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,o=n.quickGo,i=n.rootPrefixCls,s=e.state.goInputText;r||""===s||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||o(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==ki.ENTER&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,he.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,s=t.changeSize,a=t.quickGo,l=t.goButton,c=t.selectComponentClass,u=t.buildOptionText,h=t.selectPrefixCls,d=t.disabled,p=this.state.goInputText,f="".concat(i,"-options"),g=c,m=null,_=null,v=null;if(!s&&!a)return null;var b=this.getPageSizeOptions();if(s&&g){var E=b.map((function(t,n){return o.createElement(g.Option,{key:n,value:t.toString()},(u||e.buildOptionText)(t))}));m=o.createElement(g,{disabled:d,prefixCls:h,showSearch:!1,className:"".concat(f,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},E)}return a&&(l&&(v="boolean"==typeof l?o.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:d,className:"".concat(f,"-quick-jumper-button")},r.jump_to_confirm):o.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),_=o.createElement("div",{className:"".concat(f,"-quick-jumper")},r.jump_to,o.createElement("input",{disabled:d,type:"text",value:p,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,v)),o.createElement("li",{className:"".concat(f)},m,_)}}]),n}(o.Component);Ri.defaultProps={pageSizeOptions:["10","20","50","100"]};const Mi=Ri;function Oi(){}function xi(e){var t=Number(e);return"number"==typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Ai(e,t,n){var r=void 0===e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var Ni=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(e){var r;(0,ue.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Ai(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||o.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"==typeof e&&(i=o.createElement(e,(0,s.Z)({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return xi(e)&&e!==r.state.current&&xi(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==ki.ARROW_UP&&e.keyCode!==ki.ARROW_DOWN||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===ki.ENTER?r.handleChange(t):e.keyCode===ki.ARROW_UP?r.handleChange(t-1):e.keyCode===ki.ARROW_DOWN&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=Ai(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"==typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props,n=t.disabled,o=t.onChange,i=r.state,s=i.pageSize,a=i.current,l=i.currentInputValue;if(r.isValid(e)&&!n){var c=Ai(void 0,r.state,r.props),u=e;return e>c?u=c:e<1&&(u=1),"current"in r.props||r.setState({current:u}),u!==l&&r.setState({currentInputValue:u}),o(u,s),u}return a},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Ai(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==ki.ENTER&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==Oi;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var a=e.defaultCurrent;"current"in e&&(a=e.current);var l=e.defaultPageSize;return"pageSize"in e&&(l=e.pageSize),a=Math.min(a,Ai(l,void 0,e)),r.state={current:a,currentInputValue:a,pageSize:l},r}return(0,he.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=Ai(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,o.isValidElement)(r)?(0,o.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,o.isValidElement)(r)?(0,o.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.style,s=t.disabled,a=t.hideOnSinglePage,l=t.total,c=t.locale,u=t.showQuickJumper,h=t.showLessItems,d=t.showTitle,p=t.showTotal,f=t.simple,v=t.itemRender,b=t.showPrevNextJumpers,E=t.jumpPrevIcon,y=t.jumpNextIcon,T=t.selectComponentClass,w=t.selectPrefixCls,S=t.pageSizeOptions,C=this.state,I=C.current,k=C.pageSize,R=C.currentInputValue;if(!0===a&&l<=k)return null;var M=Ai(void 0,this.state,this.props),O=[],x=null,A=null,N=null,L=null,D=null,P=u&&u.goButton,$=h?1:2,B=I-1>0?I-1:0,F=I+1<M?I+1:M,U=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),G=p&&o.createElement("li",{className:"".concat(n,"-total-text")},p(l,[0===l?0:(I-1)*k+1,I*k>l?l:I*k]));if(f)return P&&(D="boolean"==typeof P?o.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):o.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},P),D=o.createElement("li",{title:d?"".concat(c.jump_to).concat(I,"/").concat(M):null,className:"".concat(n,"-simple-pager")},D)),o.createElement("ul",(0,m.Z)({className:g()(n,"".concat(n,"-simple"),(0,_.Z)({},"".concat(n,"-disabled"),s),r),style:i,ref:this.savePaginationNode},U),G,o.createElement("li",{title:d?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:g()("".concat(n,"-prev"),(0,_.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(B)),o.createElement("li",{title:d?"".concat(I,"/").concat(M):null,className:"".concat(n,"-simple-pager")},o.createElement("input",{type:"text",value:R,disabled:s,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),o.createElement("span",{className:"".concat(n,"-slash")},"/"),M),o.createElement("li",{title:d?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:g()("".concat(n,"-next"),(0,_.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(F)),D);if(M<=3+2*$){var j={locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:d,itemRender:v};M||O.push(o.createElement(Ii,(0,m.Z)({},j,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var H=1;H<=M;H+=1){var V=I===H;O.push(o.createElement(Ii,(0,m.Z)({},j,{key:H,page:H,active:V})))}}else{var W=h?c.prev_3:c.prev_5,z=h?c.next_3:c.next_5;b&&(x=o.createElement("li",{title:d?W:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:g()("".concat(n,"-jump-prev"),(0,_.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!E))},v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(E,"prev page"))),A=o.createElement("li",{title:d?z:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:g()("".concat(n,"-jump-next"),(0,_.Z)({},"".concat(n,"-jump-next-custom-icon"),!!y))},v(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page")))),L=o.createElement(Ii,{locale:c,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:M,page:M,active:!1,showTitle:d,itemRender:v}),N=o.createElement(Ii,{locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:d,itemRender:v});var Z=Math.max(1,I-$),X=Math.min(I+$,M);I-1<=$&&(X=1+2*$),M-I<=$&&(Z=M-2*$);for(var Y=Z;Y<=X;Y+=1){var K=I===Y;O.push(o.createElement(Ii,{locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Y,page:Y,active:K,showTitle:d,itemRender:v}))}I-1>=2*$&&3!==I&&(O[0]=(0,o.cloneElement)(O[0],{className:"".concat(n,"-item-after-jump-prev")}),O.unshift(x)),M-I>=2*$&&I!==M-2&&(O[O.length-1]=(0,o.cloneElement)(O[O.length-1],{className:"".concat(n,"-item-before-jump-next")}),O.push(A)),1!==Z&&O.unshift(N),X!==M&&O.push(L)}var J=!this.hasPrev()||!M,q=!this.hasNext()||!M;return o.createElement("ul",(0,m.Z)({className:g()(n,r,(0,_.Z)({},"".concat(n,"-disabled"),s)),style:i,ref:this.savePaginationNode},U),G,o.createElement("li",{title:d?c.prev_page:null,onClick:this.prev,tabIndex:J?null:0,onKeyPress:this.runIfEnterPrev,className:g()("".concat(n,"-prev"),(0,_.Z)({},"".concat(n,"-disabled"),J)),"aria-disabled":J},this.renderPrev(B)),O,o.createElement("li",{title:d?c.next_page:null,onClick:this.next,tabIndex:q?null:0,onKeyPress:this.runIfEnterNext,className:g()("".concat(n,"-next"),(0,_.Z)({},"".concat(n,"-disabled"),q)),"aria-disabled":q},this.renderNext(F)),o.createElement(Mi,{disabled:s,locale:c,rootPrefixCls:n,selectComponentClass:T,selectPrefixCls:w,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:I,pageSize:k,pageSizeOptions:S,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:P}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,o=Ai(e.pageSize,t,e);r=r>o?o:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(o.Component);Ni.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Oi,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Oi,locale:{items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};const Li=Ni;var Di=n(7033);var Pi=n(7463);const $i=["xxl","xl","lg","md","sm","xs"],Bi=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),Fi=e=>{const t=e,n=[].concat($i).reverse();return n.forEach(((e,r)=>{const o=e.toUpperCase(),i=`screen${o}Min`,s=`screen${o}`;if(!(t[i]<=t[s]))throw new Error(`${i}<=${s} fails : !(${t[i]}<=${t[s]})`);if(r<n.length-1){const e=`screen${o}Max`;if(!(t[s]<=t[e]))throw new Error(`${s}<=${e} fails : !(${t[s]}<=${t[e]})`);const i=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[i]))throw new Error(`${e}<=${i} fails : !(${t[e]}<=${t[i]})`)}})),e};const Ui=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,o.useRef)({}),n=function(){const[,e]=o.useReducer((e=>e+1),0);return e}(),r=function(){const[,e]=(0,Pi.dQ)(),t=Bi(Fi(e));return o.useMemo((()=>{const e=new Map;let n=-1,r={};return{matchHandlers:{},dispatch:t=>(r=t,e.forEach((e=>e(r))),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(r),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(t).forEach((e=>{const n=t[e],r=this.matchHandlers[n];null==r||r.mql.removeListener(null==r?void 0:r.listener)})),e.clear()},register(){Object.keys(t).forEach((e=>{const n=t[e],o=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},r),{[e]:n}))},i=window.matchMedia(n);i.addListener(o),this.matchHandlers[n]={mql:i,listener:o},o(i)}))},responsiveMap:t}}),[e])}();return(0,o.useEffect)((()=>{const o=r.subscribe((r=>{t.current=r,e&&n()}));return()=>r.unsubscribe(o)}),[]),t.current};var Gi=n(1613),ji=o.createContext(null);function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=o.useRef(null),n=o.useRef(null);return o.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}]}var Vi=n(211);const Wi=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,s=e.onMouseDown,a=e.onClick,l=e.children;return t="function"==typeof r?r(i):r,o.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),s&&s(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:o.createElement("span",{className:g()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))};var zi=function(e,t){var n,r,i=e.prefixCls,a=e.id,l=e.inputElement,c=e.disabled,u=e.tabIndex,h=e.autoFocus,d=e.autoComplete,p=e.editable,f=e.activeDescendantId,m=e.value,_=e.maxLength,v=e.onKeyDown,b=e.onMouseDown,E=e.onChange,y=e.onPaste,T=e.onCompositionStart,w=e.onCompositionEnd,S=e.open,C=e.attrs,I=l||o.createElement("input",null),k=I,R=k.ref,M=k.props,O=M.onKeyDown,x=M.onChange,A=M.onMouseDown,N=M.onCompositionStart,L=M.onCompositionEnd,$=M.style;return(0,D.Kp)(!("maxLength"in I.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),I=o.cloneElement(I,(0,s.Z)((0,s.Z)((0,s.Z)({type:"search"},M),{},{id:a,ref:(0,P.sQ)(t,R),disabled:c,tabIndex:u,autoComplete:d||"off",autoFocus:h,className:g()("".concat(i,"-selection-search-input"),null===(n=I)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":f},C),{},{value:p?m:"",maxLength:_,readOnly:!p,unselectable:p?null:"on",style:(0,s.Z)((0,s.Z)({},$),{},{opacity:p?null:0}),onKeyDown:function(e){v(e),O&&O(e)},onMouseDown:function(e){b(e),A&&A(e)},onChange:function(e){E(e),x&&x(e)},onCompositionStart:function(e){T(e),N&&N(e)},onCompositionEnd:function(e){w(e),L&&L(e)},onPaste:y}))},Zi=o.forwardRef(zi);Zi.displayName="Input";const Xi=Zi;function Yi(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Ki="undefined"!=typeof window&&window.document&&window.document.documentElement;function Ji(e){return["string","number"].includes((0,b.Z)(e))}function qi(e){var t=void 0;return e&&(Ji(e.title)?t=e.title.toString():Ji(e.label)&&(t=e.label.toString())),t}function Qi(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var es=function(e){e.preventDefault(),e.stopPropagation()};const ts=function(e){var t,n,r=e.id,i=e.prefixCls,s=e.values,a=e.open,l=e.searchValue,c=e.autoClearSearchValue,u=e.inputRef,h=e.placeholder,d=e.disabled,p=e.mode,f=e.showSearch,m=e.autoFocus,b=e.autoComplete,E=e.activeDescendantId,y=e.tabIndex,T=e.removeIcon,w=e.maxTagCount,S=e.maxTagTextLength,C=e.maxTagPlaceholder,I=void 0===C?function(e){return"+ ".concat(e.length," ...")}:C,k=e.tagRender,R=e.onToggleOpen,M=e.onRemove,O=e.onInputChange,x=e.onInputPaste,A=e.onInputKeyDown,N=e.onInputMouseDown,L=e.onInputCompositionStart,D=e.onInputCompositionEnd,P=o.useRef(null),$=(0,o.useState)(0),B=(0,v.Z)($,2),F=B[0],U=B[1],G=(0,o.useState)(!1),j=(0,v.Z)(G,2),H=j[0],V=j[1],W="".concat(i,"-selection"),z=a||"multiple"===p&&!1===c||"tags"===p?l:"",Z="tags"===p||"multiple"===p&&!1===c||f&&(a||H);function X(e,t,n,r,i){return o.createElement("span",{className:g()("".concat(W,"-item"),(0,_.Z)({},"".concat(W,"-item-disabled"),n)),title:qi(e)},o.createElement("span",{className:"".concat(W,"-item-content")},t),r&&o.createElement(Wi,{className:"".concat(W,"-item-remove"),onMouseDown:es,onClick:i,customizeIcon:T},"×"))}t=function(){U(P.current.scrollWidth)},n=[z],Ki?o.useLayoutEffect(t,n):o.useEffect(t,n);var Y=o.createElement("div",{className:"".concat(W,"-search"),style:{width:F},onFocus:function(){V(!0)},onBlur:function(){V(!1)}},o.createElement(Xi,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:d,autoFocus:m,autoComplete:b,editable:Z,activeDescendantId:E,value:z,onKeyDown:A,onMouseDown:N,onChange:O,onPaste:x,onCompositionStart:L,onCompositionEnd:D,tabIndex:y,attrs:(0,Vi.Z)(e,!0)}),o.createElement("span",{ref:P,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},z," ")),K=o.createElement(qn,{prefixCls:"".concat(W,"-overflow"),data:s,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!d&&!t,s=n;if("number"==typeof S&&("string"==typeof n||"number"==typeof n)){var l=String(s);l.length>S&&(s="".concat(l.slice(0,S),"..."))}var c=function(t){t&&t.stopPropagation(),M(e)};return"function"==typeof k?function(e,t,n,r,i){return o.createElement("span",{onMouseDown:function(e){es(e),R(!a)}},k({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,s,t,i,c):X(e,s,t,i,c)},renderRest:function(e){var t="function"==typeof I?I(e):I;return X({title:t},t,!1)},suffix:Y,itemKey:Qi,maxCount:w});return o.createElement(o.Fragment,null,K,!s.length&&!z&&o.createElement("span",{className:"".concat(W,"-placeholder")},h))};const ns=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,h=e.open,d=e.values,p=e.placeholder,f=e.tabIndex,g=e.showSearch,m=e.searchValue,_=e.activeValue,b=e.maxLength,E=e.onInputKeyDown,y=e.onInputMouseDown,T=e.onInputChange,w=e.onInputPaste,S=e.onInputCompositionStart,C=e.onInputCompositionEnd,I=o.useState(!1),k=(0,v.Z)(I,2),R=k[0],M=k[1],O="combobox"===u,x=O||g,A=d[0],N=m||"";O&&_&&!R&&(N=_),o.useEffect((function(){O&&M(!1)}),[O,_]);var L=!("combobox"!==u&&!h&&!g)&&!!N,D=qi(A);return o.createElement(o.Fragment,null,o.createElement("span",{className:"".concat(n,"-selection-search")},o.createElement(Xi,{ref:i,prefixCls:n,id:r,open:h,inputElement:t,disabled:s,autoFocus:a,autoComplete:l,editable:x,activeDescendantId:c,value:N,onKeyDown:E,onMouseDown:y,onChange:function(e){M(!0),T(e)},onPaste:w,onCompositionStart:S,onCompositionEnd:C,tabIndex:f,attrs:(0,Vi.Z)(e,!0),maxLength:O?b:void 0})),!O&&A&&!L&&o.createElement("span",{className:"".concat(n,"-selection-item"),title:D},A.label),function(){if(A)return null;var e=L?{visibility:"hidden"}:void 0;return o.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},p)}())};var rs=function(e,t){var n=(0,o.useRef)(null),r=(0,o.useRef)(!1),i=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,h=e.onSearch,d=e.onSearchSubmit,p=e.onToggleOpen,f=e.onInputKeyDown,g=e.domRef;o.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var _=Hi(0),b=(0,v.Z)(_,2),E=b[0],y=b[1],T=(0,o.useRef)(null),w=function(e){!1!==h(e,!0,r.current)&&p(!0)},S={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==In.Z.UP&&n!==In.Z.DOWN||e.preventDefault(),f&&f(e),n!==In.Z.ENTER||"tags"!==a||r.current||s||null==d||d(e.target.value),t=n,[In.Z.ESC,In.Z.SHIFT,In.Z.BACKSPACE,In.Z.TAB,In.Z.WIN_KEY,In.Z.ALT,In.Z.META,In.Z.WIN_KEY_RIGHT,In.Z.CTRL,In.Z.SEMICOLON,In.Z.EQUALS,In.Z.CAPS_LOCK,In.Z.CONTEXT_MENU,In.Z.F1,In.Z.F2,In.Z.F3,In.Z.F4,In.Z.F5,In.Z.F6,In.Z.F7,In.Z.F8,In.Z.F9,In.Z.F10,In.Z.F11,In.Z.F12].includes(t)||p(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(c&&T.current&&/[\r\n]/.test(T.current)){var n=T.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,T.current)}T.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");T.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&w(e.target.value)}},C="multiple"===a||"tags"===a?o.createElement(ts,(0,m.Z)({},e,S)):o.createElement(ns,(0,m.Z)({},e,S));return o.createElement("div",{ref:g,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=E();e.target===n.current||t||"combobox"===a||e.preventDefault(),("combobox"===a||l&&t)&&s||(s&&!1!==u&&h("",!0,!1),p())}},C)},os=o.forwardRef(rs);os.displayName="Selector";const is=os;var ss=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],as=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,a=e.popupElement,l=e.containerWidth,c=e.animation,u=e.transitionName,h=e.dropdownStyle,d=e.dropdownClassName,p=e.direction,f=void 0===p?"ltr":p,v=e.placement,b=e.dropdownMatchSelectWidth,y=e.dropdownRender,T=e.dropdownAlign,w=e.getPopupContainer,S=e.empty,C=e.getTriggerDOMNode,I=e.onPopupVisibleChange,k=e.onPopupMouseEnter,R=(0,E.Z)(e,ss),M="".concat(n,"-dropdown"),O=a;y&&(O=y(a));var x=o.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(b)}),[b]),A=c?"".concat(M,"-").concat(c):u,N=o.useRef(null);o.useImperativeHandle(t,(function(){return{getPopupElement:function(){return N.current}}}));var L=(0,s.Z)({minWidth:l},h);return"number"==typeof b?L.width=b:b&&(L.width=l),o.createElement(En,(0,m.Z)({},R,{showAction:I?["click"]:[],hideAction:I?["click"]:[],popupPlacement:v||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:x,prefixCls:M,popupTransitionName:A,popup:o.createElement("div",{ref:N,onMouseEnter:k},O),popupAlign:T,popupVisible:r,getPopupContainer:w,popupClassName:g()(d,(0,_.Z)({},"".concat(M,"-empty"),S)),popupStyle:L,getTriggerDOMNode:C,onPopupVisibleChange:I}),i)},ls=o.forwardRef(as);ls.displayName="SelectTrigger";const cs=ls;var us=n(3323);function hs(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function ds(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function ps(e){var t=(0,s.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,D.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var fs=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],gs=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function ms(e){return"tags"===e||"multiple"===e}var _s=o.forwardRef((function(e,t){var n,r,i=e.id,a=e.prefixCls,l=e.className,c=e.showSearch,u=e.tagRender,h=e.direction,d=e.omitDomProps,p=e.displayValues,f=e.onDisplayValuesChange,T=e.emptyOptions,S=e.notFoundContent,C=void 0===S?"Not Found":S,k=e.onClear,R=e.mode,M=e.disabled,O=e.loading,x=e.getInputElement,A=e.getRawInputElement,L=e.open,D=e.defaultOpen,$=e.onDropdownVisibleChange,B=e.activeValue,F=e.onActiveValueChange,U=e.activeDescendantId,G=e.searchValue,j=e.autoClearSearchValue,H=e.onSearch,V=e.onSearchSplit,W=e.tokenSeparators,z=e.allowClear,Z=e.showArrow,X=e.inputIcon,Y=e.clearIcon,K=e.OptionList,J=e.animation,q=e.transitionName,Q=e.dropdownStyle,ee=e.dropdownClassName,te=e.dropdownMatchSelectWidth,ne=e.dropdownRender,re=e.dropdownAlign,oe=e.placement,ie=e.getPopupContainer,se=e.showAction,ae=void 0===se?[]:se,le=e.onFocus,ce=e.onBlur,ue=e.onKeyUp,he=e.onKeyDown,de=e.onMouseDown,pe=(0,E.Z)(e,fs),fe=ms(R),ge=(void 0!==c?c:fe)||"combobox"===R,me=(0,s.Z)({},pe);gs.forEach((function(e){delete me[e]})),null==d||d.forEach((function(e){delete me[e]}));var _e=o.useState(!1),ve=(0,v.Z)(_e,2),be=ve[0],Ee=ve[1];o.useEffect((function(){Ee(y())}),[]);var ye=o.useRef(null),Te=o.useRef(null),we=o.useRef(null),Se=o.useRef(null),Ce=o.useRef(null),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=o.useState(!1),n=(0,v.Z)(t,2),r=n[0],i=n[1],s=o.useRef(null),a=function(){window.clearTimeout(s.current)};return o.useEffect((function(){return a}),[]),[r,function(t,n){a(),s.current=window.setTimeout((function(){i(t),n&&n()}),e)},a]}(),ke=(0,v.Z)(Ie,3),Re=ke[0],Me=ke[1],Oe=ke[2];o.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=Se.current)||void 0===e?void 0:e.focus,blur:null===(t=Se.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Ce.current)||void 0===t?void 0:t.scrollTo(e)}}}));var xe=o.useMemo((function(){var e;if("combobox"!==R)return G;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[G,R,p]),Ae="combobox"===R&&"function"==typeof x&&x()||null,Ne="function"==typeof A&&A(),Le=(0,P.x1)(Te,null==Ne||null===(n=Ne.props)||void 0===n?void 0:n.ref),De=I(void 0,{defaultValue:D,value:L}),Pe=(0,v.Z)(De,2),$e=Pe[0],Be=Pe[1],Fe=$e,Ue=!C&&T;(M||Ue&&Fe&&"combobox"===R)&&(Fe=!1);var Ge=!Ue&&Fe,je=o.useCallback((function(e){var t=void 0!==e?e:!Fe;M||(Be(t),Fe!==t&&(null==$||$(t)))}),[M,Fe,Be,$]),He=o.useMemo((function(){return(W||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[W]),Ve=function(e,t,n){var r=!0,o=e;null==F||F(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=(0,us.Z)(r),i=o[0],s=o.slice(1);if(!i)return[t];var a=t.split(i);return n=n||a.length>1,a.reduce((function(t,n){return[].concat((0,N.Z)(t),(0,N.Z)(e(n,s)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,W);return"combobox"!==R&&i&&(o="",null==V||V(i),je(!1),r=!1),H&&xe!==o&&H(o,{source:t?"typing":"effect"}),r};o.useEffect((function(){Fe||fe||"combobox"===R||Ve("",!1,!1)}),[Fe]),o.useEffect((function(){$e&&M&&Be(!1),M&&Me(!1)}),[M]);var We=Hi(),ze=(0,v.Z)(We,2),Ze=ze[0],Xe=ze[1],Ye=o.useRef(!1),Ke=[];o.useEffect((function(){return function(){Ke.forEach((function(e){return clearTimeout(e)})),Ke.splice(0,Ke.length)}}),[]);var Je,qe=o.useState(null),Qe=(0,v.Z)(qe,2),et=Qe[0],tt=Qe[1],nt=o.useState({}),rt=(0,v.Z)(nt,2)[1];(0,w.Z)((function(){if(Ge){var e,t=Math.ceil(null===(e=ye.current)||void 0===e?void 0:e.offsetWidth);et===t||Number.isNaN(t)||tt(t)}}),[Ge]),Ne&&(Je=function(e){je(e)}),function(e,t,n,r){var i=o.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},o.useEffect((function(){function t(t){var n;if(null===(n=i.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),i.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ye.current,null===(e=we.current)||void 0===e?void 0:e.getPopupElement()]}),Ge,je,!!Ne);var ot,it,st=o.useMemo((function(){return(0,s.Z)((0,s.Z)({},e),{},{notFoundContent:C,open:Fe,triggerOpen:Ge,id:i,showSearch:ge,multiple:fe,toggleOpen:je})}),[e,C,Ge,Fe,i,ge,fe,je]),at=void 0!==Z?Z:O||!fe&&"combobox"!==R;at&&(ot=o.createElement(Wi,{className:g()("".concat(a,"-arrow"),(0,_.Z)({},"".concat(a,"-arrow-loading"),O)),customizeIcon:X,customizeIconProps:{loading:O,searchValue:xe,open:Fe,focused:Re,showSearch:ge}}));M||!z||!p.length&&!xe||"combobox"===R&&""===xe||(it=o.createElement(Wi,{className:"".concat(a,"-clear"),onMouseDown:function(){var e;null==k||k(),null===(e=Se.current)||void 0===e||e.focus(),f([],{type:"clear",values:p}),Ve("",!1,!1)},customizeIcon:Y},"×"));var lt,ct=o.createElement(K,{ref:Ce}),ut=g()(a,l,(r={},(0,_.Z)(r,"".concat(a,"-focused"),Re),(0,_.Z)(r,"".concat(a,"-multiple"),fe),(0,_.Z)(r,"".concat(a,"-single"),!fe),(0,_.Z)(r,"".concat(a,"-allow-clear"),z),(0,_.Z)(r,"".concat(a,"-show-arrow"),at),(0,_.Z)(r,"".concat(a,"-disabled"),M),(0,_.Z)(r,"".concat(a,"-loading"),O),(0,_.Z)(r,"".concat(a,"-open"),Fe),(0,_.Z)(r,"".concat(a,"-customize-input"),Ae),(0,_.Z)(r,"".concat(a,"-show-search"),ge),r)),ht=o.createElement(cs,{ref:we,disabled:M,prefixCls:a,visible:Ge,popupElement:ct,containerWidth:et,animation:J,transitionName:q,dropdownStyle:Q,dropdownClassName:ee,direction:h,dropdownMatchSelectWidth:te,dropdownRender:ne,dropdownAlign:re,placement:oe,getPopupContainer:ie,empty:T,getTriggerDOMNode:function(){return Te.current},onPopupVisibleChange:Je,onPopupMouseEnter:function(){rt({})}},Ne?o.cloneElement(Ne,{ref:Le}):o.createElement(is,(0,m.Z)({},e,{domRef:Te,prefixCls:a,inputElement:Ae,ref:Se,id:i,showSearch:ge,autoClearSearchValue:j,mode:R,activeDescendantId:U,tagRender:u,values:p,open:Fe,onToggleOpen:je,activeValue:B,searchValue:xe,onSearch:Ve,onSearchSubmit:function(e){e&&e.trim()&&H(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));f(t,{type:"remove",values:[e]})},tokenWithEnter:He})));return lt=Ne?ht:o.createElement("div",(0,m.Z)({className:ut},me,{ref:ye,onMouseDown:function(e){var t,n=e.target,r=null===(t=we.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Ke.indexOf(o);-1!==t&&Ke.splice(t,1),Oe(),be||r.contains(document.activeElement)||null===(e=Se.current)||void 0===e||e.focus()}));Ke.push(o)}for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];null==de||de.apply(void 0,[e].concat(s))},onKeyDown:function(e){var t,n=Ze(),r=e.which;if(r===In.Z.ENTER&&("combobox"!==R&&e.preventDefault(),Fe||je(!0)),Xe(!!xe),r===In.Z.BACKSPACE&&!n&&fe&&!xe&&p.length){for(var o=(0,N.Z)(p),i=null,s=o.length-1;s>=0;s-=1){var a=o[s];if(!a.disabled){o.splice(s,1),i=a;break}}i&&f(o,{type:"remove",values:[i]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];Fe&&Ce.current&&(t=Ce.current).onKeyDown.apply(t,[e].concat(c)),null==he||he.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Fe&&Ce.current&&(o=Ce.current).onKeyUp.apply(o,[e].concat(n)),null==ue||ue.apply(void 0,[e].concat(n))},onFocus:function(){Me(!0),M||(le&&!Ye.current&&le.apply(void 0,arguments),ae.includes("focus")&&je(!0)),Ye.current=!0},onBlur:function(){Me(!1,(function(){Ye.current=!1,je(!1)})),M||(xe&&("tags"===R?H(xe,{source:"submit"}):"multiple"===R&&H("",{source:"blur"})),ce&&ce.apply(void 0,arguments))}}),Re&&!Fe&&o.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,b.Z)(t))?t:n})).join(", "))),ht,ot,it),o.createElement(ji.Provider,{value:st},lt)}));const vs=_s;function bs(e,t){return Yi(e).join("").toUpperCase().includes(t)}var Es=0,ys=(0,Fe.Z)();function Ts(e){var t=o.useState(),n=(0,v.Z)(t,2),r=n[0],i=n[1];return o.useEffect((function(){var e;i("rc_select_".concat((ys?(e=Es,Es+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var ws=["children","value"],Ss=["children"];function Cs(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,L.Z)(e).map((function(e,n){if(!o.isValidElement(e)||!e.type)return null;var r=e,i=r.type.isSelectOptGroup,a=r.key,l=r.props,c=l.children,u=(0,E.Z)(l,Ss);return t||!i?function(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value,a=(0,E.Z)(r,ws);return(0,s.Z)({key:n,value:void 0!==i?i:n,children:o},a)}(e):(0,s.Z)((0,s.Z)({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},u),{},{options:Cs(c)})})).filter((function(e){return e}))}function Is(e){var t=o.useRef();t.current=e;var n=o.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var ks=function(){return null};ks.isSelectOptGroup=!0;const Rs=ks;var Ms=function(){return null};Ms.isSelectOption=!0;const Os=Ms;var xs=o.forwardRef((function(e,t){var n=e.height,r=e.offset,i=e.children,a=e.prefixCls,l=e.onInnerResize,c=e.innerProps,u={},h={display:"flex",flexDirection:"column"};return void 0!==r&&(u={height:n,position:"relative",overflow:"hidden"},h=(0,s.Z)((0,s.Z)({},h),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),o.createElement("div",{style:u},o.createElement(ye,{onResize:function(e){e.offsetHeight&&l&&l()}},o.createElement("div",(0,m.Z)({style:h,className:g()((0,_.Z)({},"".concat(a,"-holder-inner"),a)),ref:t},c),i)))}));xs.displayName="Filler";const As=xs;var Ns=20;function Ls(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Ds=function(e){(0,de.Z)(n,e);var t=(0,pe.Z)(n);function n(){var e;(0,ue.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).moveRaf=null,e.scrollbarRef=o.createRef(),e.thumbRef=o.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),Te.Z.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:Ls(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,o=n.pageY,i=n.startTop,s=e.props.onScroll;if(Te.Z.cancel(e.moveRaf),r){var a=i+(Ls(t)-o),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?a/c:0,h=Math.ceil(u*l);e.moveRaf=(0,Te.Z)((function(){s(h)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,Ns),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return(0,he.Z)(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),s=this.getTop(),a=this.showScroll(),l=a&&n;return o.createElement("div",{ref:this.scrollbarRef,className:g()("".concat(r,"-scrollbar"),(0,_.Z)({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},o.createElement("div",{ref:this.thumbRef,className:g()("".concat(r,"-scrollbar-thumb"),(0,_.Z)({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:s,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),n}(o.Component);function Ps(e){var t=e.children,n=e.setRef,r=o.useCallback((function(e){n(e)}),[]);return o.cloneElement(t,{ref:r})}const $s=function(){function e(){(0,ue.Z)(this,e),this.maps=void 0,this.maps=Object.create(null)}return(0,he.Z)(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function Bs(e,t,n){var r=o.useState(e),i=(0,v.Z)(r,2),s=i[0],a=i[1],l=o.useState(null),c=(0,v.Z)(l,2),u=c[0],h=c[1];return o.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,s=t.length;if(0===i&&0===s)return null;i<s?(r=e,o=t):(r=t,o=e);var a={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):a}for(var c=null,u=1!==Math.abs(i-s),h=0;h<o.length;h+=1){var d=l(r[h]);if(d!==l(o[h])){c=h,u=u||d!==l(o[h+1]);break}}return null===c?null:{index:c,multiple:u}}(s||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),h(e[r.index])),a(e)}),[e]),[u]}const Fs="object"===("undefined"==typeof navigator?"undefined":(0,b.Z)(navigator))&&/Firefox/i.test(navigator.userAgent),Us=function(e,t){var n=(0,o.useRef)(!1),r=(0,o.useRef)(null);var i=(0,o.useRef)({top:e,bottom:t});return i.current.top=e,i.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e<0&&i.current.top||e>0&&i.current.bottom;return t&&o?(clearTimeout(r.current),n.current=!1):o&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&o}};var Gs=14/15;var js=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange","innerProps"],Hs=[],Vs={overflowY:"auto",overflowAnchor:"none"};function Ws(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,l=e.itemHeight,c=e.fullHeight,u=void 0===c||c,h=e.style,d=e.data,p=e.children,f=e.itemKey,y=e.virtual,T=e.component,S=void 0===T?"div":T,C=e.onScroll,I=e.onVisibleChange,k=e.innerProps,R=(0,E.Z)(e,js),M=!(!1===y||!a||!l),O=M&&d&&l*d.length>a,x=(0,o.useState)(0),A=(0,v.Z)(x,2),N=A[0],L=A[1],D=(0,o.useState)(!1),P=(0,v.Z)(D,2),B=P[0],F=P[1],U=g()(r,i),G=d||Hs,j=(0,o.useRef)(),H=(0,o.useRef)(),V=(0,o.useRef)(),W=o.useCallback((function(e){return"function"==typeof f?f(e):null==e?void 0:e[f]}),[f]),z={getKey:W};function Z(e){L((function(t){var n=function(e){var t=e;Number.isNaN(ue.current)||(t=Math.min(t,ue.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return j.current.scrollTop=n,n}))}var X=(0,o.useRef)({start:0,end:G.length}),Y=(0,o.useRef)(),K=Bs(G,W),J=(0,v.Z)(K,1)[0];Y.current=J;var q=function(e,t,n){var r=o.useState(0),i=(0,v.Z)(r,2),s=i[0],a=i[1],l=(0,o.useRef)(new Map),c=(0,o.useRef)(new $s),u=(0,o.useRef)();function h(){Te.Z.cancel(u.current)}function d(){h(),u.current=(0,Te.Z)((function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var n=(0,$.Z)(e),r=n.offsetHeight;c.current.get(t)!==r&&c.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,o.useEffect)((function(){return h}),[]),[function(r,o){var i=e(r),s=l.current.get(i);o?(l.current.set(i,o),d()):l.current.delete(i),!s!=!o&&(o?null==t||t(r):null==n||n(r))},d,c.current,s]}(W,null,null),Q=(0,v.Z)(q,4),ee=Q[0],te=Q[1],ne=Q[2],re=Q[3],oe=o.useMemo((function(){if(!M)return{scrollHeight:void 0,start:0,end:G.length-1,offset:void 0};var e;if(!O)return{scrollHeight:(null===(e=H.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:G.length-1,offset:void 0};for(var t,n,r,o=0,i=G.length,s=0;s<i;s+=1){var c=G[s],u=W(c),h=ne.get(u),d=o+(void 0===h?l:h);d>=N&&void 0===t&&(t=s,n=o),d>N+a&&void 0===r&&(r=s),o=d}return void 0===t&&(t=0,n=0,r=Math.ceil(a/l)),void 0===r&&(r=G.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,G.length),offset:n}}),[O,M,N,G,re,a]),ie=oe.scrollHeight,se=oe.start,ae=oe.end,le=oe.offset;X.current.start=se,X.current.end=ae;var ce=ie-a,ue=(0,o.useRef)(ce);ue.current=ce;var he=N<=0,de=N>=ce,pe=Us(he,de);var fe=function(e,t,n,r){var i=(0,o.useRef)(0),s=(0,o.useRef)(null),a=(0,o.useRef)(null),l=(0,o.useRef)(!1),c=Us(t,n);return[function(t){if(e){Te.Z.cancel(s.current);var n=t.deltaY;i.current+=n,a.current=n,c(n)||(Fs||t.preventDefault(),s.current=(0,Te.Z)((function(){var e=l.current?10:1;r(i.current*e),i.current=0})))}},function(t){e&&(l.current=t.detail===a.current)}]}(M,he,de,(function(e){Z((function(t){return t+e}))})),ge=(0,v.Z)(fe,2),me=ge[0],_e=ge[1];!function(e,t,n){var r,i=(0,o.useRef)(!1),s=(0,o.useRef)(0),a=(0,o.useRef)(null),l=(0,o.useRef)(null),c=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=s.current-t;s.current=t,n(r)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(r*=Gs,!0)||Math.abs(r)<=.1)&&clearInterval(l.current)}),16)}},u=function(){i.current=!1,r()},h=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,s.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",c),a.current.addEventListener("touchend",u))};r=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",u))},(0,w.Z)((function(){return e&&t.current.addEventListener("touchstart",h),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",h),r(),clearInterval(l.current)}}),[e])}(M,j,(function(e,t){return!pe(e,t)&&(me({preventDefault:function(){},deltaY:e}),!0)})),(0,w.Z)((function(){function e(e){M&&e.preventDefault()}return j.current.addEventListener("wheel",me),j.current.addEventListener("DOMMouseScroll",_e),j.current.addEventListener("MozMousePixelScroll",e),function(){j.current&&(j.current.removeEventListener("wheel",me),j.current.removeEventListener("DOMMouseScroll",_e),j.current.removeEventListener("MozMousePixelScroll",e))}}),[M]);var ve=function(e,t,n,r,i,s,a,l){var c=o.useRef();return function(o){if(null!=o){if(Te.Z.cancel(c.current),"number"==typeof o)a(o);else if(o&&"object"===(0,b.Z)(o)){var u,h=o.align;u="index"in o?o.index:t.findIndex((function(e){return i(e)===o.key}));var d=o.offset,p=void 0===d?0:d;!function o(l,d){if(!(l<0)&&e.current){var f=e.current.clientHeight,g=!1,m=d;if(f){for(var _=d||h,v=0,b=0,E=0,y=Math.min(t.length,u),T=0;T<=y;T+=1){var w=i(t[T]);b=v;var S=n.get(w);v=E=b+(void 0===S?r:S),T===u&&void 0===S&&(g=!0)}var C=null;switch(_){case"top":C=b-p;break;case"bottom":C=E-f+p;break;default:var I=e.current.scrollTop;b<I?m="top":E>I+f&&(m="bottom")}null!==C&&C!==e.current.scrollTop&&a(C)}c.current=(0,Te.Z)((function(){g&&s(),o(l-1,m)}),2)}}(3)}}else l()}}(j,G,ne,l,W,te,Z,(function(){var e;null===(e=V.current)||void 0===e||e.delayHidden()}));o.useImperativeHandle(t,(function(){return{scrollTo:ve}})),(0,w.Z)((function(){if(I){var e=G.slice(se,ae+1);I(e,G)}}),[se,ae,G]);var be=function(e,t,n,r,i,s){var a=s.getKey;return e.slice(t,n+1).map((function(e,n){var s=i(e,t+n,{}),l=a(e);return o.createElement(Ps,{key:l,setRef:function(t){return r(e,t)}},s)}))}(G,se,ae,ee,p,z),Ee=null;return a&&(Ee=(0,s.Z)((0,_.Z)({},u?"height":"maxHeight",a),Vs),M&&(Ee.overflowY="hidden",B&&(Ee.pointerEvents="none"))),o.createElement("div",(0,m.Z)({style:(0,s.Z)((0,s.Z)({},h),{},{position:"relative"}),className:U},R),o.createElement(S,{className:"".concat(r,"-holder"),style:Ee,ref:j,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==N&&Z(t),null==C||C(e)}},o.createElement(As,{prefixCls:r,height:ie,offset:le,onInnerResize:te,ref:H,innerProps:k},be)),M&&o.createElement(Ds,{ref:V,prefixCls:r,scrollTop:N,height:a,scrollHeight:ie,count:G.length,onScroll:function(e){Z(e)},onStartMove:function(){F(!0)},onStopMove:function(){F(!1)}}))}var zs=o.forwardRef(Ws);zs.displayName="List";const Zs=zs;const Xs=o.createContext(null);var Ys=["disabled","title","children","style","className"];function Ks(e){return"string"==typeof e||"number"==typeof e}var Js=function(e,t){var n=o.useContext(ji),r=n.prefixCls,i=n.id,s=n.open,a=n.multiple,l=n.mode,c=n.searchValue,u=n.toggleOpen,h=n.notFoundContent,d=n.onPopupScroll,p=o.useContext(Xs),f=p.flattenOptions,b=p.onActiveValue,y=p.defaultActiveFirstOption,T=p.onSelect,w=p.menuItemSelectedIcon,S=p.rawValues,C=p.fieldNames,I=p.virtual,k=p.listHeight,R=p.listItemHeight,M="".concat(r,"-item"),O=(0,nr.Z)((function(){return f}),[s,f],(function(e,t){return t[0]&&e[1]!==t[1]})),x=o.useRef(null),A=function(e){e.preventDefault()},L=function(e){x.current&&x.current.scrollTo("number"==typeof e?{index:e}:e)},D=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=O.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=O[o],s=i.group,a=i.data;if(!s&&!a.disabled)return o}return-1},P=o.useState((function(){return D(0)})),$=(0,v.Z)(P,2),B=$[0],F=$[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];F(e);var n={source:t?"keyboard":"mouse"},r=O[e];r?b(r.value,e,n):b(null,-1,n)};(0,o.useEffect)((function(){U(!1!==y?D(0):-1)}),[O.length,c]);var G=o.useCallback((function(e){return S.has(e)&&"combobox"!==l}),[l,(0,N.Z)(S).toString(),S.size]);(0,o.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&s&&1===S.size){var e=Array.from(S)[0],t=O.findIndex((function(t){return t.data.value===e}));-1!==t&&(U(t),L(t))}}));s&&(null===(e=x.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[s,c]);var j=function(e){void 0!==e&&T(e,{selected:!S.has(e)}),a||u(!1)};if(o.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case In.Z.N:case In.Z.P:case In.Z.UP:case In.Z.DOWN:var r=0;if(t===In.Z.UP?r=-1:t===In.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===In.Z.N?r=1:t===In.Z.P&&(r=-1)),0!==r){var o=D(B+r,r);L(o),U(o,!0)}break;case In.Z.ENTER:var i=O[B];i&&!i.data.disabled?j(i.value):j(void 0),s&&e.preventDefault();break;case In.Z.ESC:u(!1),s&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){L(e)}}})),0===O.length)return o.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(M,"-empty"),onMouseDown:A},h);var H=Object.keys(C).map((function(e){return C[e]})),V=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(i,"_list_").concat(t)}}var z=function(e){var t=O[e];if(!t)return null;var n=t.data||{},r=n.value,i=t.group,s=(0,Vi.Z)(n,!0),a=V(t);return t?o.createElement("div",(0,m.Z)({"aria-label":"string"!=typeof a||i?null:a},s,{key:e},W(t,e),{"aria-selected":G(r)}),r):null},Z={role:"listbox",id:"".concat(i,"_list")};return o.createElement(o.Fragment,null,I&&o.createElement("div",(0,m.Z)({},Z,{style:{height:0,width:0,overflow:"hidden"}}),z(B-1),z(B),z(B+1)),o.createElement(Zs,{itemKey:"key",ref:x,data:O,height:k,itemHeight:R,fullHeight:!1,onMouseDown:A,onScroll:d,virtual:I,innerProps:I?null:Z},(function(e,t){var n,r=e.group,i=e.groupOption,s=e.data,a=e.label,l=e.value,c=s.key;if(r){var u,h=null!==(u=s.title)&&void 0!==u?u:Ks(a)?a.toString():void 0;return o.createElement("div",{className:g()(M,"".concat(M,"-group")),title:h},void 0!==a?a:c)}var d=s.disabled,p=s.title,f=(s.children,s.style),v=s.className,b=(0,E.Z)(s,Ys),y=(0,Nr.Z)(b,H),T=G(l),S="".concat(M,"-option"),C=g()(M,S,v,(n={},(0,_.Z)(n,"".concat(S,"-grouped"),i),(0,_.Z)(n,"".concat(S,"-active"),B===t&&!d),(0,_.Z)(n,"".concat(S,"-disabled"),d),(0,_.Z)(n,"".concat(S,"-selected"),T),n)),k=V(e),R=!w||"function"==typeof w||T,O="number"==typeof k?k:k||l,x=Ks(O)?O.toString():void 0;return void 0!==p&&(x=p),o.createElement("div",(0,m.Z)({},(0,Vi.Z)(y),I?{}:W(e,t),{"aria-selected":T,className:C,title:x,onMouseMove:function(){B===t||d||U(t)},onClick:function(){d||j(l)},style:f}),o.createElement("div",{className:"".concat(S,"-content")},O),o.isValidElement(w)||T,R&&o.createElement(Wi,{className:"".concat(M,"-option-state"),customizeIcon:w,customizeIconProps:{isSelected:T}},T?"✓":null))})))},qs=o.forwardRef(Js);qs.displayName="OptionList";const Qs=qs;var ea=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ta=["inputValue"];var na=o.forwardRef((function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,a=void 0===i?"rc-select":i,l=e.backfill,c=e.fieldNames,u=e.inputValue,h=e.searchValue,d=e.onSearch,p=e.autoClearSearchValue,f=void 0===p||p,g=e.onSelect,y=e.onDeselect,T=e.dropdownMatchSelectWidth,w=void 0===T||T,S=e.filterOption,C=e.filterSort,k=e.optionFilterProp,R=e.optionLabelProp,M=e.options,O=e.children,x=e.defaultActiveFirstOption,A=e.menuItemSelectedIcon,L=e.virtual,D=e.listHeight,P=void 0===D?200:D,$=e.listItemHeight,B=void 0===$?20:$,F=e.value,U=e.defaultValue,G=e.labelInValue,j=e.onChange,H=(0,E.Z)(e,ea),V=Ts(n),W=ms(r),z=!(M||!O),Z=o.useMemo((function(){return(void 0!==S||"combobox"!==r)&&S}),[S,r]),X=o.useMemo((function(){return ds(c,z)}),[JSON.stringify(c),z]),Y=I("",{value:void 0!==h?h:u,postState:function(e){return e||""}}),K=(0,v.Z)(Y,2),J=K[0],q=K[1],Q=function(e,t,n,r,i){return o.useMemo((function(){var o=e;!e&&(o=Cs(t));var s=new Map,a=new Map,l=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||o?(s.set(u[n.value],u),l(a,u,n.label),l(a,u,r),l(a,u,i)):e(u[n.options],!0)}}(o),{options:o,valueOptions:s,labelOptions:a}}),[e,t,n,r,i])}(M,O,X,k,R),ee=Q.valueOptions,te=Q.labelOptions,ne=Q.options,re=o.useCallback((function(e){return Yi(e).map((function(e){var t,n,r,o,i,s;(function(e){return!e||"object"!==(0,b.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(s=e.value)&&void 0!==s?s:r);var a,l=ee.get(t);l&&(void 0===n&&(n=null==l?void 0:l[R||X.label]),void 0===r&&(r=null!==(a=null==l?void 0:l.key)&&void 0!==a?a:t),o=null==l?void 0:l.disabled,i=null==l?void 0:l.title);return{label:n,value:t,key:r,disabled:o,title:i}}))}),[X,R,ee]),oe=I(U,{value:F}),ie=(0,v.Z)(oe,2),se=ie[0],ae=ie[1],le=function(e,t){var n=o.useRef({values:new Map,options:new Map});return[o.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?(0,s.Z)((0,s.Z)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,c=new Map;return a.forEach((function(e){l.set(e.value,e),c.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=l,n.current.options=c,a}),[e,t]),o.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(o.useMemo((function(){var e,t=re(se);return"combobox"!==r||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[se,re,r]),ee),ce=(0,v.Z)(le,2),ue=ce[0],he=ce[1],de=o.useMemo((function(){if(!r&&1===ue.length){var e=ue[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ue.map((function(e){var t;return(0,s.Z)((0,s.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ue]),pe=o.useMemo((function(){return new Set(ue.map((function(e){return e.value})))}),[ue]);o.useEffect((function(){if("combobox"===r){var e,t=null===(e=ue[0])||void 0===e?void 0:e.value;q(function(e){return null!=e}(t)?String(t):"")}}),[ue]);var fe=Is((function(e,t){var n,r=null!=t?t:e;return n={},(0,_.Z)(n,X.value,e),(0,_.Z)(n,X.label,r),n})),ge=function(e,t,n,r,i){return o.useMemo((function(){if(!n||!1===r)return e;var o=t.options,a=t.label,l=t.value,c=[],u="function"==typeof r,h=n.toUpperCase(),d=u?r:function(e,t){return i?bs(t[i],h):t[o]?bs(t["children"!==a?a:"label"],h):bs(t[l],h)},p=u?function(e){return ps(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(d(n,p(e)))c.push(e);else{var t=e[o].filter((function(e){return d(n,p(e))}));t.length&&c.push((0,s.Z)((0,s.Z)({},e),{},(0,_.Z)({},o,t)))}else d(n,p(e))&&c.push(e)})),c}),[e,r,i,n,t])}(o.useMemo((function(){if("tags"!==r)return ne;var e=(0,N.Z)(ne);return(0,N.Z)(ue).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return ee.has(e)})(n)||e.push(fe(n,t.label))})),e}),[fe,ne,ee,ue,r]),X,J,Z,k),me=o.useMemo((function(){return"tags"!==r||!J||ge.some((function(e){return e[k||"value"]===J}))?ge:[fe(J)].concat((0,N.Z)(ge))}),[fe,k,r,ge,J]),_e=o.useMemo((function(){return C?(0,N.Z)(me).sort((function(e,t){return C(e,t)})):me}),[me,C]),ve=o.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=ds(n,!1),s=i.label,a=i.value,l=i.options;return function e(t,n){t.forEach((function(t){var i=t[s];if(n||!(l in t)){var c=t[a];o.push({key:hs(t,o.length),groupOption:n,data:t,label:i,value:c})}else{var u=i;void 0===u&&r&&(u=t.label),o.push({key:hs(t,o.length),group:!0,data:t,label:u}),e(t[l],!0)}}))}(e,!1),o}(_e,{fieldNames:X,childrenAsData:z})}),[_e,X,z]),be=function(e){var t=re(e);if(ae(t),j&&(t.length!==ue.length||t.some((function(e,t){var n;return(null===(n=ue[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=G?t:t.map((function(e){return e.value})),r=t.map((function(e){return ps(he(e.value))}));j(W?n:n[0],W?r:r[0])}},Ee=o.useState(null),ye=(0,v.Z)(Ee,2),Te=ye[0],we=ye[1],Se=o.useState(0),Ce=(0,v.Z)(Se,2),Ie=Ce[0],ke=Ce[1],Re=void 0!==x?x:"combobox"!==r,Me=o.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;ke(t),l&&"combobox"===r&&null!==e&&"keyboard"===o&&we(String(e))}),[l,r]),Oe=function(e,t,n){var r=function(){var t,n=he(e);return[G?{label:null==n?void 0:n[X.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,ps(n)]};if(t&&g){var o=r(),i=(0,v.Z)(o,2),s=i[0],a=i[1];g(s,a)}else if(!t&&y&&"clear"!==n){var l=r(),c=(0,v.Z)(l,2),u=c[0],h=c[1];y(u,h)}},xe=Is((function(e,t){var n,o=!W||t.selected;n=o?W?[].concat((0,N.Z)(ue),[e]):[e]:ue.filter((function(t){return t.value!==e})),be(n),Oe(e,o),"combobox"===r?we(""):ms&&!f||(q(""),we(""))})),Ae=o.useMemo((function(){var e=!1!==L&&!1!==w;return(0,s.Z)((0,s.Z)({},Q),{},{flattenOptions:ve,onActiveValue:Me,defaultActiveFirstOption:Re,onSelect:xe,menuItemSelectedIcon:A,rawValues:pe,fieldNames:X,virtual:e,listHeight:P,listItemHeight:B,childrenAsData:z})}),[Q,ve,Me,Re,xe,A,pe,X,L,w,P,B,z]);return o.createElement(Xs.Provider,{value:Ae},o.createElement(vs,(0,m.Z)({},H,{id:V,prefixCls:a,ref:t,omitDomProps:ta,mode:r,displayValues:de,onDisplayValuesChange:function(e,t){be(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Oe(e.value,!1,n)}))},searchValue:J,onSearch:function(e,t){if(q(e),we(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&be(e),null==d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,N.Z)(pe),[n])));be(o),Oe(n,!0),q("")}}},autoClearSearchValue:f,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=te.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,N.Z)(pe),(0,N.Z)(t))));be(n),n.forEach((function(e){Oe(e,!0)}))},dropdownMatchSelectWidth:w,OptionList:Qs,emptyOptions:!ve.length,activeValue:Te,activeDescendantId:"".concat(V,"_list_").concat(Ie)})))}));var ra=na;ra.Option=Os,ra.OptGroup=Rs;const oa=ra;var ia=n(190);const sa=()=>{const[,e]=(0,Pi.dQ)();let t={};return new ia.C(e.colorBgBase).toHsl().l<.5&&(t={opacity:.65}),o.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(24 31.67)"},o.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),o.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),o.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),o.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),o.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),o.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),o.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},o.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),o.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},aa=()=>{const[,e]=(0,Pi.dQ)(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=e,{borderColor:s,shadowColor:a,contentColor:l}=(0,o.useMemo)((()=>({borderColor:new ia.C(t).onBackground(i).toHexShortString(),shadowColor:new ia.C(n).onBackground(i).toHexShortString(),contentColor:new ia.C(r).onBackground(i).toHexShortString()})),[t,n,r,i]);return o.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},o.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),o.createElement("g",{fillRule:"nonzero",stroke:s},o.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),o.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},la=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:s}=e;return{[t]:{marginInline:r,fontSize:i,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:e.colorTextDisabled,[`${t}-description`]:{color:e.colorTextDisabled},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},ca=(0,Go.Z)("Empty",(e=>{const{componentCls:t,controlHeightLG:n}=e,r=(0,jo.TS)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[la(r)]}));var ua=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ha=o.createElement(sa,null),da=o.createElement(aa,null),pa=e=>{var{className:t,rootClassName:n,prefixCls:r,image:i=ha,description:s,children:a,imageStyle:l}=e,c=ua(e,["className","rootClassName","prefixCls","image","description","children","imageStyle"]);const{getPrefixCls:u,direction:h}=o.useContext(Do.E_),d=u("empty",r),[p,f]=ca(d);return p(o.createElement(Gi.Z,{componentName:"Empty"},(e=>{const r=void 0!==s?s:e.description,u="string"==typeof r?r:"empty";let p=null;return p="string"==typeof i?o.createElement("img",{alt:u,src:i}):i,o.createElement("div",Object.assign({className:g()(f,d,{[`${d}-normal`]:i===da,[`${d}-rtl`]:"rtl"===h},t,n)},c),o.createElement("div",{className:`${d}-image`,style:l},p),r&&o.createElement("div",{className:`${d}-description`},r),a&&o.createElement("div",{className:`${d}-footer`},a))})))};pa.PRESENTED_IMAGE_DEFAULT=ha,pa.PRESENTED_IMAGE_SIMPLE=da;const fa=pa,ga=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,o.useContext)(Do.E_),r=n("empty");switch(t){case"Table":case"List":return o.createElement(fa,{image:fa.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return o.createElement(fa,{image:fa.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return o.createElement(fa,null)}};var ma=n(6797),_a=n(606);const va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var ba=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:va}))};ba.displayName="CheckOutlined";const Ea=o.forwardRef(ba);var ya=n(5253);const Ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var wa=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Ta}))};wa.displayName="DownOutlined";const Sa=o.forwardRef(wa);var Ca=n(73);const Ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var ka=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Ia}))};ka.displayName="SearchOutlined";const Ra=o.forwardRef(ka);var Ma=n(1086),Oa=n(3555);const xa=new Vo.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Aa=new Vo.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Na=new Vo.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),La=new Vo.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Da=new Vo.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Pa=new Vo.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),$a={"move-up":{inKeyframes:new Vo.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Vo.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:xa,outKeyframes:Aa},"move-left":{inKeyframes:Na,outKeyframes:La},"move-right":{inKeyframes:Da,outKeyframes:Pa}},Ba=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=$a[t];return[(0,Wo.R)(r,o,i,e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Fa=e=>{const{controlPaddingHorizontal:t}=e;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:`${(e.controlHeight-e.fontSize*e.lineHeight)/2}px ${t}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},Ua=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},(0,Ho.Wf)(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n            &${t}-slide-up-enter${t}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,\n            &${t}-slide-up-appear${t}-slide-up-appear-active${n}-dropdown-placement-bottomLeft\n          `]:{animationName:zo},[`\n            &${t}-slide-up-enter${t}-slide-up-enter-active${n}-dropdown-placement-topLeft,\n            &${t}-slide-up-appear${t}-slide-up-appear-active${n}-dropdown-placement-topLeft\n          `]:{animationName:Xo},[`&${t}-slide-up-leave${t}-slide-up-leave-active${n}-dropdown-placement-bottomLeft`]:{animationName:Zo},[`&${t}-slide-up-leave${t}-slide-up-leave-active${n}-dropdown-placement-topLeft`]:{animationName:Yo},"&-hidden":{display:"none"},"&-empty":{color:e.colorTextDisabled},[`${r}-empty`]:Object.assign(Object.assign({},Fa(e)),{color:e.colorTextDisabled}),[`${r}`]:Object.assign(Object.assign({},Fa(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Ho.vS),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:2*e.controlPaddingHorizontal}}}),"&-rtl":{direction:"rtl"}})},ti(e,"slide-up"),ti(e,"slide-down"),Ba(e,"move-up"),Ba(e,"move-down")]},Ga=2;function ja(e){let{controlHeightSM:t,controlHeight:n,lineWidth:r}=e;const o=(n-t)/2-r;return[o,Math.ceil(o/2)]}function Ha(e,t){const{componentCls:n,iconCls:r}=e,o=`${n}-selection-overflow`,i=e.controlHeightSM,[s]=ja(e);return{[`${n}-multiple${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${s-Ga}px ${2*Ga}px`,borderRadius:e.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:e.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Ga}px 0`,lineHeight:`${i}px`,content:'"\\a0"'}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal},[`${n}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:i,marginTop:Ga,marginBottom:Ga,lineHeight:i-2*e.lineWidth+"px",background:e.colorFillSecondary,border:`${e.lineWidth}px solid ${e.colorSplit}`,borderRadius:e.borderRadiusSM,cursor:"default",transition:`font-size ${e.motionDurationSlow}, line-height ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,userSelect:"none",marginInlineEnd:2*Ga,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2,[`${n}-disabled&`]:{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Ho.Ro)()),{display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-s,"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:e.fontFamily,lineHeight:`${i}px`,transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}}}}function Va(e){const{componentCls:t}=e,n=(0,jo.TS)(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),[,r]=ja(e);return[Ha(e),Ha(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.controlPaddingHorizontalSM-e.lineWidth},[`${t}-selection-search`]:{marginInlineStart:r}}},Ha((0,jo.TS)(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function Wa(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=e,i=e.controlHeight-2*e.lineWidth,s=Math.ceil(1.25*e.fontSize);return{[`${n}-single${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,[`${n}-selector`]:Object.assign(Object.assign({},(0,Ho.Wf)(e)),{display:"flex",borderRadius:o,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{padding:0,lineHeight:`${i}px`,transition:`all ${e.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${i}px`}},[`${n}-selection-item`]:{position:"relative",userSelect:"none"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:s},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:e.controlHeight,padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:i},"&:after":{lineHeight:`${i}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function za(e){const{componentCls:t}=e,n=e.controlPaddingHorizontalSM-e.lineWidth;return[Wa(e),Wa((0,jo.TS)(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${n}px`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:n+1.5*e.fontSize},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:1.5*e.fontSize}}}},Wa((0,jo.TS)(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}var Za=n(300);const Xa=e=>{const{componentCls:t}=e;return{position:"relative",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${t}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${t}-multiple&`]:{background:e.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},Ya=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{componentCls:r,borderHoverColor:o,outlineColor:i,antCls:s}=t,a=n?{[`${r}-selector`]:{borderColor:o}}:{};return{[e]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${s}-pagination-size-changer)`]:Object.assign(Object.assign({},a),{[`${r}-focused& ${r}-selector`]:{borderColor:o,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${i}`,outline:0},[`&:hover ${r}-selector`]:{borderColor:o}})}}},Ka=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Ja=e=>{const{componentCls:t,inputPaddingHorizontalBase:n,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},(0,Ho.Wf)(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:Object.assign(Object.assign({},Xa(e)),Ka(e)),[`${t}-selection-item`]:Object.assign({flex:1,fontWeight:"normal"},Ho.vS),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},Ho.vS),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},(0,Ho.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n+e.fontSize+e.paddingXXS}}}},qa=e=>{const{componentCls:t}=e;return[{[t]:{[`&-borderless ${t}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${t}-in-form-item`]:{width:"100%"}}},Ja(e),za(e),Va(e),Ua(e),{[`${t}-rtl`]:{direction:"rtl"}},Ya(t,(0,jo.TS)(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),Ya(`${t}-status-error`,(0,jo.TS)(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),Ya(`${t}-status-warning`,(0,jo.TS)(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),(0,Za.c)(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},Qa=(0,Go.Z)("Select",((e,t)=>{let{rootPrefixCls:n}=t;const r=(0,jo.TS)(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.paddingSM-1});return[qa(r)]}),(e=>({zIndexPopup:e.zIndexPopupBase+50})));var el=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const tl="SECRET_COMBOBOX_MODE_DO_NOT_USE",nl=(e,t)=>{var{prefixCls:n,bordered:r=!0,className:s,rootClassName:a,getPopupContainer:l,popupClassName:c,dropdownClassName:u,listHeight:h=256,placement:d,listItemHeight:p=24,size:f,disabled:m,notFoundContent:_,status:v,showArrow:b}=e,E=el(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]);const{getPopupContainer:y,getPrefixCls:T,renderEmpty:w,direction:S,virtual:C,dropdownMatchSelectWidth:I,select:k}=o.useContext(Do.E_),R=o.useContext(Po.Z),M=T("select",n),O=T(),{compactSize:x,compactItemClassnames:A}=(0,Ma.ri)(M,S),[N,L]=Qa(M),D=o.useMemo((()=>{const{mode:e}=E;if("combobox"!==e)return e===tl?"combobox":e}),[E.mode]),P="multiple"===D||"tags"===D,$=void 0!==b?b:E.loading||!(P||"combobox"===D),{status:B,hasFeedback:F,isFormItemInput:U,feedbackIcon:G}=o.useContext(_a.aM),j=((e,t)=>t||e)(B,v);let H;H=void 0!==_?_:"combobox"===D?null:(null==w?void 0:w("Select"))||o.createElement(ga,{componentName:"Select"});const{suffixIcon:V,itemIcon:W,removeIcon:z,clearIcon:Z}=function(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:s,loading:a,multiple:l,hasFeedback:c,prefixCls:u,showArrow:h,feedbackIcon:d}=e;const p=null!=n?n:o.createElement(ya.Z,null),f=e=>o.createElement(o.Fragment,null,!1!==h&&e,c&&d);let g=null;if(void 0!==t)g=f(t);else if(a)g=f(o.createElement(Ca.Z,{spin:!0}));else{const e=`${u}-suffix`;g=t=>{let{open:n,showSearch:r}=t;return f(n&&r?o.createElement(Ra,{className:e}):o.createElement(Sa,{className:e}))}}let m=null;m=void 0!==r?r:l?o.createElement(Ea,null):null;let _=null;return _=void 0!==s?s:o.createElement(i.Z,null),{clearIcon:p,suffixIcon:g,itemIcon:m,removeIcon:_}}(Object.assign(Object.assign({},E),{multiple:P,hasFeedback:F,feedbackIcon:G,showArrow:$,prefixCls:M})),X=(0,Nr.Z)(E,["suffixIcon","itemIcon"]),Y=g()(c||u,{[`${M}-dropdown-${S}`]:"rtl"===S},a,L),K=x||f||R,J=o.useContext(ma.Z),q=null!=m?m:J,Q=g()({[`${M}-lg`]:"large"===K,[`${M}-sm`]:"small"===K,[`${M}-rtl`]:"rtl"===S,[`${M}-borderless`]:!r,[`${M}-in-form-item`]:U},function(e,t,n){return g()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}(M,j,F),A,s,a,L);return N(o.createElement(oa,Object.assign({ref:t,virtual:C,dropdownMatchSelectWidth:I,showSearch:null==k?void 0:k.showSearch},X,{transitionName:(0,$o.mL)(O,(0,$o.q0)(d),E.transitionName),listHeight:h,listItemHeight:p,mode:D,prefixCls:M,placement:void 0!==d?d:"rtl"===S?"bottomRight":"bottomLeft",direction:S,inputIcon:V,menuItemSelectedIcon:W,removeIcon:z,clearIcon:Z,notFoundContent:H,className:Q,getPopupContainer:l||y,dropdownClassName:Y,showArrow:F||b,disabled:q})))};const rl=o.forwardRef(nl),ol=(il=rl,function(e){const{prefixCls:t,style:n}=e,r=o.useRef(null),[i,s]=o.useState(0),[a,l]=o.useState(0),[c,u]=I(!1,{value:e.open}),{getPrefixCls:h}=o.useContext(Do.E_),d=h(sl||"select",t);return o.useEffect((()=>{if(u(!0),"undefined"!=typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;s(t.offsetHeight+8),l(t.offsetWidth)})),t=setInterval((()=>{var n;const o=al?`.${al(d)}`:`.${d}-dropdown`,i=null===(n=r.current)||void 0===n?void 0:n.querySelector(o);i&&(clearInterval(t),e.observe(i))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]),o.createElement(Oa.ZP,{theme:{token:{motionDurationFast:"0.01s",motionDurationMid:"0.01s",motionDurationSlow:"0.01s"}}},o.createElement("div",{ref:r,style:{paddingBottom:i,position:"relative",width:"fit-content",minWidth:a}},o.createElement(il,Object.assign({},e,{style:Object.assign(Object.assign({},n),{margin:0}),open:c,visible:c,getPopupContainer:()=>r.current}))))});var il,sl,al;rl.SECRET_COMBOBOX_MODE_DO_NOT_USE=tl,rl.Option=Os,rl.OptGroup=Rs,rl._InternalPanelDoNotUseOrYouWillBeFired=ol;const ll=rl,cl=e=>o.createElement(ll,Object.assign({},e,{size:"small"})),ul=e=>o.createElement(ll,Object.assign({},e,{size:"middle"}));cl.Option=ll.Option,ul.Option=ll.Option;const hl=e=>({borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}),dl=e=>({borderColor:e.inputBorderHoverColor,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`,borderInlineEndWidth:e.lineWidth,outline:0}),pl=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},hl((0,jo.TS)(e,{inputBorderHoverColor:e.colorBorder})))}),fl=e=>{const{inputPaddingVerticalLG:t,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:o,inputPaddingHorizontalLG:i}=e;return{padding:`${t}px ${i}px`,fontSize:n,lineHeight:r,borderRadius:o}},gl=e=>({padding:`${e.inputPaddingVerticalSM}px ${e.controlPaddingHorizontalSM-1}px`,borderRadius:e.borderRadiusSM}),ml=(e,t)=>{const{componentCls:n,colorError:r,colorWarning:o,colorErrorOutline:i,colorWarningOutline:s,colorErrorBorderHover:a,colorWarningBorderHover:l}=e;return{[`&-status-error:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:r,"&:hover":{borderColor:a},"&:focus, &-focused":Object.assign({},dl((0,jo.TS)(e,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:i}))),[`${n}-prefix, ${n}-suffix`]:{color:r}},[`&-status-warning:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:o,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},dl((0,jo.TS)(e,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:s}))),[`${n}-prefix, ${n}-suffix`]:{color:o}}}},_l=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${e.inputPaddingVertical}px ${e.inputPaddingHorizontal}px`,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},hl(e)),"&:focus, &-focused":Object.assign({},dl(e)),"&-disabled, &[disabled]":Object.assign({},pl(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},fl(e)),"&-sm":Object.assign({},gl(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),vl=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},fl(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},gl(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${e.inputPaddingHorizontal}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${e.inputPaddingVertical+1}px -${e.inputPaddingHorizontal}px`,[`&${n}-select-single:not(${n}-select-customize-input)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${e.lineWidth}px ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${e.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${t}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,Ho.dF)()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${t}-affix-wrapper`]:{display:"inline-flex"},[`& > ${n}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:-e.lineWidth,[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},bl=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r}=e,o=(n-2*r-16)/2;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ho.Wf)(e)),_l(e)),ml(e,t)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},El=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${e.inputAffixPadding}px`}}}},yl=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:o,colorIcon:i,colorIconHover:s,iconCls:a}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_l(e)),{display:"inline-flex",[`&:not(${t}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},hl(e)),{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${t}[disabled]`]:{background:"transparent"}},[`> input${t}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),El(e)),{[`${a}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:s}}}),ml(e,`${t}-affix-wrapper`))}},Tl=e=>{const{componentCls:t,colorError:n,colorWarning:r,borderRadiusLG:o,borderRadiusSM:i}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},(0,Ho.Wf)(e)),vl(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:o}},"&-sm":{[`${t}-group-addon`]:{borderRadius:i}},"&-status-error":{[`${t}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${t}-group-addon`]:{color:r,borderColor:r}},"&-disabled":{[`${t}-group-addon`]:Object.assign({},pl(e))}}})}},wl=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.lineHeightLG-2e-4},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:-e.lineWidth,borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}};function Sl(e){return(0,jo.TS)(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}const Cl=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none",float:"right",marginBottom:-e.fontSize*e.lineHeight},"&-rtl":{[`${t}-data-count`]:{float:"left"}}},[`&-affix-wrapper${r}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.inputPaddingHorizontal,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},Il=((0,Go.Z)("Input",(e=>{const t=Sl(e);return[bl(t),Cl(t),yl(t),Tl(t),wl(t),(0,Za.c)(t)]})),e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:e.paginationItemDisabledBgActive},a:{color:e.paginationItemDisabledColorActive}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent"}},[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1},[`${t}-simple-pager`]:{color:e.colorTextDisabled}}}}),kl=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.paginationItemSizeSM,lineHeight:`${e.paginationItemSizeSM}px`},[`&${t}-mini ${t}-item`]:{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:e.paginationItemSizeSM-2+"px"},[`&${t}-mini ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent"},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:`${e.paginationItemSizeSM}px`},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.paginationItemSizeSM,lineHeight:`${e.paginationItemSizeSM}px`}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${e.paginationItemSizeSM}px`},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:e.paginationItemSizeSM,lineHeight:`${e.paginationItemSizeSM}px`,input:Object.assign(Object.assign({},gl(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},Rl=e=>{const{componentCls:t}=e;return{[`\n    &${t}-simple ${t}-prev,\n    &${t}-simple ${t}-next\n    `]:{height:e.paginationItemSizeSM,lineHeight:`${e.paginationItemSizeSM}px`,verticalAlign:"top",[`${t}-item-link`]:{height:e.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&::after":{height:e.paginationItemSizeSM,lineHeight:`${e.paginationItemSizeSM}px`}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.paginationItemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:`0 ${e.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:e.paginationItemInputBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${e.inputOutlineOffset}px 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},Ml=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,Ho.oN)(e))},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,color:e.colorText,fontFamily:e.paginationFontFamily,lineHeight:`${e.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`border ${e.motionDurationMid}`},[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,Ho.oN)(e)),[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:`${e.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},_l(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},Ol=e=>{const{componentCls:t}=e;return{[`${t}-item`]:Object.assign(Object.assign({display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,marginInlineEnd:e.marginXS,fontFamily:e.paginationFontFamily,lineHeight:e.paginationItemSize-2+"px",textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${e.paginationItemPaddingInline}px`,color:e.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}}},(0,Ho.Qy)(e)),{"&-active":{fontWeight:e.paginationFontWeightActive,backgroundColor:e.paginationItemBgActive,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}})}},xl=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ho.Wf)(e)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.paginationItemSize,marginInlineEnd:e.marginXS,lineHeight:e.paginationItemSize-2+"px",verticalAlign:"middle"}}),Ol(e)),Ml(e)),Rl(e)),kl(e)),Il(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},Al=e=>{const{componentCls:t}=e;return{[`${t}${t}-disabled`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.paginationItemDisabledBgActive}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[t]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.paginationItemBg},[`${t}-item-link`]:{backgroundColor:e.paginationItemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.paginationItemBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},Nl=(0,Go.Z)("Pagination",(e=>{const t=(0,jo.TS)(e,{paginationItemSize:e.controlHeight,paginationFontFamily:e.fontFamily,paginationItemBg:e.colorBgContainer,paginationItemBgActive:e.colorBgContainer,paginationFontWeightActive:e.fontWeightStrong,paginationItemSizeSM:e.controlHeightSM,paginationItemInputBg:e.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:e.controlItemBgActiveDisabled,paginationItemDisabledColorActive:e.colorTextDisabled,paginationItemLinkBg:e.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},Sl(e));return[xl(t),e.wireframe&&Al(t)]}));var Ll=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Dl=e=>{var{prefixCls:t,selectPrefixCls:n,className:r,rootClassName:i,size:s,locale:a,selectComponentClass:l,responsive:c,showSizeChanger:u}=e,h=Ll(e,["prefixCls","selectPrefixCls","className","rootClassName","size","locale","selectComponentClass","responsive","showSizeChanger"]);const{xs:d}=Ui(c),{getPrefixCls:p,direction:f,pagination:m={}}=o.useContext(Do.E_),_=p("pagination",t),[v,b]=Nl(_),E=null!=u?u:m.showSizeChanger;return o.createElement(Gi.Z,{componentName:"Pagination",defaultLocale:Di.Z},(e=>{const t=Object.assign(Object.assign({},e),a),u="small"===s||!(!d||s||!c),m=p("select",n),y=g()({[`${_}-mini`]:u,[`${_}-rtl`]:"rtl"===f},r,i,b);return v(o.createElement(Li,Object.assign({},(()=>{const e=o.createElement("span",{className:`${_}-item-ellipsis`},"•••");let t=o.createElement("button",{className:`${_}-item-link`,type:"button",tabIndex:-1},o.createElement(Ti,null)),n=o.createElement("button",{className:`${_}-item-link`,type:"button",tabIndex:-1},o.createElement(Ci,null)),r=o.createElement("a",{className:`${_}-item-link`},o.createElement("div",{className:`${_}-item-container`},o.createElement(mi,{className:`${_}-item-link-icon`}),e)),i=o.createElement("a",{className:`${_}-item-link`},o.createElement("div",{className:`${_}-item-container`},o.createElement(bi,{className:`${_}-item-link-icon`}),e));return"rtl"===f&&([t,n]=[n,t],[r,i]=[i,r]),{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}})(),h,{prefixCls:_,selectPrefixCls:m,className:y,selectComponentClass:l||(u?cl:ul),locale:t,showSizeChanger:E})))}))},Pl=Dl;var $l=n(4619);const Bl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Fl=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Bl}))};Fl.displayName="EyeOutlined";const Ul=o.forwardRef(Fl);function Gl(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var jl=n(4330),Hl=["visible","onVisibleChange","getContainer","current","countRender"],Vl=o.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),Wl=Vl.Provider;const zl=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,r=e.children,i=e.icons,s=void 0===i?{}:i,a=e.preview,l="object"===(0,b.Z)(a)?a:{},c=l.visible,u=void 0===c?void 0:c,h=l.onVisibleChange,d=void 0===h?void 0:h,p=l.getContainer,f=void 0===p?void 0:p,g=l.current,_=void 0===g?0:g,y=l.countRender,T=void 0===y?void 0:y,w=(0,E.Z)(l,Hl),S=(0,o.useState)(new Map),C=(0,v.Z)(S,2),k=C[0],R=C[1],M=(0,o.useState)(),O=(0,v.Z)(M,2),x=O[0],A=O[1],N=I(!!u,{value:u,onChange:d}),L=(0,v.Z)(N,2),D=L[0],P=L[1],$=(0,o.useState)(null),B=(0,v.Z)($,2),F=B[0],U=B[1],G=void 0!==u,j=Array.from(k.keys())[_],H=new Map(Array.from(k).filter((function(e){return!!(0,v.Z)(e,2)[1].canPreview})).map((function(e){var t=(0,v.Z)(e,2);return[t[0],t[1].url]})));return o.useEffect((function(){A(j)}),[j]),o.useEffect((function(){!D&&G&&A(j)}),[j,G,D]),o.createElement(Wl,{value:{isPreviewGroup:!0,previewUrls:H,setPreviewUrls:R,current:x,setCurrent:A,setShowPreview:P,setMousePosition:U,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return R((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),function(){R((function(t){var n=new Map(t);return n.delete(e)?n:t}))}}}},r,o.createElement(ec,(0,m.Z)({"aria-hidden":!D,visible:D,prefixCls:n,onClose:function(e){e.stopPropagation(),P(!1),U(null)},mousePosition:F,src:H.get(x),icons:s,getContainer:f,countRender:T},w)))};var Zl=n(6436),Xl=1,Yl=50;const Kl=function(e){var t,n=e.visible,r=e.maskTransitionName,i=e.getContainer,s=e.prefixCls,a=e.rootClassName,l=e.icons,c=e.countRender,u=e.showSwitch,h=e.showProgress,d=e.current,p=e.count,f=e.scale,m=e.onSwitchLeft,v=e.onSwitchRight,b=e.onClose,E=e.onZoomIn,y=e.onZoomOut,T=e.onRotateRight,w=e.onRotateLeft,S=l.rotateLeft,C=l.rotateRight,I=l.zoomIn,R=l.zoomOut,M=l.close,O=l.left,x=l.right,A="".concat(s,"-operations-operation"),N="".concat(s,"-operations-icon"),L=[{icon:M,onClick:b,type:"close"},{icon:I,onClick:E,type:"zoomIn",disabled:f===Yl},{icon:R,onClick:y,type:"zoomOut",disabled:f===Xl},{icon:C,onClick:T,type:"rotateRight"},{icon:S,onClick:w,type:"rotateLeft"}],D=o.createElement(o.Fragment,null,u&&o.createElement(o.Fragment,null,o.createElement("div",{className:g()("".concat(s,"-switch-left"),(0,_.Z)({},"".concat(s,"-switch-left-disabled"),0===d)),onClick:m},O),o.createElement("div",{className:g()("".concat(s,"-switch-right"),(0,_.Z)({},"".concat(s,"-switch-right-disabled"),d===p-1)),onClick:v},x)),o.createElement("ul",{className:"".concat(s,"-operations")},h&&o.createElement("li",{className:"".concat(s,"-operations-progress")},null!==(t=null==c?void 0:c(d+1,p))&&void 0!==t?t:"".concat(d+1," / ").concat(p)),L.map((function(e){var t,n=e.icon,r=e.onClick,i=e.type,a=e.disabled;return o.createElement("li",{className:g()(A,(t={},(0,_.Z)(t,"".concat(s,"-operations-operation-").concat(i),!0),(0,_.Z)(t,"".concat(s,"-operations-operation-disabled"),!!a),t)),onClick:r,key:i},o.isValidElement(n)?o.cloneElement(n,{className:N}):n)}))));return o.createElement(k.Z,{visible:n,motionName:r},(function(e){var t=e.className,n=e.style;return o.createElement(Zl.Z,{open:!0,getContainer:null!=i?i:document.body},o.createElement("div",{className:g()("".concat(s,"-operations-wrapper"),t,a),style:n},D))}))};var Jl={x:0,y:0,rotate:0,scale:1};function ql(e,t,n,r){var o=t+n,i=(n-r)/2;if(n>r){if(t>0)return(0,_.Z)({},e,i);if(t<0&&o<r)return(0,_.Z)({},e,-i)}else if(t<0||o>r)return(0,_.Z)({},e,t<0?i:-i);return{}}var Ql=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"];const ec=function(e){var t=e.prefixCls,n=e.src,r=e.alt,i=e.onClose,a=(e.afterClose,e.visible),l=e.icons,c=void 0===l?{}:l,u=e.rootClassName,h=e.getContainer,d=e.countRender,p=e.scaleStep,f=void 0===p?.5:p,b=e.transitionName,y=void 0===b?"zoom":b,T=e.maskTransitionName,w=void 0===T?"fade":T,S=(0,E.Z)(e,Ql),C=(0,o.useRef)(),I=(0,o.useRef)({deltaX:0,deltaY:0,transformX:0,transformY:0}),k=(0,o.useState)(!1),R=(0,v.Z)(k,2),M=R[0],O=R[1],x=(0,o.useContext)(Vl),A=x.previewUrls,N=x.current,L=x.isPreviewGroup,P=x.setCurrent,$=A.size,B=Array.from(A.keys()),F=B.indexOf(N),U=L?A.get(N):n,G=L&&$>1,j=L&&$>=1,H=function(e){var t=(0,o.useRef)(null),n=(0,o.useRef)([]),r=(0,o.useState)(Jl),i=(0,v.Z)(r,2),a=i[0],l=i[1],c=function(e){null===t.current&&(n.current=[],t.current=(0,Te.Z)((function(){l((function(e){var r=e;return n.current.forEach((function(e){r=(0,s.Z)((0,s.Z)({},r),e)})),t.current=null,r}))}))),n.current.push((0,s.Z)((0,s.Z)({},a),e))};return{transform:a,resetTransform:function(){l(Jl)},updateTransform:c,dispatchZoonChange:function(t,n,r){var o=e.current,i=o.width,s=o.height,l=o.offsetWidth,u=o.offsetHeight,h=o.offsetLeft,d=o.offsetTop,p=t,f=a.scale*t;f>Yl?(p=Yl/a.scale,f=Yl):f<Xl&&(p=Xl/a.scale,f=Xl);var g=null!=n?n:innerWidth/2,m=null!=r?r:innerHeight/2,_=p-1,v=_*i*.5,b=_*s*.5,E=_*(g-a.x-h),y=_*(m-a.y-d),T=a.x-(E-v),w=a.y-(y-b);if(t<1&&1===f){var S=l*f,C=u*f,I=Gl(),k=I.width,R=I.height;S<=k&&C<=R&&(T=0,w=0)}c({x:T,y:w,scale:f})}}}(C),V=H.transform,W=H.resetTransform,z=H.updateTransform,Z=H.dispatchZoonChange,X=V.rotate,Y=V.scale,K=g()((0,_.Z)({},"".concat(t,"-moving"),M)),J=function(){if(a&&M){O(!1);var e=I.current,t=e.transformX,n=e.transformY;if(!(V.x!==t&&V.y!==n))return;var r=C.current.offsetWidth*Y,o=C.current.offsetHeight*Y,i=C.current.getBoundingClientRect(),l=i.left,c=i.top,u=X%180!=0,h=function(e,t,n,r){var o=Gl(),i=o.width,a=o.height,l=null;return e<=i&&t<=a?l={x:0,y:0}:(e>i||t>a)&&(l=(0,s.Z)((0,s.Z)({},ql("x",n,e,i)),ql("y",r,t,a))),l}(u?o:r,u?r:o,l,c);h&&z((0,s.Z)({},h))}},q=function(e){a&&M&&z({x:e.pageX-I.current.deltaX,y:e.pageY-I.current.deltaY})},Q=(0,o.useCallback)((function(e){a&&G&&(e.keyCode===In.Z.LEFT?F>0&&P(B[F-1]):e.keyCode===In.Z.RIGHT&&F<$-1&&P(B[F+1]))}),[F,$,B,P,G,a]);return(0,o.useEffect)((function(){var e,t,n=Be(window,"mouseup",J,!1),r=Be(window,"mousemove",q,!1),o=Be(window,"keydown",Q,!1);try{window.top!==window.self&&(e=Be(window.top,"mouseup",J,!1),t=Be(window.top,"mousemove",q,!1))}catch(e){(0,D.Kp)(!1,"[rc-image] ".concat(e))}return function(){var i,s;n.remove(),r.remove(),o.remove(),null===(i=e)||void 0===i||i.remove(),null===(s=t)||void 0===s||s.remove()}}),[a,M,Q]),o.createElement(o.Fragment,null,o.createElement(jl.Z,(0,m.Z)({transitionName:y,maskTransitionName:w,closable:!1,keyboard:!0,prefixCls:t,onClose:i,afterClose:function(){W()},visible:a,wrapClassName:K,rootClassName:u,getContainer:h},S),o.createElement("div",{className:"".concat(t,"-img-wrapper")},o.createElement("img",{width:e.width,height:e.height,onWheel:function(e){if(a&&0!=e.deltaY){var t=Math.abs(e.deltaY/100),n=1+Math.min(t,.2)*f;e.deltaY>0&&(n=1/n),Z(n,e.clientX,e.clientY)}},onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),I.current={deltaX:e.pageX-V.x,deltaY:e.pageY-V.y,transformX:V.x,transformY:V.y},O(!0))},onDoubleClick:function(e){a&&(1!==Y?z({x:0,y:0,scale:1}):Z(1+f,e.clientX,e.clientY))},ref:C,className:"".concat(t,"-img"),src:U,alt:r,style:{transform:"translate3d(".concat(V.x,"px, ").concat(V.y,"px, 0) scale3d(").concat(Y,", ").concat(Y,", 1) rotate(").concat(X,"deg)")}}))),o.createElement(Kl,{visible:a,maskTransitionName:w,getContainer:h,prefixCls:t,rootClassName:u,icons:c,countRender:d,showSwitch:G,showProgress:j,current:F,count:$,scale:Y,onSwitchLeft:function(e){e.preventDefault(),e.stopPropagation(),F>0&&P(B[F-1])},onSwitchRight:function(e){e.preventDefault(),e.stopPropagation(),F<$-1&&P(B[F+1])},onZoomIn:function(){Z(1+f)},onZoomOut:function(){Z(1-f)},onRotateRight:function(){z({rotate:X+90})},onRotateLeft:function(){z({rotate:X-90})},onClose:i}))};var tc=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],nc=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],rc=0,oc=function(e){var t,n=e.src,r=e.alt,i=e.onPreviewClose,a=e.prefixCls,l=void 0===a?"rc-image":a,c=e.previewPrefixCls,u=void 0===c?"".concat(l,"-preview"):c,h=e.placeholder,d=e.fallback,p=e.width,f=e.height,y=e.style,T=e.preview,w=void 0===T||T,S=e.className,C=e.onClick,k=e.onError,R=e.wrapperClassName,M=e.wrapperStyle,O=e.rootClassName,x=e.crossOrigin,A=e.decoding,N=e.loading,L=e.referrerPolicy,D=e.sizes,P=e.srcSet,$=e.useMap,B=e.draggable,F=(0,E.Z)(e,tc),U=h&&!0!==h,G="object"===(0,b.Z)(w)?w:{},j=G.src,H=G.visible,V=void 0===H?void 0:H,W=G.onVisibleChange,z=void 0===W?i:W,Z=G.getContainer,X=void 0===Z?void 0:Z,Y=G.mask,K=G.maskClassName,J=G.icons,q=G.scaleStep,Q=(0,E.Z)(G,nc),ee=null!=j?j:n,te=void 0!==V,ne=I(!!V,{value:V,onChange:z}),re=(0,v.Z)(ne,2),oe=re[0],ie=re[1],se=(0,o.useState)(U?"loading":"normal"),ae=(0,v.Z)(se,2),le=ae[0],ce=ae[1],ue=(0,o.useState)(null),he=(0,v.Z)(ue,2),de=he[0],pe=he[1],fe="error"===le,ge=o.useContext(Vl),me=ge.isPreviewGroup,_e=ge.setCurrent,ve=ge.setShowPreview,be=ge.setMousePosition,Ee=ge.registerImage,ye=o.useState((function(){return rc+=1})),Te=(0,v.Z)(ye,1)[0],we=!!w,Se=o.useRef(!1),Ce=function(){ce("normal")};o.useEffect((function(){return Ee(Te,ee)}),[]),o.useEffect((function(){Ee(Te,ee,we)}),[ee,we]),o.useEffect((function(){fe&&ce("normal"),U&&!Se.current&&ce("loading")}),[n]);var Ie=g()(l,R,O,(0,_.Z)({},"".concat(l,"-error"),fe)),ke=fe&&d?d:ee,Re={crossOrigin:x,decoding:A,draggable:B,loading:N,referrerPolicy:L,sizes:D,srcSet:P,useMap:$,alt:r,className:g()("".concat(l,"-img"),(0,_.Z)({},"".concat(l,"-img-placeholder"),!0===h),S),style:(0,s.Z)({height:f},y)};return o.createElement(o.Fragment,null,o.createElement("div",(0,m.Z)({},F,{className:Ie,onClick:we?function(e){if(!te){var t=(o=e.target,i=o.getBoundingClientRect(),s=document.documentElement,{left:i.left+(window.pageXOffset||s.scrollLeft)-(s.clientLeft||document.body.clientLeft||0),top:i.top+(window.pageYOffset||s.scrollTop)-(s.clientTop||document.body.clientTop||0)}),n=t.left,r=t.top;me?(_e(Te),be({x:n,y:r})):pe({x:n,y:r})}var o,i,s;me?ve(!0):ie(!0),C&&C(e)}:C,style:(0,s.Z)({width:p,height:f},M)}),o.createElement("img",(0,m.Z)({},Re,{ref:function(e){Se.current=!1,"loading"===le&&null!=e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(Se.current=!0,Ce())}},fe&&d?{src:d}:{onLoad:Ce,onError:function(e){k&&k(e),ce("error")},src:n},{width:p,height:f})),"loading"===le&&o.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},h),Y&&we&&o.createElement("div",{className:g()("".concat(l,"-mask"),K),style:{display:"none"===(null===(t=Re.style)||void 0===t?void 0:t.display)?"none":void 0}},Y)),!me&&we&&o.createElement(ec,(0,m.Z)({"aria-hidden":!oe,visible:oe,prefixCls:u,onClose:function(e){e.stopPropagation(),ie(!1),te||pe(null)},mousePosition:de,src:ke,alt:r,getContainer:X,icons:J,scaleStep:q,rootClassName:O},Q)))};oc.PreviewGroup=zl,oc.displayName="Image";const ic=oc;var sc=n(6481);const ac={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};var lc=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:ac}))};lc.displayName="RotateLeftOutlined";const cc=o.forwardRef(lc);const uc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};var hc=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:uc}))};hc.displayName="RotateRightOutlined";const dc=o.forwardRef(hc);const pc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};var fc=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:pc}))};fc.displayName="ZoomInOutlined";const gc=o.forwardRef(fc);const mc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};var _c=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:mc}))};_c.displayName="ZoomOutOutlined";const vc=o.forwardRef(_c);var bc=n(2049),Ec=n(7460),yc=n(2124);const Tc=e=>({position:e||"absolute",inset:0}),wc=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:o,prefixCls:i}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new ia.C("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Ho.vS),{padding:`0 ${r}px`,[t]:{marginInlineEnd:o}})}},Sc=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,imagePreviewOperationDisabledColor:o,motionDurationSlow:i}=e,s=new ia.C(n).setAlpha(.1),a=s.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},(0,Ho.Wf)(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:s.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${i}`,"&:hover":{background:a.toRgbString()},"&-disabled":{color:o,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}})}},Cc=e=>{const{modalMaskBg:t,iconCls:n,imagePreviewOperationDisabledColor:r,previewCls:o,zIndexPopup:i,motionDurationSlow:s}=e,a=new ia.C(t).setAlpha(.1),l=a.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:a.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,pointerEvents:"auto","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.imagePreviewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},Ic=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:o}=e;return[{[`${o}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Tc()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},Tc()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[Sc(e),Cc(e)]}]},kc=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},wc(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Tc())}}},Rc=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,Ec._y)(e,"zoom"),"&":(0,yc.J$)(e,!0)}},Mc=(0,Go.Z)("Image",(e=>{const t=new ia.C(e.colorTextLightSolid),n=`${e.componentCls}-preview`,r=(0,jo.TS)(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new ia.C(t).setAlpha(.25).toRgbString(),modalMaskBg:new ia.C("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:1.5*e.fontSizeIcon,imagePreviewSwitchSize:e.controlHeightLG});return[kc(r),Ic(r),(0,bc.Q)((0,jo.TS)(r,{componentCls:n})),Rc(r)]}),(e=>({zIndexPopup:e.zIndexPopupBase+80})));var Oc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const xc={rotateLeft:o.createElement(cc,null),rotateRight:o.createElement(dc,null),zoomIn:o.createElement(gc,null),zoomOut:o.createElement(vc,null),close:o.createElement(i.Z,null),left:o.createElement(Ti,null),right:o.createElement(Ci,null)};var Ac=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Nc=e=>{var{prefixCls:t,preview:n,rootClassName:r}=e,i=Ac(e,["prefixCls","preview","rootClassName"]);const{getPrefixCls:s,locale:a=sc.Z,getPopupContainer:l}=o.useContext(Do.E_),c=s("image",t),u=s(),h=a.Image||sc.Z.Image,[d,p]=Mc(c),f=g()(r,p),m=o.useMemo((()=>{if(!1===n)return n;const e="object"==typeof n?n:{},{getContainer:t}=e,r=Ac(e,["getContainer"]);return Object.assign(Object.assign({mask:o.createElement("div",{className:`${c}-mask-info`},o.createElement(Ul,null),null==h?void 0:h.preview),icons:xc},r),{getContainer:t||l,transitionName:(0,$o.mL)(u,"zoom",e.transitionName),maskTransitionName:(0,$o.mL)(u,"fade",e.maskTransitionName)})}),[n,h]);return d(o.createElement(ic,Object.assign({prefixCls:`${c}`,preview:m,rootClassName:f},i)))};Nc.PreviewGroup=e=>{var{previewPrefixCls:t,preview:n}=e,r=Oc(e,["previewPrefixCls","preview"]);const{getPrefixCls:i}=o.useContext(Do.E_),s=i("image",t),a=`${s}-preview`,l=i(),[c,u]=Mc(s),h=o.useMemo((()=>{if(!1===n)return n;const e="object"==typeof n?n:{};return Object.assign(Object.assign({},e),{transitionName:(0,$o.mL)(l,"zoom",e.transitionName),maskTransitionName:(0,$o.mL)(l,"fade",e.maskTransitionName),rootClassName:u})}),[n]);return c(o.createElement(ic.PreviewGroup,Object.assign({preview:h,previewPrefixCls:a,icons:xc},r)))};const Lc=Nc,Dc=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)})),Pc=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsText(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)}));function $c(e){const t=45,[n,i]=(0,o.useState)(1);let[s,a]=(0,o.useState)(new Array(t)),[l,c]=(0,o.useState)(new Array(t));return(0,o.useEffect)((()=>{const r=new Array(t);r.fill(""),a(r);const o=new Array(t);o.fill("加载中"),c(o),e.inputlist.slice((n-1)*t,n*t).forEach(((e,t)=>{Dc(e).then((n=>{const r=s;r[t]=n,a(r);const o=l;o[t]=e.name,c(o)}))}))}),[n,t,e.inputlist]),(0,r.jsxs)("div",{children:[(0,r.jsx)(Pl,{simple:!0,current:n,onChange:e=>{i(e)},pageSize:t,total:Math.max(e.inputlist.length,1),style:{textAlign:"center"}}),(0,r.jsx)($l.ZP,{style:{visibility:"hidden"}}),(0,r.jsx)("div",{style:e.style,children:(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)(Lc.PreviewGroup,{children:s.map(((e,t)=>(0,r.jsxs)("span",{style:{position:"relative",display:"inline-block",width:"140px",height:"100px",overflow:"hidden"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(Lc,{width:140,height:80,src:e})}),(0,r.jsx)("input",{disabled:!0,value:l[t]})]})))})})})]})}function Bc(e){return(0,r.jsx)($c,{inputlist:e.bcglist})}const Fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"};var Uc=function(e,t){return o.createElement(l.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Fc}))};Uc.displayName="CustomerServiceOutlined";const Gc=o.forwardRef(Uc);var jc=n(4377);function Hc(e){const[t,n]=(0,o.useState)(1);let i;(0,o.useEffect)((()=>{i?.stop()}),[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(Pl,{simple:!0,current:t,onChange:e=>{n(e)},pageSize:49,total:Math.max(e.inputlist.length,1),style:{textAlign:"center"}}),(0,r.jsx)($l.ZP,{onClick:()=>{jc.Howler.stop(),i?.play()},children:"播放"}),(0,r.jsx)($l.ZP,{onClick:()=>{i?.pause()},children:"暂停"}),(0,r.jsx)($l.ZP,{onClick:()=>{i&&i.seek(Math.max(i.seek()-30,0))},children:"后退30s"}),(0,r.jsx)($l.ZP,{onClick:()=>{i&&i.seek(Math.min(i.seek()+30,i.duration()))},children:"快进30s"}),(0,r.jsx)("div",{style:e.style,children:(0,r.jsx)("div",{style:{textAlign:"center"},children:e.inputlist.slice(49*(t-1),49*t).map((e=>(0,r.jsxs)("span",{onClick:()=>{Dc(e).then((e=>{i?.stop(),jc.Howler.stop(),i=new jc.Howl({src:e}),i.play()}))},style:{display:"inline-block",width:"140px",height:"60px",cursor:"pointer",border:"1px solid gray",overflow:"hidden"},children:[(0,r.jsx)("input",{value:e.name}),(0,r.jsx)(Gc,{style:{fontSize:"30px"}})]})))})})]})}function Vc(e){return(0,r.jsx)(Hc,{inputlist:e.bgmlist})}function Wc(e){return(0,r.jsx)($c,{inputlist:e.coverlist})}function zc(e){return(0,r.jsx)(Hc,{inputlist:e.soundlist})}var Zc,Xc,Yc,Kc=(Zc=function(e,t){return Zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zc(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Jc(e){const t=e.sprlist.length,[n,i]=(0,o.useState)(1),s=new Map,a=new Set;e.sprlist.forEach((e=>{s.set(e.name,e),a.add(e.name.split(".")[0])}));const[l,c]=(0,o.useState)(""),u=[...a.values()].slice((n-1)*t,n*t);return(0,r.jsxs)("div",{children:[(0,r.jsx)(Pl,{simple:!0,current:n,onChange:e=>{i(e)},pageSize:t,total:Math.max(e.sprlist.length,1),style:{textAlign:"center"}}),(0,r.jsx)("div",{style:{textAlign:"center"},children:l}),(0,r.jsxs)("div",{style:e.style,children:[(0,r.jsx)("span",{style:{display:"inline-block",width:"20%",height:"100%",overflowY:"auto"},children:u.map((e=>(0,r.jsx)("div",{onClick:()=>{var t,n;t=e,n="basprbox",Promise.all([Dc(s.get(`${t}.skel`)),Pc(s.get(`${t}.atlas`)),Dc(s.get(`${t}.png`))]).then((e=>{document.querySelector("#ba-player")?.remove();const r=`${t}.skel`,o=`${t}.atlas`,i=`${t}.png`;console.log("3 names:",r,o,i);const s={};s[r]=e[0],s[o]=e[1],s[i]=e[2],c(t),new Yc.SpinePlayer(n,{skelUrl:r,atlasUrl:o,rawDataURIs:s,premultipliedAlpha:!1,showControls:!0,backgroundColor:"#cccccc"})})).catch((e=>console.log(e)))},children:e})))}),(0,r.jsx)("span",{style:{display:"inline-block",width:"79%",height:"100%",overflowY:"auto"},id:"basprbox"})]})]})}!function(e){var t,n,r,o=function(){function e(e,t,n){if(null==e)throw new Error("name cannot be null.");if(null==t)throw new Error("timelines cannot be null.");this.name=e,this.timelines=t,this.timelineIds=[];for(var r=0;r<t.length;r++)this.timelineIds[t[r].getPropertyId()]=!0;this.duration=n}return e.prototype.hasTimeline=function(e){return 1==this.timelineIds[e]},e.prototype.apply=function(e,t,n,r,o,i,s,a){if(null==e)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var l=this.timelines,c=0,u=l.length;c<u;c++)l[c].apply(e,t,n,o,i,s,a)},e.binarySearch=function(e,t,n){void 0===n&&(n=1);var r=0,o=e.length/n-2;if(0==o)return n;for(var i=o>>>1;;){if(e[(i+1)*n]<=t?r=i+1:o=i,r==o)return(r+1)*n;i=r+o>>>1}},e.linearSearch=function(e,t,n){for(var r=0,o=e.length-n;r<=o;r+=n)if(e[r]>t)return r;return-1},e}();e.Animation=o,function(e){e[e.setup=0]="setup",e[e.first=1]="first",e[e.replace=2]="replace",e[e.add=3]="add"}(t=e.MixBlend||(e.MixBlend={})),function(e){e[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut"}(n=e.MixDirection||(e.MixDirection={})),function(e){e[e.rotate=0]="rotate",e[e.translate=1]="translate",e[e.scale=2]="scale",e[e.shear=3]="shear",e[e.attachment=4]="attachment",e[e.color=5]="color",e[e.deform=6]="deform",e[e.event=7]="event",e[e.drawOrder=8]="drawOrder",e[e.ikConstraint=9]="ikConstraint",e[e.transformConstraint=10]="transformConstraint",e[e.pathConstraintPosition=11]="pathConstraintPosition",e[e.pathConstraintSpacing=12]="pathConstraintSpacing",e[e.pathConstraintMix=13]="pathConstraintMix",e[e.twoColor=14]="twoColor"}(r=e.TimelineType||(e.TimelineType={}));var i=function(){function t(n){if(n<=0)throw new Error("frameCount must be > 0: "+n);this.curves=e.Utils.newFloatArray((n-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var n=e*t.BEZIER_SIZE;if(n==this.curves.length)return t.LINEAR;var r=this.curves[n];return r==t.LINEAR?t.LINEAR:r==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,n,r,o,i){var s=.03*(2*-n+o),a=.03*(2*-r+i),l=.006*(3*(n-o)+1),c=.006*(3*(r-i)+1),u=2*s+l,h=2*a+c,d=.3*n+s+.16666667*l,p=.3*r+a+.16666667*c,f=e*t.BEZIER_SIZE,g=this.curves;g[f++]=t.BEZIER;for(var m=d,_=p,v=f+t.BEZIER_SIZE-1;f<v;f+=2)g[f]=m,g[f+1]=_,d+=u,p+=h,u+=l,h+=c,m+=d,_+=p},t.prototype.getCurvePercent=function(n,r){r=e.MathUtils.clamp(r,0,1);var o=this.curves,i=n*t.BEZIER_SIZE,s=o[i];if(s==t.LINEAR)return r;if(s==t.STEPPED)return 0;for(var a=0,l=++i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if((a=o[i])>=r){var u=void 0,h=void 0;return i==l?(u=0,h=0):(u=o[i-2],h=o[i-1]),h+(o[i+1]-h)*(r-u)/(a-u)}var d=o[i-1];return d+(1-d)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();e.CurveTimeline=i;var s=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t<<1),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},i.prototype.setFrame=function(e,t,n){e<<=1,this.frames[e]=t,this.frames[e+i.ROTATION]=n},i.prototype.apply=function(e,n,r,s,a,l,c){var u=this.frames,h=e.bones[this.boneIndex];if(h.active)if(r<u[0])switch(l){case t.setup:return void(h.rotation=h.data.rotation);case t.first:var d=h.data.rotation-h.rotation;h.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*a}else if(r>=u[u.length-i.ENTRIES]){var p=u[u.length+i.PREV_ROTATION];switch(l){case t.setup:h.rotation=h.data.rotation+p*a;break;case t.first:case t.replace:p+=h.data.rotation-h.rotation,p-=360*(16384-(16384.499999999996-p/360|0));case t.add:h.rotation+=p*a}}else{var f=o.binarySearch(u,r,i.ENTRIES),g=u[f+i.PREV_ROTATION],m=u[f],_=this.getCurvePercent((f>>1)-1,1-(r-m)/(u[f+i.PREV_TIME]-m)),v=u[f+i.ROTATION]-g;switch(v=g+(v-360*(16384-(16384.499999999996-v/360|0)))*_,l){case t.setup:h.rotation=h.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*a;break;case t.first:case t.replace:v+=h.data.rotation-h.rotation;case t.add:h.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*a}}},i.ENTRIES=2,i.PREV_TIME=-2,i.PREV_ROTATION=-1,i.ROTATION=1,i}(i);e.RotateTimeline=s;var a=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},i.prototype.setFrame=function(e,t,n,r){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.X]=n,this.frames[e+i.Y]=r},i.prototype.apply=function(e,n,r,s,a,l,c){var u=this.frames,h=e.bones[this.boneIndex];if(h.active)if(r<u[0])switch(l){case t.setup:return h.x=h.data.x,void(h.y=h.data.y);case t.first:h.x+=(h.data.x-h.x)*a,h.y+=(h.data.y-h.y)*a}else{var d=0,p=0;if(r>=u[u.length-i.ENTRIES])d=u[u.length+i.PREV_X],p=u[u.length+i.PREV_Y];else{var f=o.binarySearch(u,r,i.ENTRIES);d=u[f+i.PREV_X],p=u[f+i.PREV_Y];var g=u[f],m=this.getCurvePercent(f/i.ENTRIES-1,1-(r-g)/(u[f+i.PREV_TIME]-g));d+=(u[f+i.X]-d)*m,p+=(u[f+i.Y]-p)*m}switch(l){case t.setup:h.x=h.data.x+d*a,h.y=h.data.y+p*a;break;case t.first:case t.replace:h.x+=(h.data.x+d-h.x)*a,h.y+=(h.data.y+p-h.y)*a;break;case t.add:h.x+=d*a,h.y+=p*a}}},i.ENTRIES=3,i.PREV_TIME=-3,i.PREV_X=-2,i.PREV_Y=-1,i.X=1,i.Y=2,i}(i);e.TranslateTimeline=a;var l=function(i){function s(e){return i.call(this,e)||this}return Kc(s,i),s.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},s.prototype.apply=function(r,i,a,l,c,u,h){var d=this.frames,p=r.bones[this.boneIndex];if(p.active)if(a<d[0])switch(u){case t.setup:return p.scaleX=p.data.scaleX,void(p.scaleY=p.data.scaleY);case t.first:p.scaleX+=(p.data.scaleX-p.scaleX)*c,p.scaleY+=(p.data.scaleY-p.scaleY)*c}else{var f=0,g=0;if(a>=d[d.length-s.ENTRIES])f=d[d.length+s.PREV_X]*p.data.scaleX,g=d[d.length+s.PREV_Y]*p.data.scaleY;else{var m=o.binarySearch(d,a,s.ENTRIES);f=d[m+s.PREV_X],g=d[m+s.PREV_Y];var _=d[m],v=this.getCurvePercent(m/s.ENTRIES-1,1-(a-_)/(d[m+s.PREV_TIME]-_));f=(f+(d[m+s.X]-f)*v)*p.data.scaleX,g=(g+(d[m+s.Y]-g)*v)*p.data.scaleY}if(1==c)u==t.add?(p.scaleX+=f-p.data.scaleX,p.scaleY+=g-p.data.scaleY):(p.scaleX=f,p.scaleY=g);else{var b=0,E=0;if(h==n.mixOut)switch(u){case t.setup:b=p.data.scaleX,E=p.data.scaleY,p.scaleX=b+(Math.abs(f)*e.MathUtils.signum(b)-b)*c,p.scaleY=E+(Math.abs(g)*e.MathUtils.signum(E)-E)*c;break;case t.first:case t.replace:b=p.scaleX,E=p.scaleY,p.scaleX=b+(Math.abs(f)*e.MathUtils.signum(b)-b)*c,p.scaleY=E+(Math.abs(g)*e.MathUtils.signum(E)-E)*c;break;case t.add:b=p.scaleX,E=p.scaleY,p.scaleX=b+(Math.abs(f)*e.MathUtils.signum(b)-p.data.scaleX)*c,p.scaleY=E+(Math.abs(g)*e.MathUtils.signum(E)-p.data.scaleY)*c}else switch(u){case t.setup:b=Math.abs(p.data.scaleX)*e.MathUtils.signum(f),E=Math.abs(p.data.scaleY)*e.MathUtils.signum(g),p.scaleX=b+(f-b)*c,p.scaleY=E+(g-E)*c;break;case t.first:case t.replace:b=Math.abs(p.scaleX)*e.MathUtils.signum(f),E=Math.abs(p.scaleY)*e.MathUtils.signum(g),p.scaleX=b+(f-b)*c,p.scaleY=E+(g-E)*c;break;case t.add:b=e.MathUtils.signum(f),E=e.MathUtils.signum(g),p.scaleX=Math.abs(p.scaleX)*b+(f-Math.abs(p.data.scaleX)*b)*c,p.scaleY=Math.abs(p.scaleY)*E+(g-Math.abs(p.data.scaleY)*E)*c}}}},s}(a);e.ScaleTimeline=l;var c=function(e){function n(t){return e.call(this,t)||this}return Kc(n,e),n.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},n.prototype.apply=function(e,r,i,s,a,l,c){var u=this.frames,h=e.bones[this.boneIndex];if(h.active)if(i<u[0])switch(l){case t.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case t.first:h.shearX+=(h.data.shearX-h.shearX)*a,h.shearY+=(h.data.shearY-h.shearY)*a}else{var d=0,p=0;if(i>=u[u.length-n.ENTRIES])d=u[u.length+n.PREV_X],p=u[u.length+n.PREV_Y];else{var f=o.binarySearch(u,i,n.ENTRIES);d=u[f+n.PREV_X],p=u[f+n.PREV_Y];var g=u[f],m=this.getCurvePercent(f/n.ENTRIES-1,1-(i-g)/(u[f+n.PREV_TIME]-g));d+=(u[f+n.X]-d)*m,p+=(u[f+n.Y]-p)*m}switch(l){case t.setup:h.shearX=h.data.shearX+d*a,h.shearY=h.data.shearY+p*a;break;case t.first:case t.replace:h.shearX+=(h.data.shearX+d-h.shearX)*a,h.shearY+=(h.data.shearY+p-h.shearY)*a;break;case t.add:h.shearX+=d*a,h.shearY+=p*a}}},n}(a);e.ShearTimeline=c;var u=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},i.prototype.setFrame=function(e,t,n,r,o,s){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.R]=n,this.frames[e+i.G]=r,this.frames[e+i.B]=o,this.frames[e+i.A]=s},i.prototype.apply=function(e,n,r,s,a,l,c){var u=e.slots[this.slotIndex];if(u.bone.active){var h=this.frames;if(r<h[0])switch(l){case t.setup:return void u.color.setFromColor(u.data.color);case t.first:var d=u.color,p=u.data.color;d.add((p.r-d.r)*a,(p.g-d.g)*a,(p.b-d.b)*a,(p.a-d.a)*a)}else{var f=0,g=0,m=0,_=0;if(r>=h[h.length-i.ENTRIES]){var v=h.length;f=h[v+i.PREV_R],g=h[v+i.PREV_G],m=h[v+i.PREV_B],_=h[v+i.PREV_A]}else{var b=o.binarySearch(h,r,i.ENTRIES);f=h[b+i.PREV_R],g=h[b+i.PREV_G],m=h[b+i.PREV_B],_=h[b+i.PREV_A];var E=h[b],y=this.getCurvePercent(b/i.ENTRIES-1,1-(r-E)/(h[b+i.PREV_TIME]-E));f+=(h[b+i.R]-f)*y,g+=(h[b+i.G]-g)*y,m+=(h[b+i.B]-m)*y,_+=(h[b+i.A]-_)*y}if(1==a)u.color.set(f,g,m,_);else{d=u.color;l==t.setup&&d.setFromColor(u.data.color),d.add((f-d.r)*a,(g-d.g)*a,(m-d.b)*a,(_-d.a)*a)}}}},i.ENTRIES=5,i.PREV_TIME=-5,i.PREV_R=-4,i.PREV_G=-3,i.PREV_B=-2,i.PREV_A=-1,i.R=1,i.G=2,i.B=3,i.A=4,i}(i);e.ColorTimeline=u;var h=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},i.prototype.setFrame=function(e,t,n,r,o,s,a,l,c){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.R]=n,this.frames[e+i.G]=r,this.frames[e+i.B]=o,this.frames[e+i.A]=s,this.frames[e+i.R2]=a,this.frames[e+i.G2]=l,this.frames[e+i.B2]=c},i.prototype.apply=function(e,n,r,s,a,l,c){var u=e.slots[this.slotIndex];if(u.bone.active){var h=this.frames;if(r<h[0])switch(l){case t.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case t.first:var d=u.color,p=u.darkColor,f=u.data.color,g=u.data.darkColor;d.add((f.r-d.r)*a,(f.g-d.g)*a,(f.b-d.b)*a,(f.a-d.a)*a),p.add((g.r-p.r)*a,(g.g-p.g)*a,(g.b-p.b)*a,0)}else{var m=0,_=0,v=0,b=0,E=0,y=0,T=0;if(r>=h[h.length-i.ENTRIES]){var w=h.length;m=h[w+i.PREV_R],_=h[w+i.PREV_G],v=h[w+i.PREV_B],b=h[w+i.PREV_A],E=h[w+i.PREV_R2],y=h[w+i.PREV_G2],T=h[w+i.PREV_B2]}else{var S=o.binarySearch(h,r,i.ENTRIES);m=h[S+i.PREV_R],_=h[S+i.PREV_G],v=h[S+i.PREV_B],b=h[S+i.PREV_A],E=h[S+i.PREV_R2],y=h[S+i.PREV_G2],T=h[S+i.PREV_B2];var C=h[S],I=this.getCurvePercent(S/i.ENTRIES-1,1-(r-C)/(h[S+i.PREV_TIME]-C));m+=(h[S+i.R]-m)*I,_+=(h[S+i.G]-_)*I,v+=(h[S+i.B]-v)*I,b+=(h[S+i.A]-b)*I,E+=(h[S+i.R2]-E)*I,y+=(h[S+i.G2]-y)*I,T+=(h[S+i.B2]-T)*I}if(1==a)u.color.set(m,_,v,b),u.darkColor.set(E,y,T,1);else{d=u.color,p=u.darkColor;l==t.setup&&(d.setFromColor(u.data.color),p.setFromColor(u.data.darkColor)),d.add((m-d.r)*a,(_-d.g)*a,(v-d.b)*a,(b-d.a)*a),p.add((E-p.r)*a,(y-p.g)*a,(T-p.b)*a,0)}}}},i.ENTRIES=8,i.PREV_TIME=-8,i.PREV_R=-7,i.PREV_G=-6,i.PREV_B=-5,i.PREV_A=-4,i.PREV_R2=-3,i.PREV_G2=-2,i.PREV_B2=-1,i.R=1,i.G=2,i.B=3,i.A=4,i.R2=5,i.G2=6,i.B2=7,i}(i);e.TwoColorTimeline=h;var d=function(){function i(t){this.frames=e.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}return i.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},i.prototype.apply=function(e,r,i,s,a,l,c){var u=e.slots[this.slotIndex];if(u.bone.active)if(c!=n.mixOut){var h=this.frames;if(i<h[0])l!=t.setup&&l!=t.first||this.setAttachment(e,u,u.data.attachmentName);else{var d=0;d=i>=h[h.length-1]?h.length-1:o.binarySearch(h,i,1)-1;var p=this.attachmentNames[d];e.slots[this.slotIndex].setAttachment(null==p?null:e.getAttachment(this.slotIndex,p))}}else l==t.setup&&this.setAttachment(e,u,u.data.attachmentName)},i.prototype.setAttachment=function(e,t,n){t.setAttachment(null==n?null:e.getAttachment(this.slotIndex,n))},i}();e.AttachmentTimeline=d;var p=null,f=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t),r.frameVertices=new Array(t),null==p&&(p=e.Utils.newFloatArray(64)),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},i.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n},i.prototype.apply=function(n,r,i,s,a,l,c){var u=n.slots[this.slotIndex];if(u.bone.active){var h=u.getAttachment();if(h instanceof e.VertexAttachment&&h.deformAttachment==this.attachment){var d=u.deform;0==d.length&&(l=t.setup);var p=this.frameVertices,f=p[0].length,g=this.frames;if(i<g[0]){var m=h;switch(l){case t.setup:return void(d.length=0);case t.first:if(1==a){d.length=0;break}var _=e.Utils.setArraySize(d,f);if(null==m.bones)for(var v=m.vertices,b=0;b<f;b++)_[b]+=(v[b]-_[b])*a;else{a=1-a;for(b=0;b<f;b++)_[b]*=a}}}else{var E=e.Utils.setArraySize(d,f);if(i>=g[g.length-1]){var y=p[g.length-1];if(1==a)if(l==t.add)if(null==(m=h).bones){v=m.vertices;for(var T=0;T<f;T++)E[T]+=y[T]-v[T]}else for(var w=0;w<f;w++)E[w]+=y[w];else e.Utils.arrayCopy(y,0,E,0,f);else switch(l){case t.setup:var S=h;if(null==S.bones){v=S.vertices;for(var C=0;C<f;C++){var I=v[C];E[C]=I+(y[C]-I)*a}}else for(var k=0;k<f;k++)E[k]=y[k]*a;break;case t.first:case t.replace:for(var R=0;R<f;R++)E[R]+=(y[R]-E[R])*a;break;case t.add:if(null==(m=h).bones){v=m.vertices;for(var M=0;M<f;M++)E[M]+=(y[M]-v[M])*a}else for(var O=0;O<f;O++)E[O]+=y[O]*a}}else{var x=o.binarySearch(g,i),A=p[x-1],N=p[x],L=g[x],D=this.getCurvePercent(x-1,1-(i-L)/(g[x-1]-L));if(1==a)if(l==t.add)if(null==(m=h).bones){v=m.vertices;for(var P=0;P<f;P++){var $=A[P];E[P]+=$+(N[P]-$)*D-v[P]}}else for(var B=0;B<f;B++){$=A[B];E[B]+=$+(N[B]-$)*D}else for(var F=0;F<f;F++){$=A[F];E[F]=$+(N[F]-$)*D}else switch(l){case t.setup:var U=h;if(null==U.bones){v=U.vertices;for(var G=0;G<f;G++){$=A[G],I=v[G];E[G]=I+($+(N[G]-$)*D-I)*a}}else for(var j=0;j<f;j++){$=A[j];E[j]=($+(N[j]-$)*D)*a}break;case t.first:case t.replace:for(var H=0;H<f;H++){$=A[H];E[H]+=($+(N[H]-$)*D-E[H])*a}break;case t.add:if(null==(m=h).bones){v=m.vertices;for(var V=0;V<f;V++){$=A[V];E[V]+=($+(N[V]-$)*D-v[V])*a}}else for(var W=0;W<f;W++){$=A[W];E[W]+=($+(N[W]-$)*D)*a}}}}}}},i}(i);e.DeformTimeline=f;var g=function(){function t(t){this.frames=e.Utils.newFloatArray(t),this.events=new Array(t)}return t.prototype.getPropertyId=function(){return r.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},t.prototype.apply=function(e,t,n,r,i,s,a){if(null!=r){var l=this.frames,c=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,r,i,s,a),t=-1;else if(t>=l[c-1])return;if(!(n<l[0])){var u=0;if(t<l[0])u=0;else for(var h=l[u=o.binarySearch(l,t)];u>0&&l[u-1]==h;)u--;for(;u<c&&n>=l[u];u++)r.push(this.events[u])}}},t}();e.EventTimeline=g;var m=function(){function i(t){this.frames=e.Utils.newFloatArray(t),this.drawOrders=new Array(t)}return i.prototype.getPropertyId=function(){return r.drawOrder<<24},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},i.prototype.apply=function(r,i,s,a,l,c,u){var h=r.drawOrder,d=r.slots;if(u!=n.mixOut){var p=this.frames;if(s<p[0])c!=t.setup&&c!=t.first||e.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else{var f=0;f=s>=p[p.length-1]?p.length-1:o.binarySearch(p,s)-1;var g=this.drawOrders[f];if(null==g)e.Utils.arrayCopy(d,0,h,0,d.length);else for(var m=0,_=g.length;m<_;m++)h[m]=d[g[m]]}}else c==t.setup&&e.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length)},i}();e.DrawOrderTimeline=m;var _=function(i){function s(t){var n=i.call(this,t)||this;return n.frames=e.Utils.newFloatArray(t*s.ENTRIES),n}return Kc(s,i),s.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(e,t,n,r,o,i,a){e*=s.ENTRIES,this.frames[e]=t,this.frames[e+s.MIX]=n,this.frames[e+s.SOFTNESS]=r,this.frames[e+s.BEND_DIRECTION]=o,this.frames[e+s.COMPRESS]=i?1:0,this.frames[e+s.STRETCH]=a?1:0},s.prototype.apply=function(e,r,i,a,l,c,u){var h=this.frames,d=e.ikConstraints[this.ikConstraintIndex];if(d.active)if(i<h[0])switch(c){case t.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case t.first:d.mix+=(d.data.mix-d.mix)*l,d.softness+=(d.data.softness-d.softness)*l,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else if(i>=h[h.length-s.ENTRIES])c==t.setup?(d.mix=d.data.mix+(h[h.length+s.PREV_MIX]-d.data.mix)*l,d.softness=d.data.softness+(h[h.length+s.PREV_SOFTNESS]-d.data.softness)*l,u==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH])):(d.mix+=(h[h.length+s.PREV_MIX]-d.mix)*l,d.softness+=(h[h.length+s.PREV_SOFTNESS]-d.softness)*l,u==n.mixIn&&(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH]));else{var p=o.binarySearch(h,i,s.ENTRIES),f=h[p+s.PREV_MIX],g=h[p+s.PREV_SOFTNESS],m=h[p],_=this.getCurvePercent(p/s.ENTRIES-1,1-(i-m)/(h[p+s.PREV_TIME]-m));c==t.setup?(d.mix=d.data.mix+(f+(h[p+s.MIX]-f)*_-d.data.mix)*l,d.softness=d.data.softness+(g+(h[p+s.SOFTNESS]-g)*_-d.data.softness)*l,u==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH])):(d.mix+=(f+(h[p+s.MIX]-f)*_-d.mix)*l,d.softness+=(g+(h[p+s.SOFTNESS]-g)*_-d.softness)*l,u==n.mixIn&&(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH]))}},s.ENTRIES=6,s.PREV_TIME=-6,s.PREV_MIX=-5,s.PREV_SOFTNESS=-4,s.PREV_BEND_DIRECTION=-3,s.PREV_COMPRESS=-2,s.PREV_STRETCH=-1,s.MIX=1,s.SOFTNESS=2,s.BEND_DIRECTION=3,s.COMPRESS=4,s.STRETCH=5,s}(i);e.IkConstraintTimeline=_;var v=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},i.prototype.setFrame=function(e,t,n,r,o,s){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.ROTATE]=n,this.frames[e+i.TRANSLATE]=r,this.frames[e+i.SCALE]=o,this.frames[e+i.SHEAR]=s},i.prototype.apply=function(e,n,r,s,a,l,c){var u=this.frames,h=e.transformConstraints[this.transformConstraintIndex];if(h.active)if(r<u[0]){var d=h.data;switch(l){case t.setup:return h.rotateMix=d.rotateMix,h.translateMix=d.translateMix,h.scaleMix=d.scaleMix,void(h.shearMix=d.shearMix);case t.first:h.rotateMix+=(d.rotateMix-h.rotateMix)*a,h.translateMix+=(d.translateMix-h.translateMix)*a,h.scaleMix+=(d.scaleMix-h.scaleMix)*a,h.shearMix+=(d.shearMix-h.shearMix)*a}}else{var p=0,f=0,g=0,m=0;if(r>=u[u.length-i.ENTRIES]){var _=u.length;p=u[_+i.PREV_ROTATE],f=u[_+i.PREV_TRANSLATE],g=u[_+i.PREV_SCALE],m=u[_+i.PREV_SHEAR]}else{var v=o.binarySearch(u,r,i.ENTRIES);p=u[v+i.PREV_ROTATE],f=u[v+i.PREV_TRANSLATE],g=u[v+i.PREV_SCALE],m=u[v+i.PREV_SHEAR];var b=u[v],E=this.getCurvePercent(v/i.ENTRIES-1,1-(r-b)/(u[v+i.PREV_TIME]-b));p+=(u[v+i.ROTATE]-p)*E,f+=(u[v+i.TRANSLATE]-f)*E,g+=(u[v+i.SCALE]-g)*E,m+=(u[v+i.SHEAR]-m)*E}if(l==t.setup){d=h.data;h.rotateMix=d.rotateMix+(p-d.rotateMix)*a,h.translateMix=d.translateMix+(f-d.translateMix)*a,h.scaleMix=d.scaleMix+(g-d.scaleMix)*a,h.shearMix=d.shearMix+(m-d.shearMix)*a}else h.rotateMix+=(p-h.rotateMix)*a,h.translateMix+=(f-h.translateMix)*a,h.scaleMix+=(g-h.scaleMix)*a,h.shearMix+=(m-h.shearMix)*a}},i.ENTRIES=5,i.PREV_TIME=-5,i.PREV_ROTATE=-4,i.PREV_TRANSLATE=-3,i.PREV_SCALE=-2,i.PREV_SHEAR=-1,i.ROTATE=1,i.TRANSLATE=2,i.SCALE=3,i.SHEAR=4,i}(i);e.TransformConstraintTimeline=v;var b=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},i.prototype.setFrame=function(e,t,n){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.VALUE]=n},i.prototype.apply=function(e,n,r,s,a,l,c){var u=this.frames,h=e.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<u[0])switch(l){case t.setup:return void(h.position=h.data.position);case t.first:h.position+=(h.data.position-h.position)*a}else{var d=0;if(r>=u[u.length-i.ENTRIES])d=u[u.length+i.PREV_VALUE];else{var p=o.binarySearch(u,r,i.ENTRIES);d=u[p+i.PREV_VALUE];var f=u[p],g=this.getCurvePercent(p/i.ENTRIES-1,1-(r-f)/(u[p+i.PREV_TIME]-f));d+=(u[p+i.VALUE]-d)*g}l==t.setup?h.position=h.data.position+(d-h.data.position)*a:h.position+=(d-h.position)*a}},i.ENTRIES=2,i.PREV_TIME=-2,i.PREV_VALUE=-1,i.VALUE=1,i}(i);e.PathConstraintPositionTimeline=b;var E=function(e){function n(t){return e.call(this,t)||this}return Kc(n,e),n.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},n.prototype.apply=function(e,r,i,s,a,l,c){var u=this.frames,h=e.pathConstraints[this.pathConstraintIndex];if(h.active)if(i<u[0])switch(l){case t.setup:return void(h.spacing=h.data.spacing);case t.first:h.spacing+=(h.data.spacing-h.spacing)*a}else{var d=0;if(i>=u[u.length-n.ENTRIES])d=u[u.length+n.PREV_VALUE];else{var p=o.binarySearch(u,i,n.ENTRIES);d=u[p+n.PREV_VALUE];var f=u[p],g=this.getCurvePercent(p/n.ENTRIES-1,1-(i-f)/(u[p+n.PREV_TIME]-f));d+=(u[p+n.VALUE]-d)*g}l==t.setup?h.spacing=h.data.spacing+(d-h.data.spacing)*a:h.spacing+=(d-h.spacing)*a}},n}(b);e.PathConstraintSpacingTimeline=E;var y=function(n){function i(t){var r=n.call(this,t)||this;return r.frames=e.Utils.newFloatArray(t*i.ENTRIES),r}return Kc(i,n),i.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},i.prototype.setFrame=function(e,t,n,r){e*=i.ENTRIES,this.frames[e]=t,this.frames[e+i.ROTATE]=n,this.frames[e+i.TRANSLATE]=r},i.prototype.apply=function(e,n,r,s,a,l,c){var u=this.frames,h=e.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<u[0])switch(l){case t.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case t.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*a,h.translateMix+=(h.data.translateMix-h.translateMix)*a}else{var d=0,p=0;if(r>=u[u.length-i.ENTRIES])d=u[u.length+i.PREV_ROTATE],p=u[u.length+i.PREV_TRANSLATE];else{var f=o.binarySearch(u,r,i.ENTRIES);d=u[f+i.PREV_ROTATE],p=u[f+i.PREV_TRANSLATE];var g=u[f],m=this.getCurvePercent(f/i.ENTRIES-1,1-(r-g)/(u[f+i.PREV_TIME]-g));d+=(u[f+i.ROTATE]-d)*m,p+=(u[f+i.TRANSLATE]-p)*m}l==t.setup?(h.rotateMix=h.data.rotateMix+(d-h.data.rotateMix)*a,h.translateMix=h.data.translateMix+(p-h.data.translateMix)*a):(h.rotateMix+=(d-h.rotateMix)*a,h.translateMix+=(p-h.translateMix)*a)}},i.ENTRIES=3,i.PREV_TIME=-3,i.PREV_ROTATE=-2,i.PREV_TRANSLATE=-1,i.ROTATE=1,i.TRANSLATE=2,i}(i);e.PathConstraintMixTimeline=y}(Yc||(Yc={})),function(e){var t=function(){function t(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new o(this),this.propertyIDs=new e.IntSet,this.animationsChanged=!1,this.trackEntryPool=new e.Pool((function(){return new n})),this.data=t}return t.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var o=t[n];if(null!=o){o.animationLast=o.nextAnimationLast,o.trackLast=o.nextTrackLast;var i=e*o.timeScale;if(o.delay>0){if(o.delay-=i,o.delay>0)continue;i=-o.delay,o.delay=0}var s=o.next;if(null!=s){var a=o.trackLast-s.delay;if(a>=0){for(s.delay=0,s.trackTime+=0==o.timeScale?0:(a/o.timeScale+e)*s.timeScale,o.trackTime+=i,this.setCurrent(n,s,!0);null!=s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(o.trackLast>=o.trackEnd&&null==o.mixingFrom){t[n]=null,this.queue.end(o),this.disposeNext(o);continue}if(null!=o.mixingFrom&&this.updateMixingFrom(o,e)){var l=o.mixingFrom;for(o.mixingFrom=null,null!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}o.trackTime+=i}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,t){var n=e.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!=n.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)},t.prototype.apply=function(n){if(null==n)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,o=this.tracks,i=!1,s=0,a=o.length;s<a;s++){var l=o[s];if(!(null==l||l.delay>0)){i=!0;var c=0==s?e.MixBlend.first:l.mixBlend,u=l.alpha;null!=l.mixingFrom?u*=this.applyMixingFrom(l,n,c):l.trackTime>=l.trackEnd&&null==l.next&&(u=0);var h=l.animationLast,d=l.getAnimationTime(),p=l.animation.timelines.length,f=l.animation.timelines;if(0==s&&1==u||c==e.MixBlend.add)for(var g=0;g<p;g++){e.Utils.webkit602BugfixHelper(u,c);var m=f[g];m instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(m,n,d,c,!0):m.apply(n,h,d,r,u,c,e.MixDirection.mixIn)}else{var _=l.timelineMode,v=0==l.timelinesRotation.length;v&&e.Utils.setArraySize(l.timelinesRotation,p<<1,null);var b=l.timelinesRotation;for(g=0;g<p;g++){var E=f[g],y=_[g]==t.SUBSEQUENT?c:e.MixBlend.setup;E instanceof e.RotateTimeline?this.applyRotateTimeline(E,n,d,u,y,b,g<<1,v):E instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(E,n,d,c,!0):(e.Utils.webkit602BugfixHelper(u,c),E.apply(n,h,d,r,u,y,e.MixDirection.mixIn))}}this.queueEvents(l,d),r.length=0,l.nextAnimationLast=d,l.nextTrackLast=l.trackTime}}for(var T=this.unkeyedState+t.SETUP,w=n.slots,S=0,C=n.slots.length;S<C;S++){var I=w[S];if(I.attachmentState==T){var k=I.data.attachmentName;I.setAttachment(null==k?null:n.getAttachment(I.data.index,k))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(n,r,o){var i=n.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,r,o);var s=0;0==n.mixDuration?(s=1,o==e.MixBlend.first&&(o=e.MixBlend.setup)):((s=n.mixTime/n.mixDuration)>1&&(s=1),o!=e.MixBlend.first&&(o=i.mixBlend));var a=s<i.eventThreshold?this.events:null,l=s<i.attachmentThreshold,c=s<i.drawOrderThreshold,u=i.animationLast,h=i.getAnimationTime(),d=i.animation.timelines.length,p=i.animation.timelines,f=i.alpha*n.interruptAlpha,g=f*(1-s);if(o==e.MixBlend.add)for(var m=0;m<d;m++)p[m].apply(r,u,h,a,g,o,e.MixDirection.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,b=0==i.timelinesRotation.length;b&&e.Utils.setArraySize(i.timelinesRotation,d<<1,null);var E=i.timelinesRotation;i.totalAlpha=0;for(m=0;m<d;m++){var y=p[m],T=e.MixDirection.mixOut,w=void 0,S=0;switch(_[m]){case t.SUBSEQUENT:if(!c&&y instanceof e.DrawOrderTimeline)continue;w=o,S=g;break;case t.FIRST:w=e.MixBlend.setup,S=g;break;case t.HOLD_SUBSEQUENT:w=o,S=f;break;case t.HOLD_FIRST:w=e.MixBlend.setup,S=f;break;default:w=e.MixBlend.setup;var C=v[m];S=f*Math.max(0,1-C.mixTime/C.mixDuration)}i.totalAlpha+=S,y instanceof e.RotateTimeline?this.applyRotateTimeline(y,r,h,S,w,E,m<<1,b):y instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(y,r,h,w,l):(e.Utils.webkit602BugfixHelper(S,o),c&&y instanceof e.DrawOrderTimeline&&w==e.MixBlend.setup&&(T=e.MixDirection.mixIn),y.apply(r,u,h,a,S,w,T))}}return n.mixDuration>0&&this.queueEvents(i,h),this.events.length=0,i.nextAnimationLast=h,i.nextTrackLast=i.trackTime,s},t.prototype.applyAttachmentTimeline=function(n,r,o,i,s){var a=r.slots[n.slotIndex];if(a.bone.active){var l,c=n.frames;if(o<c[0])i!=e.MixBlend.setup&&i!=e.MixBlend.first||this.setAttachment(r,a,a.data.attachmentName,s);else l=o>=c[c.length-1]?c.length-1:e.Animation.binarySearch(c,o)-1,this.setAttachment(r,a,n.attachmentNames[l],s);a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,n,r,o){n.setAttachment(null==r?null:e.getAttachment(n.data.index,r)),o&&(n.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(t,n,r,o,i,s,a,l){if(l&&(s[a]=0),1!=o){var c=t,u=c.frames,h=n.bones[c.boneIndex];if(h.active){var d=0,p=0;if(r<u[0])switch(i){case e.MixBlend.setup:h.rotation=h.data.rotation;default:return;case e.MixBlend.first:d=h.rotation,p=h.data.rotation}else if(d=i==e.MixBlend.setup?h.data.rotation:h.rotation,r>=u[u.length-e.RotateTimeline.ENTRIES])p=h.data.rotation+u[u.length+e.RotateTimeline.PREV_ROTATION];else{var f=e.Animation.binarySearch(u,r,e.RotateTimeline.ENTRIES),g=u[f+e.RotateTimeline.PREV_ROTATION],m=u[f],_=c.getCurvePercent((f>>1)-1,1-(r-m)/(u[f+e.RotateTimeline.PREV_TIME]-m));p=u[f+e.RotateTimeline.ROTATION]-g,p=g+(p-=360*(16384-(16384.499999999996-p/360|0)))*_+h.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var v=0,b=p-d;if(0==(b-=360*(16384-(16384.499999999996-b/360|0))))v=s[a];else{var E=0,y=0;l?(E=0,y=b):(E=s[a],y=s[a+1]);var T=b>0,w=E>=0;e.MathUtils.signum(y)!=e.MathUtils.signum(b)&&Math.abs(y)<=90&&(Math.abs(E)>180&&(E+=360*e.MathUtils.signum(E)),w=T),v=b+E-E%360,w!=T&&(v+=360*e.MathUtils.signum(E)),s[a]=v}s[a+1]=b,d+=v*o,h.rotation=d-360*(16384-(16384.499999999996-d/360|0))}}else t.apply(n,0,r,null,1,i,e.MixDirection.mixIn)},t.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,o=r-n,i=e.trackLast%o,s=this.events,a=0,l=s.length;a<l;a++){var c=s[a];if(c.time<i)break;c.time>r||this.queue.event(e,c)}for((e.loop?0==o||i>e.trackTime%o:t>=r&&e.animationLast<r)&&this.queue.complete(e);a<l;a++){s[a].time<n||this.queue.event(e,s[a])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),t.mixingFrom=r,r.mixingTo=t,t.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},t.prototype.setAnimation=function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,r,n)},t.prototype.setAnimationWith=function(e,t,n){if(null==t)throw new Error("animation cannot be null.");var r=!0,o=this.expandToIndex(e);null!=o&&(-1==o.nextTrackLast?(this.tracks[e]=o.mixingFrom,this.queue.interrupt(o),this.queue.end(o),this.disposeNext(o),o=o.mixingFrom,r=!1):this.disposeNext(o));var i=this.trackEntry(e,t,n,o);return this.setCurrent(e,i,r),this.queue.drain(),i},t.prototype.addAnimation=function(e,t,n,r){var o=this.data.skeletonData.findAnimation(t);if(null==o)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,o,n,r)},t.prototype.addAnimationWith=function(e,t,n,r){if(null==t)throw new Error("animation cannot be null.");var o=this.expandToIndex(e);if(null!=o)for(;null!=o.next;)o=o.next;var i=this.trackEntry(e,t,n,o);if(null==o)this.setCurrent(e,i,!0),this.queue.drain();else if(o.next=i,r<=0){var s=o.animationEnd-o.animationStart;0!=s?(o.loop?r+=s*(1+(o.trackTime/s|0)):r+=Math.max(s,o.trackTime),r-=this.data.getMix(o.animation,t)):r=o.trackTime}return i.delay=r,i},t.prototype.setEmptyAnimation=function(e,n){var r=this.setAnimationWith(e,t.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r},t.prototype.addEmptyAnimation=function(e,n,r){r<=0&&(r-=n);var o=this.addAnimationWith(e,t.emptyAnimation,!1,r);return o.mixDuration=n,o.trackEnd=n,o},t.prototype.setEmptyAnimations=function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var o=this.tracks[n];null!=o&&this.setEmptyAnimation(o.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(e.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,n,r,o){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=n,i.loop=r,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=n.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==o?0:this.data.getMix(o.animation,n),i.mixBlend=e.MixBlend.replace,i},t.prototype.disposeNext=function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,n=this.tracks.length;t<n;t++){var r=this.tracks[t];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==e.MixBlend.add||this.computeHold(r),r=r.mixingTo}while(null!=r)}}},t.prototype.computeHold=function(n){var r=n.mixingTo,o=n.animation.timelines,i=n.animation.timelines.length,s=e.Utils.setArraySize(n.timelineMode,i);n.timelineHoldMix.length=0;var a=e.Utils.setArraySize(n.timelineHoldMix,i),l=this.propertyIDs;if(null!=r&&r.holdPrevious)for(var c=0;c<i;c++)s[c]=l.add(o[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else e:for(c=0;c<i;c++){var u=o[c],h=u.getPropertyId();if(l.add(h))if(null==r||u instanceof e.AttachmentTimeline||u instanceof e.DrawOrderTimeline||u instanceof e.EventTimeline||!r.animation.hasTimeline(h))s[c]=t.FIRST;else{for(var d=r.mixingTo;null!=d;d=d.mixingTo)if(!d.animation.hasTimeline(h)){if(n.mixDuration>0){s[c]=t.HOLD_MIX,a[c]=d;continue e}break}s[c]=t.HOLD_FIRST}else s[c]=t.SUBSEQUENT}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(null==e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.emptyAnimation=new e.Animation("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t}();e.AnimationState=t;var n=function(){function t(){this.mixBlend=e.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0==e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t}();e.TrackEntry=n;var r,o=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(r.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(r.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(r.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(r.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(r.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(r.event),this.objects.push(e),this.objects.push(t)},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var o=e[n],i=e[n+1];switch(o){case r.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var s=0;s<t.length;s++)t[s].start&&t[s].start(i);break;case r.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(s=0;s<t.length;s++)t[s].interrupt&&t[s].interrupt(i);break;case r.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(s=0;s<t.length;s++)t[s].end&&t[s].end(i);case r.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(s=0;s<t.length;s++)t[s].dispose&&t[s].dispose(i);this.animState.trackEntryPool.free(i);break;case r.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(s=0;s<t.length;s++)t[s].complete&&t[s].complete(i);break;case r.event:var a=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,a);for(s=0;s<t.length;s++)t[s].event&&t[s].event(i,a)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e}();e.EventQueue=o,function(e){e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event"}(r=e.EventType||(e.EventType={}));var i=function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}();e.AnimationStateAdapter=i}(Yc||(Yc={})),function(e){var t=function(){function e(e){if(this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return e.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);var o=this.skeletonData.findAnimation(t);if(null==o)throw new Error("Animation not found: "+t);this.setMixWith(r,o,n)},e.prototype.setMixWith=function(e,t,n){if(null==e)throw new Error("from cannot be null.");if(null==t)throw new Error("to cannot be null.");var r=e.name+"."+t.name;this.animationToMixTime[r]=n},e.prototype.getMix=function(e,t){var n=e.name+"."+t.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},e}();e.AnimationStateData=t}(Yc||(Yc={})),function(e){var t=function(){function t(e,t){void 0===t&&(t=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=e,this.pathPrefix=t}return t.prototype.downloadText=function(e,t,n){if(this.rawDataUris[e])e=this.rawDataUris[e],t(e);else{var r=new XMLHttpRequest;r.overrideMimeType("text/html"),r.open("GET",e,!0),r.onload=function(){200==r.status?t(r.responseText):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()}},t.prototype.downloadBinary=function(e,t,n){if(console.log("download binary: ",e),console.log(this.rawDataUris),this.rawDataUris[e])e=this.rawDataUris[e],t(function(e){let t=";base64,",n=e.indexOf(t)+t.length,r=e.substring(n),o=window.atob(r),i=o.length,s=new Uint8Array(new ArrayBuffer(i));for(let e=0;e<i;e++)s[e]=o.charCodeAt(e);return s}(e));else{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status?t(new Uint8Array(r.response)):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()}},t.prototype.setRawDataURI=function(e,t){this.rawDataUris[this.pathPrefix+e]=t},t.prototype.loadBinary=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null),e=this.pathPrefix+e,this.toLoad++,this.downloadBinary(e,(function(n){r.assets[e]=n,t&&t(e,n),r.toLoad--,r.loaded++}),(function(t,o){r.errors[e]="Couldn't load binary "+e+": status "+status+", "+o,n&&n(e,"Couldn't load binary "+e+": status "+status+", "+o),r.toLoad--,r.loaded++}))},t.prototype.loadText=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null),e=this.pathPrefix+e,this.toLoad++,this.downloadText(e,(function(n){r.assets[e]=n,t&&t(e,n),r.toLoad--,r.loaded++}),(function(t,o){r.errors[e]="Couldn't load text "+e+": status "+status+", "+o,n&&n(e,"Couldn't load text "+e+": status "+status+", "+o),r.toLoad--,r.loaded++}))},t.prototype.loadTexture=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var o=e=this.pathPrefix+e;this.toLoad++;var i=new Image;i.crossOrigin="anonymous",i.onload=function(n){var s=r.textureLoader(i);r.assets[o]=s,r.toLoad--,r.loaded++,t&&t(e,i)},i.onerror=function(t){r.errors[e]="Couldn't load image "+e,r.toLoad--,r.loaded++,n&&n(e,"Couldn't load image "+e)},this.rawDataUris[e]&&(e=this.rawDataUris[e]),i.src=e},t.prototype.loadTextureAtlas=function(t,n,r){var o=this;void 0===n&&(n=null),void 0===r&&(r=null);var i=t.lastIndexOf("/")>=0?t.substring(0,t.lastIndexOf("/")):"";t=this.pathPrefix+t,this.toLoad++,this.downloadText(t,(function(s){var a={count:0},l=new Array;try{new e.TextureAtlas(s,(function(t){l.push(""==i?t:i+"/"+t);var n=document.createElement("img");return n.width=16,n.height=16,new e.FakeTexture(n)}))}catch(e){var c=e;return o.errors[t]="Couldn't load texture atlas "+t+": "+c.message,r&&r(t,"Couldn't load texture atlas "+t+": "+c.message),o.toLoad--,void o.loaded++}for(var u=function(c){var u=!1;o.loadTexture(c,(function(c,h){if(a.count++,a.count==l.length)if(u)o.errors[t]="Couldn't load texture atlas page "+c+"} of atlas "+t,r&&r(t,"Couldn't load texture atlas page "+c+" of atlas "+t),o.toLoad--,o.loaded++;else try{var d=new e.TextureAtlas(s,(function(e){return o.get(""==i?e:i+"/"+e)}));o.assets[t]=d,n&&n(t,d),o.toLoad--,o.loaded++}catch(e){var p=e;o.errors[t]="Couldn't load texture atlas "+t+": "+p.message,r&&r(t,"Couldn't load texture atlas "+t+": "+p.message),o.toLoad--,o.loaded++}}),(function(e,n){u=!0,a.count++,a.count==l.length&&(o.errors[t]="Couldn't load texture atlas page "+e+"} of atlas "+t,r&&r(t,"Couldn't load texture atlas page "+e+" of atlas "+t),o.toLoad--,o.loaded++)}))},h=0,d=l;h<d.length;h++){u(d[h])}}),(function(e,n){o.errors[t]="Couldn't load texture atlas "+t+": status "+status+", "+n,r&&r(t,"Couldn't load texture atlas "+t+": status "+status+", "+n),o.toLoad--,o.loaded++}))},t.prototype.get=function(e){return e=this.pathPrefix+e,this.assets[e]},t.prototype.remove=function(e){e=this.pathPrefix+e;var t=this.assets[e];t.dispose&&t.dispose(),this.assets[e]=null},t.prototype.removeAll=function(){for(var e in this.assets){var t=this.assets[e];t.dispose&&t.dispose()}this.assets={}},t.prototype.isLoadingComplete=function(){return 0==this.toLoad},t.prototype.getToLoad=function(){return this.toLoad},t.prototype.getLoaded=function(){return this.loaded},t.prototype.dispose=function(){this.removeAll()},t.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},t.prototype.getErrors=function(){return this.errors},t}();e.AssetManager=t}(Yc||(Yc={})),function(e){var t=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(t,n,r){var o=this.atlas.findRegion(r);if(null==o)throw new Error("Region not found in atlas: "+r+" (region attachment: "+n+")");o.renderObject=o;var i=new e.RegionAttachment(n);return i.setRegion(o),i},t.prototype.newMeshAttachment=function(t,n,r){var o=this.atlas.findRegion(r);if(null==o)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+n+")");o.renderObject=o;var i=new e.MeshAttachment(n);return i.region=o,i},t.prototype.newBoundingBoxAttachment=function(t,n){return new e.BoundingBoxAttachment(n)},t.prototype.newPathAttachment=function(t,n){return new e.PathAttachment(n)},t.prototype.newPointAttachment=function(t,n){return new e.PointAttachment(n)},t.prototype.newClippingAttachment=function(t,n){return new e.ClippingAttachment(n)},t}();e.AtlasAttachmentLoader=t}(Yc||(Yc={})),function(e){!function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(e.BlendMode||(e.BlendMode={}))}(Yc||(Yc={})),function(e){var t=function(){function t(e,t,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,n,r,o,i,s,a){this.ax=t,this.ay=n,this.arotation=r,this.ascaleX=o,this.ascaleY=i,this.ashearX=s,this.ashearY=a,this.appliedValid=!0;var l=this.parent;if(null==l){var c=this.skeleton,u=r+90+a,h=c.scaleX,d=c.scaleY;return this.a=e.MathUtils.cosDeg(r+s)*o*h,this.b=e.MathUtils.cosDeg(u)*i*h,this.c=e.MathUtils.sinDeg(r+s)*o*d,this.d=e.MathUtils.sinDeg(u)*i*d,this.worldX=t*h+c.x,void(this.worldY=n*d+c.y)}var p=l.a,f=l.b,g=l.c,m=l.d;switch(this.worldX=p*t+f*n+l.worldX,this.worldY=g*t+m*n+l.worldY,this.data.transformMode){case e.TransformMode.Normal:u=r+90+a;var _=e.MathUtils.cosDeg(r+s)*o,v=e.MathUtils.cosDeg(u)*i,b=e.MathUtils.sinDeg(r+s)*o,E=e.MathUtils.sinDeg(u)*i;return this.a=p*_+f*b,this.b=p*v+f*E,this.c=g*_+m*b,void(this.d=g*v+m*E);case e.TransformMode.OnlyTranslation:u=r+90+a;this.a=e.MathUtils.cosDeg(r+s)*o,this.b=e.MathUtils.cosDeg(u)*i,this.c=e.MathUtils.sinDeg(r+s)*o,this.d=e.MathUtils.sinDeg(u)*i;break;case e.TransformMode.NoRotationOrReflection:var y=0;(S=p*p+g*g)>1e-4?(S=Math.abs(p*m-f*g)/S,p/=this.skeleton.scaleX,f=(g/=this.skeleton.scaleY)*S,m=p*S,y=Math.atan2(g,p)*e.MathUtils.radDeg):(p=0,g=0,y=90-Math.atan2(m,f)*e.MathUtils.radDeg);var T=r+s-y,w=r+a-y+90;_=e.MathUtils.cosDeg(T)*o,v=e.MathUtils.cosDeg(w)*i,b=e.MathUtils.sinDeg(T)*o,E=e.MathUtils.sinDeg(w)*i;this.a=p*_-f*b,this.b=p*v-f*E,this.c=g*_+m*b,this.d=g*v+m*E;break;case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:var S,C=e.MathUtils.cosDeg(r),I=e.MathUtils.sinDeg(r),k=(p*C+f*I)/this.skeleton.scaleX,R=(g*C+m*I)/this.skeleton.scaleY;(S=Math.sqrt(k*k+R*R))>1e-5&&(S=1/S),k*=S,R*=S,S=Math.sqrt(k*k+R*R),this.data.transformMode==e.TransformMode.NoScale&&p*m-f*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(S=-S);var M=Math.PI/2+Math.atan2(R,k),O=Math.cos(M)*S,x=Math.sin(M)*S;_=e.MathUtils.cosDeg(s)*o,v=e.MathUtils.cosDeg(90+a)*i,b=e.MathUtils.sinDeg(s)*o,E=e.MathUtils.sinDeg(90+a)*i;this.a=k*_+O*b,this.b=k*v+O*E,this.c=R*_+x*b,this.d=R*v+x*E}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*e.MathUtils.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*e.MathUtils.radDeg},t.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},t.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent;if(null==t)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*e.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*e.MathUtils.radDeg);var n=t.a,r=t.b,o=t.c,i=t.d,s=1/(n*i-r*o),a=this.worldX-t.worldX,l=this.worldY-t.worldY;this.ax=a*i*s-l*r*s,this.ay=l*n*s-a*o*s;var c=s*i,u=s*n,h=s*r,d=s*o,p=c*this.a-h*this.c,f=c*this.b-h*this.d,g=u*this.c-d*this.a,m=u*this.d-d*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(p*p+g*g),this.ascaleX>1e-4){var _=p*m-f*g;this.ascaleY=_/this.ascaleX,this.ashearY=Math.atan2(p*f+g*m,_)*e.MathUtils.radDeg,this.arotation=Math.atan2(g,p)*e.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,f)*e.MathUtils.radDeg},t.prototype.worldToLocal=function(e){var t=this.a,n=this.b,r=this.c,o=this.d,i=1/(t*o-n*r),s=e.x-this.worldX,a=e.y-this.worldY;return e.x=s*o*i-a*n*i,e.y=a*t*i-s*r*i,e},t.prototype.localToWorld=function(e){var t=e.x,n=e.y;return e.x=t*this.a+n*this.b+this.worldX,e.y=t*this.c+n*this.d+this.worldY,e},t.prototype.worldToLocalRotation=function(t){var n=e.MathUtils.sinDeg(t),r=e.MathUtils.cosDeg(t);return Math.atan2(this.a*n-this.c*r,this.d*r-this.b*n)*e.MathUtils.radDeg+this.rotation-this.shearX},t.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var n=e.MathUtils.sinDeg(t),r=e.MathUtils.cosDeg(t);return Math.atan2(r*this.c+n*this.d,r*this.a+n*this.b)*e.MathUtils.radDeg},t.prototype.rotateWorld=function(t){var n=this.a,r=this.b,o=this.c,i=this.d,s=e.MathUtils.cosDeg(t),a=e.MathUtils.sinDeg(t);this.a=s*n-a*o,this.b=s*r-a*i,this.c=a*n+s*o,this.d=a*r+s*i,this.appliedValid=!1},t}();e.Bone=t}(Yc||(Yc={})),function(e){var t,n=function(n,r,o){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=t.Normal,this.skinRequired=!1,this.color=new e.Color,n<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");this.index=n,this.name=r,this.parent=o};e.BoneData=n,function(e){e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(t=e.TransformMode||(e.TransformMode={}))}(Yc||(Yc={})),function(e){var t=function(e,t,n){this.name=e,this.order=t,this.skinRequired=n};e.ConstraintData=t}(Yc||(Yc={})),function(e){var t=function(e,t){if(null==t)throw new Error("data cannot be null.");this.time=e,this.data=t};e.Event=t}(Yc||(Yc={})),function(e){var t=function(e){this.name=e};e.EventData=t}(Yc||(Yc={})),function(e){var t=function(){function t(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==t)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},t.prototype.apply1=function(t,n,r,o,i,s,a){t.appliedValid||t.updateAppliedTransform();var l=t.parent,c=l.a,u=l.b,h=l.c,d=l.d,p=-t.ashearX-t.arotation,f=0,g=0;switch(t.data.transformMode){case e.TransformMode.OnlyTranslation:f=n-t.worldX,g=r-t.worldY;break;case e.TransformMode.NoRotationOrReflection:var m=Math.abs(c*d-u*h)/(c*c+h*h),_=c/t.skeleton.scaleX,v=h/t.skeleton.scaleY;u=-v*m*t.skeleton.scaleX,d=_*m*t.skeleton.scaleY,p+=Math.atan2(v,_)*e.MathUtils.radDeg;default:var b=n-l.worldX,E=r-l.worldY,y=c*d-u*h;f=(b*d-E*u)/y-t.ax,g=(E*c-b*h)/y-t.ay}p+=Math.atan2(g,f)*e.MathUtils.radDeg,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var T=t.ascaleX,w=t.ascaleY;if(o||i){switch(t.data.transformMode){case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:f=n-t.worldX,g=r-t.worldY}var S=t.data.length*T,C=Math.sqrt(f*f+g*g);if(o&&C<S||i&&C>S&&S>1e-4)T*=m=(C/S-1)*a+1,s&&(w*=m)}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,T,w,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,n,r,o,i,s,a,l){if(0!=l){t.appliedValid||t.updateAppliedTransform(),n.appliedValid||n.updateAppliedTransform();var c=t.ax,u=t.ay,h=t.ascaleX,d=h,p=t.ascaleY,f=n.ascaleX,g=0,m=0,_=0;h<0?(h=-h,g=180,_=-1):(g=0,_=1),p<0&&(p=-p,_=-_),f<0?(f=-f,m=180):m=0;var v=n.ax,b=0,E=0,y=0,T=t.a,w=t.b,S=t.c,C=t.d,I=Math.abs(h-p)<=1e-4;I?(E=T*v+w*(b=n.ay)+t.worldX,y=S*v+C*b+t.worldY):(b=0,E=T*v+t.worldX,y=S*v+t.worldY);var k=t.parent;T=k.a,w=k.b,S=k.c;var R,M,O=1/(T*(C=k.d)-w*S),x=E-k.worldX,A=y-k.worldY,N=(x*C-A*w)*O-c,L=(A*T-x*S)*O-u,D=Math.sqrt(N*N+L*L),P=n.data.length*f;if(D<1e-4)return this.apply1(t,r,o,!1,s,!1,l),void n.updateWorldTransformWith(v,b,0,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY);var $=((x=r-k.worldX)*C-(A=o-k.worldY)*w)*O-c,B=(A*T-x*S)*O-u,F=$*$+B*B;if(0!=a){a*=h*(f+1)/2;var U=Math.sqrt(F),G=U-D-P*h+a;if(G>0){var j=Math.min(1,G/(2*a))-1;F=($-=(j=(G-a*(1-j*j))/U)*$)*$+(B-=j*B)*B}}e:if(I){var H=(F-D*D-(P*=h)*P)/(2*D*P);H<-1?H=-1:H>1&&(H=1,s&&(d*=(Math.sqrt(F)/(D+P)-1)*l+1)),M=Math.acos(H)*i,T=D+P*H,w=P*Math.sin(M),R=Math.atan2(B*T-$*w,$*T+B*w)}else{var V=(T=h*P)*T,W=(w=p*P)*w,z=Math.atan2(B,$),Z=-2*W*D,X=W-V;if((C=Z*Z-4*X*(S=W*D*D+V*F-V*W))>=0){var Y=Math.sqrt(C);Z<0&&(Y=-Y);var K=(Y=-(Z+Y)/2)/X,J=S/Y,q=Math.abs(K)<Math.abs(J)?K:J;if(q*q<=F){A=Math.sqrt(F-q*q)*i,R=z-Math.atan2(A,q),M=Math.atan2(A/p,(q-D)/h);break e}}var Q=e.MathUtils.PI,ee=D-T,te=ee*ee,ne=0,re=0,oe=D+T,ie=oe*oe,se=0;(S=-T*D/(V-W))>=-1&&S<=1&&(S=Math.acos(S),(C=(x=T*Math.cos(S)+D)*x+(A=w*Math.sin(S))*A)<te&&(Q=S,te=C,ee=x,ne=A),C>ie&&(re=S,ie=C,oe=x,se=A)),F<=(te+ie)/2?(R=z-Math.atan2(ne*i,ee),M=Q*i):(R=z-Math.atan2(se*i,oe),M=re*i)}var ae=Math.atan2(b,v)*_,le=t.arotation;(R=(R-ae)*e.MathUtils.radDeg+g-le)>180?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(c,u,le+R*l,d,t.ascaleY,0,0),le=n.arotation,(M=((M+ae)*e.MathUtils.radDeg-n.ashearX)*_+m-le)>180?M-=360:M<-180&&(M+=360),n.updateWorldTransformWith(v,b,le+M*l,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY)}else n.updateWorldTransform()},t}();e.IkConstraint=t}(Yc||(Yc={})),function(e){var t=function(e){function t(t){var n=e.call(this,t,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Kc(t,e),t}(e.ConstraintData);e.IkConstraintData=t}(Yc||(Yc={})),function(e){var t=function(){function t(e,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var n=this.target.getAttachment();if(n instanceof e.PathAttachment){var r=this.rotateMix,o=this.translateMix,i=r>0;if(o>0||i){var s=this.data,a=s.spacingMode==e.SpacingMode.Percent,l=s.rotateMode,c=l==e.RotateMode.Tangent,u=l==e.RotateMode.ChainScale,h=this.bones.length,d=c?h:h+1,p=this.bones,f=e.Utils.setArraySize(this.spaces,d),g=null,m=this.spacing;if(u||!a){u&&(g=e.Utils.setArraySize(this.lengths,h));for(var _=s.spacingMode==e.SpacingMode.Length,v=0,b=d-1;v<b;){var E=(x=p[v]).data.length;if(E<t.epsilon)u&&(g[v]=0),f[++v]=0;else if(a){if(u){var y=E*x.a,T=E*x.c,w=Math.sqrt(y*y+T*T);g[v]=w}f[++v]=m}else{y=E*x.a,T=E*x.c;var S=Math.sqrt(y*y+T*T);u&&(g[v]=S),f[++v]=(_?E+m:m)*S/E}}}else for(v=1;v<d;v++)f[v]=m;var C=this.computeWorldPositions(n,d,c,s.positionMode==e.PositionMode.Percent,a),I=C[0],k=C[1],R=s.offsetRotation,M=!1;if(0==R)M=l==e.RotateMode.Chain;else M=!1,R*=(O=this.target.bone).a*O.d-O.b*O.c>0?e.MathUtils.degRad:-e.MathUtils.degRad;v=0;for(var O=3;v<h;v++,O+=3){var x;(x=p[v]).worldX+=(I-x.worldX)*o,x.worldY+=(k-x.worldY)*o;var A=(y=C[O])-I,N=(T=C[O+1])-k;if(u){var L=g[v];if(0!=L){var D=(Math.sqrt(A*A+N*N)/L-1)*r+1;x.a*=D,x.c*=D}}if(I=y,k=T,i){var P=x.a,$=x.b,B=x.c,F=x.d,U=0,G=0,j=0;if(U=c?C[O-1]:0==f[v+1]?C[O+2]:Math.atan2(N,A),U-=Math.atan2(B,P),M){G=Math.cos(U),j=Math.sin(U);var H=x.data.length;I+=(H*(G*P-j*B)-A)*r,k+=(H*(j*P+G*B)-N)*r}else U+=R;U>e.MathUtils.PI?U-=e.MathUtils.PI2:U<-e.MathUtils.PI&&(U+=e.MathUtils.PI2),U*=r,G=Math.cos(U),j=Math.sin(U),x.a=G*P-j*B,x.b=G*$-j*F,x.c=j*P+G*B,x.d=j*$+G*F}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(n,r,o,i,s){var a=this.target,l=this.position,c=this.spaces,u=e.Utils.setArraySize(this.positions,3*r+2),h=null,d=n.closed,p=n.worldVerticesLength,f=p/6,g=t.NONE;if(!n.constantSpeed){var m=n.lengths,_=m[f-=d?1:2];if(i&&(l*=_),s)for(var v=1;v<r;v++)c[v]*=_;h=e.Utils.setArraySize(this.world,8);v=0;for(var b=0,E=0;v<r;v++,b+=3){var y=l+=W=c[v];if(d)(y%=_)<0&&(y+=_),E=0;else{if(y<0){g!=t.BEFORE&&(g=t.BEFORE,n.computeWorldVertices(a,2,4,h,0,2)),this.addBeforePosition(y,h,0,u,b);continue}if(y>_){g!=t.AFTER&&(g=t.AFTER,n.computeWorldVertices(a,p-6,4,h,0,2)),this.addAfterPosition(y-_,h,0,u,b);continue}}for(;;E++){var T=m[E];if(!(y>T)){if(0==E)y/=T;else y=(y-(Y=m[E-1]))/(T-Y);break}}E!=g&&(g=E,d&&E==f?(n.computeWorldVertices(a,p-4,4,h,0,2),n.computeWorldVertices(a,0,4,h,4,2)):n.computeWorldVertices(a,6*E+2,8,h,0,2)),this.addCurvePosition(y,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],u,b,o||v>0&&0==W)}return u}d?(p+=2,h=e.Utils.setArraySize(this.world,p),n.computeWorldVertices(a,2,p-4,h,0,2),n.computeWorldVertices(a,0,2,h,p-4,2),h[p-2]=h[0],h[p-1]=h[1]):(f--,p-=4,h=e.Utils.setArraySize(this.world,p),n.computeWorldVertices(a,2,p,h,0,2));for(var w=e.Utils.setArraySize(this.curves,f),S=0,C=h[0],I=h[1],k=0,R=0,M=0,O=0,x=0,A=0,N=0,L=0,D=0,P=0,$=0,B=0,F=0,U=0,G=(v=0,2);v<f;v++,G+=6)k=h[G],R=h[G+1],M=h[G+2],O=h[G+3],$=2*(N=.1875*(C-2*k+M))+(D=.09375*(3*(k-M)-C+(x=h[G+4]))),B=2*(L=.1875*(I-2*R+O))+(P=.09375*(3*(R-O)-I+(A=h[G+5]))),F=.75*(k-C)+N+.16666667*D,U=.75*(R-I)+L+.16666667*P,S+=Math.sqrt(F*F+U*U),F+=$,U+=B,$+=D,B+=P,S+=Math.sqrt(F*F+U*U),F+=$,U+=B,S+=Math.sqrt(F*F+U*U),F+=$+D,U+=B+P,S+=Math.sqrt(F*F+U*U),w[v]=S,C=x,I=A;if(l*=i?S:S/n.lengths[f-1],s)for(v=1;v<r;v++)c[v]*=S;for(var j=this.segments,H=0,V=(v=0,b=0,E=0,0);v<r;v++,b+=3){var W;y=l+=W=c[v];if(d)(y%=S)<0&&(y+=S),E=0;else{if(y<0){this.addBeforePosition(y,h,0,u,b);continue}if(y>S){this.addAfterPosition(y-S,h,p-4,u,b);continue}}for(;;E++){var z=w[E];if(!(y>z)){if(0==E)y/=z;else y=(y-(Y=w[E-1]))/(z-Y);break}}if(E!=g){g=E;var Z=6*E;for(C=h[Z],I=h[Z+1],k=h[Z+2],R=h[Z+3],M=h[Z+4],O=h[Z+5],$=2*(N=.03*(C-2*k+M))+(D=.006*(3*(k-M)-C+(x=h[Z+6]))),B=2*(L=.03*(I-2*R+O))+(P=.006*(3*(R-O)-I+(A=h[Z+7]))),F=.3*(k-C)+N+.16666667*D,U=.3*(R-I)+L+.16666667*P,H=Math.sqrt(F*F+U*U),j[0]=H,Z=1;Z<8;Z++)F+=$,U+=B,$+=D,B+=P,H+=Math.sqrt(F*F+U*U),j[Z]=H;F+=$,U+=B,H+=Math.sqrt(F*F+U*U),j[8]=H,F+=$+D,U+=B+P,H+=Math.sqrt(F*F+U*U),j[9]=H,V=0}for(y*=H;;V++){var X=j[V];if(!(y>X)){var Y;if(0==V)y/=X;else y=V+(y-(Y=j[V-1]))/(X-Y);break}}this.addCurvePosition(.1*y,C,I,k,R,M,O,x,A,u,b,o||v>0&&0==W)}return u},t.prototype.addBeforePosition=function(e,t,n,r,o){var i=t[n],s=t[n+1],a=t[n+2]-i,l=t[n+3]-s,c=Math.atan2(l,a);r[o]=i+e*Math.cos(c),r[o+1]=s+e*Math.sin(c),r[o+2]=c},t.prototype.addAfterPosition=function(e,t,n,r,o){var i=t[n+2],s=t[n+3],a=i-t[n],l=s-t[n+1],c=Math.atan2(l,a);r[o]=i+e*Math.cos(c),r[o+1]=s+e*Math.sin(c),r[o+2]=c},t.prototype.addCurvePosition=function(e,t,n,r,o,i,s,a,l,c,u,h){if(0==e||isNaN(e))return c[u]=t,c[u+1]=n,void(c[u+2]=Math.atan2(o-n,r-t));var d=e*e,p=d*e,f=1-e,g=f*f,m=g*f,_=f*e,v=3*_,b=f*v,E=v*e,y=t*m+r*b+i*E+a*p,T=n*m+o*b+s*E+l*p;c[u]=y,c[u+1]=T,h&&(c[u+2]=e<.001?Math.atan2(o-n,r-t):Math.atan2(T-(n*g+o*_*2+s*d),y-(t*g+r*_*2+i*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}();e.PathConstraint=t}(Yc||(Yc={})),function(e){var t=function(e){function t(t){var n=e.call(this,t,0,!1)||this;return n.bones=new Array,n}return Kc(t,e),t}(e.ConstraintData);e.PathConstraintData=t,function(e){e[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent"}(e.PositionMode||(e.PositionMode={})),function(e){e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent"}(e.SpacingMode||(e.SpacingMode={})),function(e){e[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(e.RotateMode||(e.RotateMode={}))}(Yc||(Yc={})),function(e){var t=function(){function e(e){this.toLoad=new Array,this.assets={},this.clientId=e}return e.prototype.loaded=function(){var e=0;for(var t in this.assets)e++;return e},e}(),n=function(){function e(e){void 0===e&&(e=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=e}return e.prototype.queueAsset=function(e,n,r){var o=this.clientAssets[e];return null==o&&(o=new t(e),this.clientAssets[e]=o),null!==n&&(o.textureLoader=n),o.toLoad.push(r),this.queuedAssets[r]!==r&&(this.queuedAssets[r]=r,!0)},e.prototype.loadText=function(e,t){var n=this;if(t=this.pathPrefix+t,this.queueAsset(e,null,t)){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?n.rawAssets[t]=r.responseText:n.errors[t]="Couldn't load text "+t+": status "+r.status+", "+r.responseText)},r.open("GET",t,!0),r.send()}},e.prototype.loadJson=function(e,t){var n=this;if(t=this.pathPrefix+t,this.queueAsset(e,null,t)){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?n.rawAssets[t]=JSON.parse(r.responseText):n.errors[t]="Couldn't load text "+t+": status "+r.status+", "+r.responseText)},r.open("GET",t,!0),r.send()}},e.prototype.loadTexture=function(e,t,n){var r=this;if(n=this.pathPrefix+n,this.queueAsset(e,t,n))if(!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document)&&"undefined"!=typeof importScripts){fetch(n,{mode:"cors"}).then((function(e){return e.ok||(r.errors[n]="Couldn't load image "+n),e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){r.rawAssets[n]=e}))}else{var o=new Image;o.crossOrigin="anonymous",o.onload=function(e){r.rawAssets[n]=o},o.onerror=function(e){r.errors[n]="Couldn't load image "+n},o.src=n}},e.prototype.get=function(e,t){t=this.pathPrefix+t;var n=this.clientAssets[e];return null==n||n.assets[t]},e.prototype.updateClientAssets=function(e){for(var t=!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document)&&"undefined"!=typeof importScripts,n=0;n<e.toLoad.length;n++){var r=e.toLoad[n],o=e.assets[r];if(null==o){var i=this.rawAssets[r];if(null==i)continue;t?i instanceof ImageBitmap?e.assets[r]=e.textureLoader(i):e.assets[r]=i:i instanceof HTMLImageElement?e.assets[r]=e.textureLoader(i):e.assets[r]=i}}},e.prototype.isLoadingComplete=function(e){var t=this.clientAssets[e];return null==t||(this.updateClientAssets(t),t.toLoad.length==t.loaded())},e.prototype.dispose=function(){},e.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},e.prototype.getErrors=function(){return this.errors},e}();e.SharedAssetManager=n}(Yc||(Yc={})),function(e){var t=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=t.bones[n],o=void 0;if(null==r.parent)o=new e.Bone(r,this,null);else{var i=this.bones[r.parent.index];o=new e.Bone(r,this,i),i.children.push(o)}this.bones.push(o)}this.slots=new Array,this.drawOrder=new Array;for(n=0;n<t.slots.length;n++){var s=t.slots[n],a=(o=this.bones[s.boneData.index],new e.Slot(s,o));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(n=0;n<t.ikConstraints.length;n++){var l=t.ikConstraints[n];this.ikConstraints.push(new e.IkConstraint(l,this))}this.transformConstraints=new Array;for(n=0;n<t.transformConstraints.length;n++){var c=t.transformConstraints[n];this.transformConstraints.push(new e.TransformConstraint(c,this))}this.pathConstraints=new Array;for(n=0;n<t.pathConstraints.length;n++){var u=t.pathConstraints[n];this.pathConstraints.push(new e.PathConstraint(u,this))}this.color=new e.Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++){(o=e[t]).sorted=o.data.skinRequired,o.active=!o.sorted}if(null!=this.skin){var r=this.skin.bones;for(t=0,n=this.skin.bones.length;t<n;t++){var o=this.bones[r[t].index];do{o.sorted=!1,o.active=!0,o=o.parent}while(null!=o)}}var i=this.ikConstraints,s=this.transformConstraints,a=this.pathConstraints,l=i.length,c=s.length,u=a.length,h=l+c+u;e:for(t=0;t<h;t++){for(var d=0;d<l;d++){if((p=i[d]).data.order==t){this.sortIkConstraint(p);continue e}}for(d=0;d<c;d++){if((p=s[d]).data.order==t){this.sortTransformConstraint(p);continue e}}for(d=0;d<u;d++){var p;if((p=a[d]).data.order==t){this.sortPathConstraint(p);continue e}}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var n=t.target;this.sortBone(n);var r=t.bones,o=r[0];if(this.sortBone(o),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(o.children),r[r.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var n=t.target,r=n.data.index,o=n.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,o),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,o);for(var i=0,s=this.data.skins.length;i<s;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,o);var a=n.getAttachment();a instanceof e.PathAttachment&&this.sortPathConstraintAttachmentWith(a,o);var l=t.bones,c=l.length;for(i=0;i<c;i++)this.sortBone(l[i]);this._updateCache.push(t);for(i=0;i<c;i++)this.sortReset(l[i].children);for(i=0;i<c;i++)l[i].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var n=t.bones,r=n.length;if(t.data.local)for(var o=0;o<r;o++){var i=n[o];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(o=0;o<r;o++)this.sortBone(n[o]);this._updateCache.push(t);for(var s=0;s<r;s++)this.sortReset(n[s].children);for(s=0;s<r;s++)n[s].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var o in r)this.sortPathConstraintAttachmentWith(r[o],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,n){if(t instanceof e.PathAttachment){var r=t.bones;if(null==r)this.sortBone(n);else for(var o=this.bones,i=0;i<r.length;)for(var s=r[i++],a=i+s;i<a;i++){var l=r[i];this.sortBone(o[l])}}},t.prototype.sortBone=function(e){if(!e.sorted){var t=e.parent;null!=t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var o=this._updateCache;for(t=0,n=o.length;t<n;t++)o[t].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();var r=this.ikConstraints;for(t=0,n=r.length;t<n;t++){(a=r[t]).mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}var o=this.transformConstraints;for(t=0,n=o.length;t<n;t++){var i=(a=o[t]).data;a.rotateMix=i.rotateMix,a.translateMix=i.translateMix,a.scaleMix=i.scaleMix,a.shearMix=i.shearMix}var s=this.pathConstraints;for(t=0,n=s.length;t<n;t++){var a;i=(a=s[t]).data;a.position=i.position,a.spacing=i.spacing,a.rotateMix=i.rotateMix,a.translateMix=i.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;e.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var n=0,r=t.length;n<r;n++)t[n].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var o=t[n];if(o.data.name==e)return o}return null},t.prototype.findBoneIndex=function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var o=t[n];if(o.data.name==e)return o}return null},t.prototype.findSlotIndex=function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(null==t)throw new Error("Skin not found: "+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(e!=this.skin){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var o=t[n],i=o.data.attachmentName;if(null!=i){var s=e.getAttachment(n,i);null!=s&&o.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)},t.prototype.getAttachment=function(e,t){if(null==t)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(null==e)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,o=n.length;r<o;r++){var i=n[r];if(i.data.name==e){var s=null;if(null!=t&&null==(s=this.getAttachment(r,t)))throw new Error("Attachment not found: "+t+", for slot: "+e);return void i.setAttachment(s)}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.data.name==e)return o}return null},t.prototype.findTransformConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.data.name==e)return o}return null},t.prototype.findPathConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.data.name==e)return o}return null},t.prototype.getBounds=function(t,n,r){if(void 0===r&&(r=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==n)throw new Error("size cannot be null.");for(var o=this.drawOrder,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=0,u=o.length;c<u;c++){var h=o[c];if(h.bone.active){var d=0,p=null,f=h.getAttachment();if(f instanceof e.RegionAttachment)d=8,p=e.Utils.setArraySize(r,d,0),f.computeWorldVertices(h.bone,p,0,2);else if(f instanceof e.MeshAttachment){var g=f;d=g.worldVerticesLength,p=e.Utils.setArraySize(r,d,0),g.computeWorldVertices(h,0,d,p,0,2)}if(null!=p)for(var m=0,_=p.length;m<_;m+=2){var v=p[m],b=p[m+1];i=Math.min(i,v),s=Math.min(s,b),a=Math.max(a,v),l=Math.max(l,b)}}}t.set(i,s),n.set(a-i,l-s)},t.prototype.update=function(e){this.time+=e},t}();e.Skeleton=t}(Yc||(Yc={})),function(e){var t=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(r){var o=this.scale,i=new e.SkeletonData;i.name="";var s=new n(r);i.hash=s.readString(),i.version=s.readString(),i.x=s.readFloat(),i.y=s.readFloat(),i.width=s.readFloat(),i.height=s.readFloat();var a=s.readBoolean();a&&(i.fps=s.readFloat(),i.imagesPath=s.readString(),i.audioPath=s.readString());var l=0;l=s.readInt(!0);for(var c=0;c<l;c++)s.strings.push(s.readString());l=s.readInt(!0);for(c=0;c<l;c++){var u=s.readString(),h=0==c?null:i.bones[s.readInt(!0)];(f=new e.BoneData(c,u,h)).rotation=s.readFloat(),f.x=s.readFloat()*o,f.y=s.readFloat()*o,f.scaleX=s.readFloat(),f.scaleY=s.readFloat(),f.shearX=s.readFloat(),f.shearY=s.readFloat(),f.length=s.readFloat()*o,f.transformMode=t.TransformModeValues[s.readInt(!0)],f.skinRequired=s.readBoolean(),a&&e.Color.rgba8888ToColor(f.color,s.readInt32()),i.bones.push(f)}l=s.readInt(!0);for(c=0;c<l;c++){var d=s.readString(),p=i.bones[s.readInt(!0)],f=new e.SlotData(c,d,p);e.Color.rgba8888ToColor(f.color,s.readInt32());var g=s.readInt32();-1!=g&&e.Color.rgb888ToColor(f.darkColor=new e.Color,g),f.attachmentName=s.readStringRef(),f.blendMode=t.BlendModeValues[s.readInt(!0)],i.slots.push(f)}l=s.readInt(!0);c=0;for(var m=void 0;c<l;c++){(f=new e.IkConstraintData(s.readString())).order=s.readInt(!0),f.skinRequired=s.readBoolean(),m=s.readInt(!0);for(var _=0;_<m;_++)f.bones.push(i.bones[s.readInt(!0)]);f.target=i.bones[s.readInt(!0)],f.mix=s.readFloat(),f.softness=s.readFloat()*o,f.bendDirection=s.readByte(),f.compress=s.readBoolean(),f.stretch=s.readBoolean(),f.uniform=s.readBoolean(),i.ikConstraints.push(f)}l=s.readInt(!0);for(c=0,m=void 0;c<l;c++){(f=new e.TransformConstraintData(s.readString())).order=s.readInt(!0),f.skinRequired=s.readBoolean(),m=s.readInt(!0);for(_=0;_<m;_++)f.bones.push(i.bones[s.readInt(!0)]);f.target=i.bones[s.readInt(!0)],f.local=s.readBoolean(),f.relative=s.readBoolean(),f.offsetRotation=s.readFloat(),f.offsetX=s.readFloat()*o,f.offsetY=s.readFloat()*o,f.offsetScaleX=s.readFloat(),f.offsetScaleY=s.readFloat(),f.offsetShearY=s.readFloat(),f.rotateMix=s.readFloat(),f.translateMix=s.readFloat(),f.scaleMix=s.readFloat(),f.shearMix=s.readFloat(),i.transformConstraints.push(f)}l=s.readInt(!0);for(c=0,m=void 0;c<l;c++){(f=new e.PathConstraintData(s.readString())).order=s.readInt(!0),f.skinRequired=s.readBoolean(),m=s.readInt(!0);for(_=0;_<m;_++)f.bones.push(i.bones[s.readInt(!0)]);f.target=i.slots[s.readInt(!0)],f.positionMode=t.PositionModeValues[s.readInt(!0)],f.spacingMode=t.SpacingModeValues[s.readInt(!0)],f.rotateMode=t.RotateModeValues[s.readInt(!0)],f.offsetRotation=s.readFloat(),f.position=s.readFloat(),f.positionMode==e.PositionMode.Fixed&&(f.position*=o),f.spacing=s.readFloat(),f.spacingMode!=e.SpacingMode.Length&&f.spacingMode!=e.SpacingMode.Fixed||(f.spacing*=o),f.rotateMix=s.readFloat(),f.translateMix=s.readFloat(),i.pathConstraints.push(f)}var v=this.readSkin(s,i,!0,a);null!=v&&(i.defaultSkin=v,i.skins.push(v));c=i.skins.length;for(e.Utils.setArraySize(i.skins,l=c+s.readInt(!0));c<l;c++)i.skins[c]=this.readSkin(s,i,!1,a);l=this.linkedMeshes.length;for(c=0;c<l;c++){var b=this.linkedMeshes[c],E=null==b.skin?i.defaultSkin:i.findSkin(b.skin);if(null==E)throw new Error("Skin not found: "+b.skin);var y=E.getAttachment(b.slotIndex,b.parent);if(null==y)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?y:b.mesh,b.mesh.setParentMesh(y),b.mesh.updateUVs()}this.linkedMeshes.length=0,l=s.readInt(!0);for(c=0;c<l;c++){(f=new e.EventData(s.readStringRef())).intValue=s.readInt(!1),f.floatValue=s.readFloat(),f.stringValue=s.readString(),f.audioPath=s.readString(),null!=f.audioPath&&(f.volume=s.readFloat(),f.balance=s.readFloat()),i.events.push(f)}l=s.readInt(!0);for(c=0;c<l;c++)i.animations.push(this.readAnimation(s,s.readString(),i));return i},t.prototype.readSkin=function(t,n,r,o){var i=null,s=0;if(r){if(0==(s=t.readInt(!0)))return null;i=new e.Skin("default")}else{(i=new e.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var a=0,l=i.bones.length;a<l;a++)i.bones[a]=n.bones[t.readInt(!0)];for(a=0,l=t.readInt(!0);a<l;a++)i.constraints.push(n.ikConstraints[t.readInt(!0)]);for(a=0,l=t.readInt(!0);a<l;a++)i.constraints.push(n.transformConstraints[t.readInt(!0)]);for(a=0,l=t.readInt(!0);a<l;a++)i.constraints.push(n.pathConstraints[t.readInt(!0)]);s=t.readInt(!0)}for(a=0;a<s;a++)for(var c=t.readInt(!0),u=0,h=t.readInt(!0);u<h;u++){var d=t.readStringRef(),p=this.readAttachment(t,n,i,c,d,o);null!=p&&i.setAttachment(c,d,p)}return i},t.prototype.readAttachment=function(n,o,i,s,a,l){var c=this.scale,u=n.readStringRef();null==u&&(u=a);var h=n.readByte();switch(t.AttachmentTypeValues[h]){case e.AttachmentType.Region:var d=n.readStringRef(),p=n.readFloat(),f=n.readFloat(),g=n.readFloat(),m=n.readFloat(),_=n.readFloat(),v=n.readFloat(),b=n.readFloat(),E=n.readInt32();null==d&&(d=u);var y=this.attachmentLoader.newRegionAttachment(i,u,d);return null==y?null:(y.path=d,y.x=f*c,y.y=g*c,y.scaleX=m,y.scaleY=_,y.rotation=p,y.width=v*c,y.height=b*c,e.Color.rgba8888ToColor(y.color,E),y.updateOffset(),y);case e.AttachmentType.BoundingBox:var T=n.readInt(!0),w=this.readVertices(n,T),S=(E=l?n.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(i,u));return null==S?null:(S.worldVerticesLength=T<<1,S.vertices=w.vertices,S.bones=w.bones,l&&e.Color.rgba8888ToColor(S.color,E),S);case e.AttachmentType.Mesh:d=n.readStringRef(),E=n.readInt32(),T=n.readInt(!0);var C=this.readFloatArray(n,T<<1,1),I=this.readShortArray(n),k=(w=this.readVertices(n,T),n.readInt(!0)),R=null;v=0,b=0;return l&&(R=this.readShortArray(n),v=n.readFloat(),b=n.readFloat()),null==d&&(d=u),null==(M=this.attachmentLoader.newMeshAttachment(i,u,d))?null:(M.path=d,e.Color.rgba8888ToColor(M.color,E),M.bones=w.bones,M.vertices=w.vertices,M.worldVerticesLength=T<<1,M.triangles=I,M.regionUVs=C,M.updateUVs(),M.hullLength=k<<1,l&&(M.edges=R,M.width=v*c,M.height=b*c),M);case e.AttachmentType.LinkedMesh:d=n.readStringRef(),E=n.readInt32();var M,O=n.readStringRef(),x=n.readStringRef(),A=n.readBoolean();v=0,b=0;return l&&(v=n.readFloat(),b=n.readFloat()),null==d&&(d=u),null==(M=this.attachmentLoader.newMeshAttachment(i,u,d))?null:(M.path=d,e.Color.rgba8888ToColor(M.color,E),l&&(M.width=v*c,M.height=b*c),this.linkedMeshes.push(new r(M,O,s,x,A)),M);case e.AttachmentType.Path:for(var N=n.readBoolean(),L=n.readBoolean(),D=(T=n.readInt(!0),w=this.readVertices(n,T),e.Utils.newArray(T/3,0)),P=0,$=D.length;P<$;P++)D[P]=n.readFloat()*c;E=l?n.readInt32():0;return null==(d=this.attachmentLoader.newPathAttachment(i,u))?null:(d.closed=N,d.constantSpeed=L,d.worldVerticesLength=T<<1,d.vertices=w.vertices,d.bones=w.bones,d.lengths=D,l&&e.Color.rgba8888ToColor(d.color,E),d);case e.AttachmentType.Point:p=n.readFloat(),f=n.readFloat(),g=n.readFloat(),E=l?n.readInt32():0;var B=this.attachmentLoader.newPointAttachment(i,u);return null==B?null:(B.x=f*c,B.y=g*c,B.rotation=p,l&&e.Color.rgba8888ToColor(B.color,E),B);case e.AttachmentType.Clipping:var F=n.readInt(!0),U=(T=n.readInt(!0),w=this.readVertices(n,T),E=l?n.readInt32():0,this.attachmentLoader.newClippingAttachment(i,u));return null==U?null:(U.endSlot=o.slots[F],U.worldVerticesLength=T<<1,U.vertices=w.vertices,U.bones=w.bones,l&&e.Color.rgba8888ToColor(U.color,E),U)}return null},t.prototype.readVertices=function(t,n){var r=n<<1,i=new o,s=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,r,s),i;for(var a=new Array,l=new Array,c=0;c<n;c++){var u=t.readInt(!0);l.push(u);for(var h=0;h<u;h++)l.push(t.readInt(!0)),a.push(t.readFloat()*s),a.push(t.readFloat()*s),a.push(t.readFloat())}return i.vertices=e.Utils.toFloatArray(a),i.bones=l,i},t.prototype.readFloatArray=function(e,t,n){var r=new Array(t);if(1==n)for(var o=0;o<t;o++)r[o]=e.readFloat();else for(o=0;o<t;o++)r[o]=e.readFloat()*n;return r},t.prototype.readShortArray=function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n},t.prototype.readAnimation=function(n,r,o){for(var i=new Array,s=this.scale,a=0,l=new e.Color,c=new e.Color,u=0,h=n.readInt(!0);u<h;u++)for(var d=n.readInt(!0),p=0,f=n.readInt(!0);p<f;p++){var g=n.readByte(),m=n.readInt(!0);switch(g){case t.SLOT_ATTACHMENT:(E=new e.AttachmentTimeline(m)).slotIndex=d;for(var _=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readStringRef());i.push(E),a=Math.max(a,E.frames[m-1]);break;case t.SLOT_COLOR:(E=new e.ColorTimeline(m)).slotIndex=d;for(_=0;_<m;_++){var v=n.readFloat();e.Color.rgba8888ToColor(l,n.readInt32()),E.setFrame(_,v,l.r,l.g,l.b,l.a),_<m-1&&this.readCurve(n,_,E)}i.push(E),a=Math.max(a,E.frames[(m-1)*e.ColorTimeline.ENTRIES]);break;case t.SLOT_TWO_COLOR:(E=new e.TwoColorTimeline(m)).slotIndex=d;for(_=0;_<m;_++){v=n.readFloat();e.Color.rgba8888ToColor(l,n.readInt32()),e.Color.rgb888ToColor(c,n.readInt32()),E.setFrame(_,v,l.r,l.g,l.b,l.a,c.r,c.g,c.b),_<m-1&&this.readCurve(n,_,E)}i.push(E),a=Math.max(a,E.frames[(m-1)*e.TwoColorTimeline.ENTRIES])}}for(u=0,h=n.readInt(!0);u<h;u++){var b=n.readInt(!0);for(p=0,f=n.readInt(!0);p<f;p++){g=n.readByte(),m=n.readInt(!0);switch(g){case t.BONE_ROTATE:(E=new e.RotateTimeline(m)).boneIndex=b;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat()),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.RotateTimeline.ENTRIES]);break;case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:var E=void 0,y=1;g==t.BONE_SCALE?E=new e.ScaleTimeline(m):g==t.BONE_SHEAR?E=new e.ShearTimeline(m):(E=new e.TranslateTimeline(m),y=s),E.boneIndex=b;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat()*y,n.readFloat()*y),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.TranslateTimeline.ENTRIES])}}}for(u=0,h=n.readInt(!0);u<h;u++){var T=n.readInt(!0);m=n.readInt(!0);(E=new e.IkConstraintTimeline(m)).ikConstraintIndex=T;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat(),n.readFloat()*s,n.readByte(),n.readBoolean(),n.readBoolean()),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.IkConstraintTimeline.ENTRIES])}for(u=0,h=n.readInt(!0);u<h;u++){T=n.readInt(!0),m=n.readInt(!0);(E=new e.TransformConstraintTimeline(m)).transformConstraintIndex=T;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.TransformConstraintTimeline.ENTRIES])}for(u=0,h=n.readInt(!0);u<h;u++){T=n.readInt(!0);var w=o.pathConstraints[T];for(p=0,f=n.readInt(!0);p<f;p++){g=n.readByte(),m=n.readInt(!0);switch(g){case t.PATH_POSITION:case t.PATH_SPACING:E=void 0,y=1;g==t.PATH_SPACING?(E=new e.PathConstraintSpacingTimeline(m),w.spacingMode!=e.SpacingMode.Length&&w.spacingMode!=e.SpacingMode.Fixed||(y=s)):(E=new e.PathConstraintPositionTimeline(m),w.positionMode==e.PositionMode.Fixed&&(y=s)),E.pathConstraintIndex=T;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat()*y),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.PathConstraintPositionTimeline.ENTRIES]);break;case t.PATH_MIX:(E=new e.PathConstraintMixTimeline(m)).pathConstraintIndex=T;for(_=0;_<m;_++)E.setFrame(_,n.readFloat(),n.readFloat(),n.readFloat()),_<m-1&&this.readCurve(n,_,E);i.push(E),a=Math.max(a,E.frames[(m-1)*e.PathConstraintMixTimeline.ENTRIES])}}}for(u=0,h=n.readInt(!0);u<h;u++){var S=o.skins[n.readInt(!0)];for(p=0,f=n.readInt(!0);p<f;p++){d=n.readInt(!0);for(var C=0,I=n.readInt(!0);C<I;C++){var k=S.getAttachment(d,n.readStringRef()),R=null!=k.bones,M=k.vertices,O=R?M.length/3*2:M.length;m=n.readInt(!0);(E=new e.DeformTimeline(m)).slotIndex=d,E.attachment=k;for(_=0;_<m;_++){v=n.readFloat();var x=void 0,A=n.readInt(!0);if(0==A)x=R?e.Utils.newFloatArray(O):M;else{x=e.Utils.newFloatArray(O);var N=n.readInt(!0);if(A+=N,1==s)for(var L=N;L<A;L++)x[L]=n.readFloat();else for(L=N;L<A;L++)x[L]=n.readFloat()*s;if(!R){L=0;for(var D=x.length;L<D;L++)x[L]+=M[L]}}E.setFrame(_,v,x),_<m-1&&this.readCurve(n,_,E)}i.push(E),a=Math.max(a,E.frames[m-1])}}}var P=n.readInt(!0);if(P>0){E=new e.DrawOrderTimeline(P);var $=o.slots.length;for(u=0;u<P;u++){v=n.readFloat();var B=n.readInt(!0),F=e.Utils.newArray($,0);for(p=$-1;p>=0;p--)F[p]=-1;var U=e.Utils.newArray($-B,0),G=0,j=0;for(p=0;p<B;p++){for(d=n.readInt(!0);G!=d;)U[j++]=G++;F[G+n.readInt(!0)]=G++}for(;G<$;)U[j++]=G++;for(p=$-1;p>=0;p--)-1==F[p]&&(F[p]=U[--j]);E.setFrame(u,v,F)}i.push(E),a=Math.max(a,E.frames[P-1])}var H=n.readInt(!0);if(H>0){for(E=new e.EventTimeline(H),u=0;u<H;u++){v=n.readFloat();var V=o.events[n.readInt(!0)],W=new e.Event(v,V);W.intValue=n.readInt(!1),W.floatValue=n.readFloat(),W.stringValue=n.readBoolean()?n.readString():V.stringValue,null!=W.data.audioPath&&(W.volume=n.readFloat(),W.balance=n.readFloat()),E.setFrame(u,W)}i.push(E),a=Math.max(a,E.frames[H-1])}return new e.Animation(r,i,a)},t.prototype.readCurve=function(e,n,r){switch(e.readByte()){case t.CURVE_STEPPED:r.setStepped(n);break;case t.CURVE_BEZIER:this.setCurve(r,n,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())}},t.prototype.setCurve=function(e,t,n,r,o,i){e.setCurve(t,n,r,o,i)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[e.TransformMode.Normal,e.TransformMode.OnlyTranslation,e.TransformMode.NoRotationOrReflection,e.TransformMode.NoScale,e.TransformMode.NoScaleOrReflection],t.PositionModeValues=[e.PositionMode.Fixed,e.PositionMode.Percent],t.SpacingModeValues=[e.SpacingMode.Length,e.SpacingMode.Fixed,e.SpacingMode.Percent],t.RotateModeValues=[e.RotateMode.Tangent,e.RotateMode.Chain,e.RotateMode.ChainScale],t.BlendModeValues=[e.BlendMode.Normal,e.BlendMode.Additive,e.BlendMode.Multiply,e.BlendMode.Screen],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}();e.SkeletonBinary=t;var n=function(){function e(e,t,n,r){void 0===t&&(t=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(e.buffer)),this.strings=t,this.index=n,this.buffer=r}return e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},e.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},e.prototype.readInt=function(e){var t=this.readByte(),n=127&t;return 0!=(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<14,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<21,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<28)))),e?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var e=this.readInt(!0);return 0==e?null:this.strings[e-1]},e.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var r=this.readByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t},e.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},e.prototype.readBoolean=function(){return 0!=this.readByte()},e}(),r=function(e,t,n,r,o){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=o},o=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.bones=e,this.vertices=t}}(Yc||(Yc={})),function(e){var t=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new e.Pool((function(){return e.Utils.newFloatArray(16)}))}return t.prototype.update=function(t,n){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,o=this.polygons,i=this.polygonPool,s=t.slots,a=s.length;r.length=0,i.freeAll(o),o.length=0;for(var l=0;l<a;l++){var c=s[l];if(c.bone.active){var u=c.getAttachment();if(u instanceof e.BoundingBoxAttachment){var h=u;r.push(h);var d=i.obtain();d.length!=h.worldVerticesLength&&(d=e.Utils.newFloatArray(h.worldVerticesLength)),o.push(d),h.computeWorldVertices(c,0,h.worldVerticesLength,d,0,2)}}}n?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=this.polygons,i=0,s=o.length;i<s;i++)for(var a=o[i],l=a,c=0,u=a.length;c<u;c+=2){var h=l[c],d=l[c+1];e=Math.min(e,h),t=Math.min(t,d),n=Math.max(n,h),r=Math.max(r,d)}this.minX=e,this.minY=t,this.maxX=n,this.maxY=r},t.prototype.aabbContainsPoint=function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,t,n,r){var o=this.minX,i=this.minY,s=this.maxX,a=this.maxY;if(e<=o&&n<=o||t<=i&&r<=i||e>=s&&n>=s||t>=a&&r>=a)return!1;var l=(r-t)/(n-e),c=l*(o-e)+t;if(c>i&&c<a)return!0;if((c=l*(s-e)+t)>i&&c<a)return!0;var u=(i-t)/l+e;return u>o&&u<s||(u=(a-t)/l+e)>o&&u<s},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,t){for(var n=this.polygons,r=0,o=n.length;r<o;r++)if(this.containsPointPolygon(n[r],e,t))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(e,t,n){for(var r=e,o=e.length,i=o-2,s=!1,a=0;a<o;a+=2){var l=r[a+1],c=r[i+1];if(l<n&&c>=n||c<n&&l>=n){var u=r[a];u+(n-l)/(c-l)*(r[i]-u)<t&&(s=!s)}i=a}return s},t.prototype.intersectsSegment=function(e,t,n,r){for(var o=this.polygons,i=0,s=o.length;i<s;i++)if(this.intersectsSegmentPolygon(o[i],e,t,n,r))return this.boundingBoxes[i];return null},t.prototype.intersectsSegmentPolygon=function(e,t,n,r,o){for(var i=e,s=e.length,a=t-r,l=n-o,c=t*o-n*r,u=i[s-2],h=i[s-1],d=0;d<s;d+=2){var p=i[d],f=i[d+1],g=u*f-h*p,m=u-p,_=h-f,v=a*_-l*m,b=(c*m-a*g)/v;if((b>=u&&b<=p||b>=p&&b<=u)&&(b>=t&&b<=r||b>=r&&b<=t)){var E=(c*_-l*g)/v;if((E>=h&&E<=f||E>=f&&E<=h)&&(E>=n&&E<=o||E>=o&&E<=n))return!0}u=p,h=f}return!1},t.prototype.getPolygon=function(e){if(null==e)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(e);return-1==t?null:this.polygons[t]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}();e.SkeletonBounds=t}(Yc||(Yc={})),function(e){var t=function(){function t(){this.triangulator=new e.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return t.prototype.clipStart=function(n,r){if(null!=this.clipAttachment)return 0;this.clipAttachment=r;var o=r.worldVerticesLength,i=e.Utils.setArraySize(this.clippingPolygon,o);r.computeWorldVertices(n,0,o,i,0,2);var s=this.clippingPolygon;t.makeClockwise(s);for(var a=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s)),l=0,c=a.length;l<c;l++){var u=a[l];t.makeClockwise(u),u.push(u[0]),u.push(u[1])}return a.length},t.prototype.clipEndWithSlot=function(e){null!=this.clipAttachment&&this.clipAttachment.endSlot==e.data&&this.clipEnd()},t.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},t.prototype.isClipping=function(){return null!=this.clipAttachment},t.prototype.clipTriangles=function(t,n,r,o,i,s,a,l){var c=this.clipOutput,u=this.clippedVertices,h=this.clippedTriangles,d=this.clippingPolygons,p=this.clippingPolygons.length,f=l?12:8,g=0;u.length=0,h.length=0;e:for(var m=0;m<o;m+=3)for(var _=r[m]<<1,v=t[_],b=t[_+1],E=i[_],y=i[_+1],T=t[_=r[m+1]<<1],w=t[_+1],S=i[_],C=i[_+1],I=t[_=r[m+2]<<1],k=t[_+1],R=i[_],M=i[_+1],O=0;O<p;O++){var x=u.length;if(!this.clip(v,b,T,w,I,k,d[O],c)){(U=e.Utils.setArraySize(u,x+3*f))[x]=v,U[x+1]=b,U[x+2]=s.r,U[x+3]=s.g,U[x+4]=s.b,U[x+5]=s.a,l?(U[x+6]=E,U[x+7]=y,U[x+8]=a.r,U[x+9]=a.g,U[x+10]=a.b,U[x+11]=a.a,U[x+12]=T,U[x+13]=w,U[x+14]=s.r,U[x+15]=s.g,U[x+16]=s.b,U[x+17]=s.a,U[x+18]=S,U[x+19]=C,U[x+20]=a.r,U[x+21]=a.g,U[x+22]=a.b,U[x+23]=a.a,U[x+24]=I,U[x+25]=k,U[x+26]=s.r,U[x+27]=s.g,U[x+28]=s.b,U[x+29]=s.a,U[x+30]=R,U[x+31]=M,U[x+32]=a.r,U[x+33]=a.g,U[x+34]=a.b,U[x+35]=a.a):(U[x+6]=E,U[x+7]=y,U[x+8]=T,U[x+9]=w,U[x+10]=s.r,U[x+11]=s.g,U[x+12]=s.b,U[x+13]=s.a,U[x+14]=S,U[x+15]=C,U[x+16]=I,U[x+17]=k,U[x+18]=s.r,U[x+19]=s.g,U[x+20]=s.b,U[x+21]=s.a,U[x+22]=R,U[x+23]=M),x=h.length,(Y=e.Utils.setArraySize(h,x+3))[x]=g,Y[x+1]=g+1,Y[x+2]=g+2,g+=3;continue e}var A=c.length;if(0!=A){for(var N=w-k,L=I-T,D=v-I,P=k-b,$=1/(N*D+L*(b-k)),B=A>>1,F=this.clipOutput,U=e.Utils.setArraySize(u,x+B*f),G=0;G<A;G+=2){var j=F[G],H=F[G+1];U[x]=j,U[x+1]=H,U[x+2]=s.r,U[x+3]=s.g,U[x+4]=s.b,U[x+5]=s.a;var V=j-I,W=H-k,z=(N*V+L*W)*$,Z=(P*V+D*W)*$,X=1-z-Z;U[x+6]=E*z+S*Z+R*X,U[x+7]=y*z+C*Z+M*X,l&&(U[x+8]=a.r,U[x+9]=a.g,U[x+10]=a.b,U[x+11]=a.a),x+=f}x=h.length;var Y=e.Utils.setArraySize(h,x+3*(B-2));B--;for(G=1;G<B;G++)Y[x]=g,Y[x+1]=g+G,Y[x+2]=g+G+1,x+=3;g+=B+1}}},t.prototype.clip=function(e,t,n,r,o,i,s,a){var l=a,c=!1,u=null;s.length%4>=2?(u=a,a=this.scratch):u=this.scratch,u.length=0,u.push(e),u.push(t),u.push(n),u.push(r),u.push(o),u.push(i),u.push(e),u.push(t),a.length=0;for(var h=s,d=s.length-4,p=0;;p+=2){for(var f=h[p],g=h[p+1],m=h[p+2],_=h[p+3],v=f-m,b=g-_,E=u,y=u.length-2,T=a.length,w=0;w<y;w+=2){var S=E[w],C=E[w+1],I=E[w+2],k=E[w+3],R=v*(k-_)-b*(I-m)>0;if(v*(C-_)-b*(S-m)>0){if(R){a.push(I),a.push(k);continue}var M=(x=k-C)*(m-f)-(A=I-S)*(_-g);if(Math.abs(M)>1e-6){var O=(A*(g-C)-x*(f-S))/M;a.push(f+(m-f)*O),a.push(g+(_-g)*O)}else a.push(f),a.push(g)}else if(R){var x,A;M=(x=k-C)*(m-f)-(A=I-S)*(_-g);if(Math.abs(M)>1e-6){O=(A*(g-C)-x*(f-S))/M;a.push(f+(m-f)*O),a.push(g+(_-g)*O)}else a.push(f),a.push(g);a.push(I),a.push(k)}c=!0}if(T==a.length)return l.length=0,!0;if(a.push(a[0]),a.push(a[1]),p==d)break;var N=a;(a=u).length=0,u=N}if(l!=a){l.length=0;p=0;for(var L=a.length-2;p<L;p++)l[p]=a[p]}else l.length=l.length-2;return c},t.makeClockwise=function(e){for(var t=e,n=e.length,r=t[n-2]*t[1]-t[0]*t[n-1],o=0,i=0,s=0,a=0,l=n-3;a<l;a+=2)o=t[a],i=t[a+1],s=t[a+2],r+=o*t[a+3]-s*i;if(!(r<0)){a=0;var c=n-2;for(l=n>>1;a<l;a+=2){var u=t[a],h=t[a+1],d=c-a;t[a]=t[d],t[a+1]=t[d+1],t[d]=u,t[d+1]=h}}},t}();e.SkeletonClipping=t}(Yc||(Yc={})),function(e){var t=function(){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return e.prototype.findBone=function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findBoneIndex=function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findSlotIndex=function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(null==e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findEvent=function(e){if(null==e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findAnimation=function(e){if(null==e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findIkConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findTransformConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findPathConstraint=function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var o=t[n];if(o.name==e)return o}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}();e.SkeletonData=t}(Yc||(Yc={})),function(e){var t=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(n){var r=this.scale,o=new e.SkeletonData,i="string"==typeof n?JSON.parse(n):n,s=i.skeleton;if(null!=s&&(o.hash=s.hash,o.version=s.spine,o.x=s.x,o.y=s.y,o.width=s.width,o.height=s.height,o.fps=s.fps,o.imagesPath=s.images),i.bones)for(var a=0;a<i.bones.length;a++){var l=i.bones[a],c=null,u=this.getValue(l,"parent",null);if(null!=u&&null==(c=o.findBone(u)))throw new Error("Parent bone not found: "+u);(f=new e.BoneData(o.bones.length,l.name,c)).length=this.getValue(l,"length",0)*r,f.x=this.getValue(l,"x",0)*r,f.y=this.getValue(l,"y",0)*r,f.rotation=this.getValue(l,"rotation",0),f.scaleX=this.getValue(l,"scaleX",1),f.scaleY=this.getValue(l,"scaleY",1),f.shearX=this.getValue(l,"shearX",0),f.shearY=this.getValue(l,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(l,"transform","normal")),f.skinRequired=this.getValue(l,"skin",!1),o.bones.push(f)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=(I=i.slots[a]).name,d=I.bone,p=o.findBone(d);if(null==p)throw new Error("Slot bone not found: "+d);var f=new e.SlotData(o.slots.length,h,p),g=this.getValue(I,"color",null);null!=g&&f.color.setFromString(g);var m=this.getValue(I,"dark",null);null!=m&&(f.darkColor=new e.Color(1,1,1,1),f.darkColor.setFromString(m)),f.attachmentName=this.getValue(I,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(I,"blend","normal")),o.slots.push(f)}if(i.ik)for(a=0;a<i.ik.length;a++){var _=i.ik[a];(f=new e.IkConstraintData(_.name)).order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var v=0;v<_.bones.length;v++){d=_.bones[v];if(null==(w=o.findBone(d)))throw new Error("IK bone not found: "+d);f.bones.push(w)}var b=_.target;if(f.target=o.findBone(b),null==f.target)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),o.ikConstraints.push(f)}if(i.transform)for(a=0;a<i.transform.length;a++){_=i.transform[a];(f=new e.TransformConstraintData(_.name)).order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(v=0;v<_.bones.length;v++){d=_.bones[v];if(null==(w=o.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(w)}b=_.target;if(f.target=o.findBone(b),null==f.target)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),o.transformConstraints.push(f)}if(i.path)for(a=0;a<i.path.length;a++){_=i.path[a];(f=new e.PathConstraintData(_.name)).order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(v=0;v<_.bones.length;v++){d=_.bones[v];if(null==(w=o.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(w)}b=_.target;if(f.target=o.findSlot(b),null==f.target)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==e.PositionMode.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),f.spacingMode!=e.SpacingMode.Length&&f.spacingMode!=e.SpacingMode.Fixed||(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),o.pathConstraints.push(f)}if(i.skins)for(a=0;a<i.skins.length;a++){var E=i.skins[a],y=new e.Skin(E.name);if(E.bones)for(var T=0;T<E.bones.length;T++){var w;if(null==(w=o.findBone(E.bones[T])))throw new Error("Skin bone not found: "+E.bones[a]);y.bones.push(w)}if(E.ik)for(T=0;T<E.ik.length;T++){if(null==(S=o.findIkConstraint(E.ik[T])))throw new Error("Skin IK constraint not found: "+E.ik[a]);y.constraints.push(S)}if(E.transform)for(T=0;T<E.transform.length;T++){if(null==(S=o.findTransformConstraint(E.transform[T])))throw new Error("Skin transform constraint not found: "+E.transform[a]);y.constraints.push(S)}if(E.path)for(T=0;T<E.path.length;T++){var S;if(null==(S=o.findPathConstraint(E.path[T])))throw new Error("Skin path constraint not found: "+E.path[a]);y.constraints.push(S)}for(var h in E.attachments){var C=o.findSlot(h);if(null==C)throw new Error("Slot not found: "+h);var I=E.attachments[h];for(var k in I){var R=this.readAttachment(I[k],y,C.index,k,o);null!=R&&y.setAttachment(C.index,k,R)}}o.skins.push(y),"default"==y.name&&(o.defaultSkin=y)}a=0;for(var M=this.linkedMeshes.length;a<M;a++){var O=this.linkedMeshes[a];if(null==(y=null==O.skin?o.defaultSkin:o.findSkin(O.skin)))throw new Error("Skin not found: "+O.skin);var x=y.getAttachment(O.slotIndex,O.parent);if(null==x)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?x:O.mesh,O.mesh.setParentMesh(x),O.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var A in i.events){var N=i.events[A];(f=new e.EventData(A)).intValue=this.getValue(N,"int",0),f.floatValue=this.getValue(N,"float",0),f.stringValue=this.getValue(N,"string",""),f.audioPath=this.getValue(N,"audio",null),null!=f.audioPath&&(f.volume=this.getValue(N,"volume",1),f.balance=this.getValue(N,"balance",0)),o.events.push(f)}if(i.animations)for(var L in i.animations){var D=i.animations[L];this.readAnimation(D,L,o)}return o},t.prototype.readAttachment=function(t,r,o,i,s){var a=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var l=this.getValue(t,"path",i),c=this.attachmentLoader.newRegionAttachment(r,i,l);return null==c?null:(c.path=l,c.x=this.getValue(t,"x",0)*a,c.y=this.getValue(t,"y",0)*a,c.scaleX=this.getValue(t,"scaleX",1),c.scaleY=this.getValue(t,"scaleY",1),c.rotation=this.getValue(t,"rotation",0),c.width=t.width*a,c.height=t.height*a,null!=(y=this.getValue(t,"color",null))&&c.color.setFromString(y),c.updateOffset(),c);case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(r,i);return null==u?null:(this.readVertices(t,u,t.vertexCount<<1),null!=(y=this.getValue(t,"color",null))&&u.color.setFromString(y),u);case"mesh":case"linkedmesh":l=this.getValue(t,"path",i);var h=this.attachmentLoader.newMeshAttachment(r,i,l);if(null==h)return null;h.path=l,null!=(y=this.getValue(t,"color",null))&&h.color.setFromString(y),h.width=this.getValue(t,"width",0)*a,h.height=this.getValue(t,"height",0)*a;var d=this.getValue(t,"parent",null);if(null!=d)return this.linkedMeshes.push(new n(h,this.getValue(t,"skin",null),o,d,this.getValue(t,"deform",!0))),h;var p=t.uvs;return this.readVertices(t,h,p.length),h.triangles=t.triangles,h.regionUVs=p,h.updateUVs(),h.edges=this.getValue(t,"edges",null),h.hullLength=2*this.getValue(t,"hull",0),h;case"path":if(null==(l=this.attachmentLoader.newPathAttachment(r,i)))return null;l.closed=this.getValue(t,"closed",!1),l.constantSpeed=this.getValue(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,l,f<<1);for(var g=e.Utils.newArray(f/3,0),m=0;m<t.lengths.length;m++)g[m]=t.lengths[m]*a;return l.lengths=g,null!=(y=this.getValue(t,"color",null))&&l.color.setFromString(y),l;case"point":var _=this.attachmentLoader.newPointAttachment(r,i);return null==_?null:(_.x=this.getValue(t,"x",0)*a,_.y=this.getValue(t,"y",0)*a,_.rotation=this.getValue(t,"rotation",0),null!=(y=this.getValue(t,"color",null))&&_.color.setFromString(y),_);case"clipping":var v=this.attachmentLoader.newClippingAttachment(r,i);if(null==v)return null;var b=this.getValue(t,"end",null);if(null!=b){var E=s.findSlot(b);if(null==E)throw new Error("Clipping end slot not found: "+b);v.endSlot=E}var y;f=t.vertexCount;return this.readVertices(t,v,f<<1),null!=(y=this.getValue(t,"color",null))&&v.color.setFromString(y),v}return null},t.prototype.readVertices=function(t,n,r){var o=this.scale;n.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){var s=new Array,a=new Array;for(h=0,d=i.length;h<d;){var l=i[h++];a.push(l);for(var c=h+4*l;h<c;h+=4)a.push(i[h]),s.push(i[h+1]*o),s.push(i[h+2]*o),s.push(i[h+3])}n.bones=a,n.vertices=e.Utils.toFloatArray(s)}else{var u=e.Utils.toFloatArray(i);if(1!=o)for(var h=0,d=i.length;h<d;h++)u[h]*=o;n.vertices=u}},t.prototype.readAnimation=function(t,n,r){var o=this.scale,i=new Array,s=0;if(t.slots)for(var a in t.slots){var l=t.slots[a];if(-1==(K=r.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var c in l){var u=l[c];if("attachment"==c){(E=new e.AttachmentTimeline(u.length)).slotIndex=K;for(var h=0,d=0;d<u.length;d++){var p=u[d];E.setFrame(h++,this.getValue(p,"time",0),p.name)}i.push(E),s=Math.max(s,E.frames[E.getFrameCount()-1])}else if("color"==c){(E=new e.ColorTimeline(u.length)).slotIndex=K;for(h=0,d=0;d<u.length;d++){p=u[d];var f=new e.Color;f.setFromString(p.color),E.setFrame(h,this.getValue(p,"time",0),f.r,f.g,f.b,f.a),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.ColorTimeline.ENTRIES])}else{if("twoColor"!=c)throw new Error("Invalid timeline type for a slot: "+c+" ("+a+")");(E=new e.TwoColorTimeline(u.length)).slotIndex=K;for(h=0,d=0;d<u.length;d++){p=u[d];var g=new e.Color,m=new e.Color;g.setFromString(p.light),m.setFromString(p.dark),E.setFrame(h,this.getValue(p,"time",0),g.r,g.g,g.b,g.a,m.r,m.g,m.b),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var _ in t.bones){var v=t.bones[_],b=r.findBoneIndex(_);if(-1==b)throw new Error("Bone not found: "+_);for(var c in v){u=v[c];if("rotate"===c){(E=new e.RotateTimeline(u.length)).boneIndex=b;for(h=0,d=0;d<u.length;d++){p=u[d];E.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"angle",0)),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.RotateTimeline.ENTRIES])}else{if("translate"!==c&&"scale"!==c&&"shear"!==c)throw new Error("Invalid timeline type for a bone: "+c+" ("+_+")");var E=null,y=1,T=0;"scale"===c?(E=new e.ScaleTimeline(u.length),T=1):"shear"===c?E=new e.ShearTimeline(u.length):(E=new e.TranslateTimeline(u.length),y=o),E.boneIndex=b;for(h=0,d=0;d<u.length;d++){p=u[d];var w=this.getValue(p,"x",T),S=this.getValue(p,"y",T);E.setFrame(h,this.getValue(p,"time",0),w*y,S*y),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var C in t.ik){var I=t.ik[C],k=r.findIkConstraint(C);(E=new e.IkConstraintTimeline(I.length)).ikConstraintIndex=r.ikConstraints.indexOf(k);for(h=0,d=0;d<I.length;d++){p=I[d];E.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*o,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var C in t.transform){I=t.transform[C],k=r.findTransformConstraint(C);(E=new e.TransformConstraintTimeline(I.length)).transformConstraintIndex=r.transformConstraints.indexOf(k);for(h=0,d=0;d<I.length;d++){p=I[d];E.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var C in t.path){I=t.path[C];var R=r.findPathConstraintIndex(C);if(-1==R)throw new Error("Path constraint not found: "+C);var M=r.pathConstraints[R];for(var c in I){u=I[c];if("position"===c||"spacing"===c){E=null,y=1;"spacing"===c?(E=new e.PathConstraintSpacingTimeline(u.length),M.spacingMode!=e.SpacingMode.Length&&M.spacingMode!=e.SpacingMode.Fixed||(y=o)):(E=new e.PathConstraintPositionTimeline(u.length),M.positionMode==e.PositionMode.Fixed&&(y=o)),E.pathConstraintIndex=R;for(h=0,d=0;d<u.length;d++){p=u[d];E.setFrame(h,this.getValue(p,"time",0),this.getValue(p,c,0)*y),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===c){(E=new e.PathConstraintMixTimeline(u.length)).pathConstraintIndex=R;for(h=0,d=0;d<u.length;d++){p=u[d];E.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[(E.getFrameCount()-1)*e.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var O in t.deform){var x=t.deform[O],A=r.findSkin(O);if(null==A)throw new Error("Skin not found: "+O);for(var a in x){l=x[a];if(-1==(K=r.findSlotIndex(a)))throw new Error("Slot not found: "+l.name);for(var c in l){u=l[c];var N=A.getAttachment(K,c);if(null==N)throw new Error("Deform attachment not found: "+u.name);var L=null!=N.bones,D=N.vertices,P=L?D.length/3*2:D.length;(E=new e.DeformTimeline(u.length)).slotIndex=K,E.attachment=N;h=0;for(var $=0;$<u.length;$++){p=u[$];var B=void 0,F=this.getValue(p,"vertices",null);if(null==F)B=L?e.Utils.newFloatArray(P):D;else{B=e.Utils.newFloatArray(P);var U=this.getValue(p,"offset",0);if(e.Utils.arrayCopy(F,0,B,U,F.length),1!=o)for(var G=(d=U)+F.length;d<G;d++)B[d]*=o;if(!L)for(d=0;d<P;d++)B[d]+=D[d]}E.setFrame(h,this.getValue(p,"time",0),B),this.readCurve(p,E,h),h++}i.push(E),s=Math.max(s,E.frames[E.getFrameCount()-1])}}}var j=t.drawOrder;if(null==j&&(j=t.draworder),null!=j){E=new e.DrawOrderTimeline(j.length);var H=r.slots.length;for(h=0,$=0;$<j.length;$++){var V=j[$],W=null,z=this.getValue(V,"offsets",null);if(null!=z){W=e.Utils.newArray(H,-1);var Z=e.Utils.newArray(H-z.length,0),X=0,Y=0;for(d=0;d<z.length;d++){var K,J=z[d];if(-1==(K=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;X!=K;)Z[Y++]=X++;W[X+J.offset]=X++}for(;X<H;)Z[Y++]=X++;for(d=H-1;d>=0;d--)-1==W[d]&&(W[d]=Z[--Y])}E.setFrame(h++,this.getValue(V,"time",0),W)}i.push(E),s=Math.max(s,E.frames[E.getFrameCount()-1])}if(t.events){for(E=new e.EventTimeline(t.events.length),h=0,d=0;d<t.events.length;d++){var q=t.events[d],Q=r.findEvent(q.name);if(null==Q)throw new Error("Event not found: "+q.name);var ee=new e.Event(e.Utils.toSinglePrecision(this.getValue(q,"time",0)),Q);ee.intValue=this.getValue(q,"int",Q.intValue),ee.floatValue=this.getValue(q,"float",Q.floatValue),ee.stringValue=this.getValue(q,"string",Q.stringValue),null!=ee.data.audioPath&&(ee.volume=this.getValue(q,"volume",1),ee.balance=this.getValue(q,"balance",0)),E.setFrame(h++,ee)}i.push(E),s=Math.max(s,E.frames[E.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new e.Animation(n,i,s))},t.prototype.readCurve=function(e,t,n){if(e.hasOwnProperty("curve"))if("stepped"==e.curve)t.setStepped(n);else{var r=e.curve;t.setCurve(n,r,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,t,n){return void 0!==e[t]?e[t]:n},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return e.BlendMode.Normal;if("additive"==t)return e.BlendMode.Additive;if("multiply"==t)return e.BlendMode.Multiply;if("screen"==t)return e.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},t.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return e.PositionMode.Fixed;if("percent"==t)return e.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},t.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return e.SpacingMode.Length;if("fixed"==t)return e.SpacingMode.Fixed;if("percent"==t)return e.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},t.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return e.RotateMode.Tangent;if("chain"==t)return e.RotateMode.Chain;if("chainscale"==t)return e.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},t.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return e.TransformMode.Normal;if("onlytranslation"==t)return e.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return e.TransformMode.NoRotationOrReflection;if("noscale"==t)return e.TransformMode.NoScale;if("noscaleorreflection"==t)return e.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},t}();e.SkeletonJson=t;var n=function(e,t,n,r,o){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=o}}(Yc||(Yc={})),function(e){var t=function(e,t,n){this.slotIndex=e,this.name=t,this.attachment=n};e.SkinEntry=t;var n=function(){function n(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==e)throw new Error("name cannot be null.");this.name=e}return n.prototype.setAttachment=function(e,t,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},n.prototype.addSkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,o=0;o<this.bones.length;o++)if(this.bones[o]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){var i=e.constraints[t];for(r=!1,o=0;o<this.constraints.length;o++)if(this.constraints[o]==i){r=!0;break}r||this.constraints.push(i)}var s=e.getAttachments();for(t=0;t<s.length;t++){var a=s[t];this.setAttachment(a.slotIndex,a.name,a.attachment)}},n.prototype.copySkin=function(t){for(var n=0;n<t.bones.length;n++){for(var r=t.bones[n],o=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){o=!0;break}o||this.bones.push(r)}for(n=0;n<t.constraints.length;n++){var s=t.constraints[n];for(o=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==s){o=!0;break}o||this.constraints.push(s)}var a=t.getAttachments();for(n=0;n<a.length;n++){var l=a[n];null!=l.attachment&&(l.attachment instanceof e.MeshAttachment?(l.attachment=l.attachment.newLinkedMesh(),this.setAttachment(l.slotIndex,l.name,l.attachment)):(l.attachment=l.attachment.copy(),this.setAttachment(l.slotIndex,l.name,l.attachment)))}},n.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},n.prototype.removeAttachment=function(e,t){var n=this.attachments[e];n&&(n[t]=null)},n.prototype.getAttachments=function(){for(var e=new Array,n=0;n<this.attachments.length;n++){var r=this.attachments[n];if(r)for(var o in r){var i=r[o];i&&e.push(new t(n,o,i))}}return e},n.prototype.getAttachmentsForSlot=function(e,n){var r=this.attachments[e];if(r)for(var o in r){var i=r[o];i&&n.push(new t(e,o,i))}},n.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},n.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var o=e.slots[r],i=o.getAttachment();if(i&&n<t.attachments.length){var s=t.attachments[n];for(var a in s){if(i==s[a]){var l=this.getAttachment(n,a);null!=l&&o.setAttachment(l);break}}}n++}},n}();e.Skin=n}(Yc||(Yc={})),function(e){var t=function(){function t(t,n){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new e.Color,this.darkColor=null==t.darkColor?null:new e.Color,this.setToSetupPose()}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}();e.Slot=t}(Yc||(Yc={})),function(e){var t=function(t,n,r){if(this.color=new e.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=r};e.SlotData=t}(Yc||(Yc={})),function(e){var t,n,r=function(){function e(e){this._image=e}return e.prototype.getImage=function(){return this._image},e.filterFromString=function(e){switch(e.toLowerCase()){case"nearest":return t.Nearest;case"linear":return t.Linear;case"mipmap":return t.MipMap;case"mipmapnearestnearest":return t.MipMapNearestNearest;case"mipmaplinearnearest":return t.MipMapLinearNearest;case"mipmapnearestlinear":return t.MipMapNearestLinear;case"mipmaplinearlinear":return t.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+e)}},e.wrapFromString=function(e){switch(e.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+e)}},e}();e.Texture=r,function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear"}(t=e.TextureFilter||(e.TextureFilter={})),function(e){e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat"}(n=e.TextureWrap||(e.TextureWrap={}));var o=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0};e.TextureRegion=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kc(t,e),t.prototype.setFilters=function(e,t){},t.prototype.setWraps=function(e,t){},t.prototype.dispose=function(){},t}(r);e.FakeTexture=i}(Yc||(Yc={})),function(e){var t=function(){function t(e,t){this.pages=new Array,this.regions=new Array,this.load(e,t)}return t.prototype.load=function(t,i){if(null==i)throw new Error("textureLoader cannot be null.");for(var s=new n(t),a=new Array(4),l=null;;){var c=s.readLine();if(null==c)break;if(0==(c=c.trim()).length)l=null;else if(l){var u=new o;u.name=c,u.page=l;var h=s.readValue();"true"==h.toLocaleLowerCase()?u.degrees=90:"false"==h.toLocaleLowerCase()?u.degrees=0:u.degrees=parseFloat(h),u.rotate=90==u.degrees,s.readTuple(a);var d=parseInt(a[0]),p=parseInt(a[1]);s.readTuple(a);var f=parseInt(a[0]),g=parseInt(a[1]);u.u=d/l.width,u.v=p/l.height,u.rotate?(u.u2=(d+g)/l.width,u.v2=(p+f)/l.height):(u.u2=(d+f)/l.width,u.v2=(p+g)/l.height),u.x=d,u.y=p,u.width=Math.abs(f),u.height=Math.abs(g),4==s.readTuple(a)&&4==s.readTuple(a)&&s.readTuple(a),u.originalWidth=parseInt(a[0]),u.originalHeight=parseInt(a[1]),s.readTuple(a),u.offsetX=parseInt(a[0]),u.offsetY=parseInt(a[1]),u.index=parseInt(s.readValue()),u.texture=l.texture,this.regions.push(u)}else{(l=new r).name=c,2==s.readTuple(a)&&(l.width=parseInt(a[0]),l.height=parseInt(a[1]),s.readTuple(a)),s.readTuple(a),l.minFilter=e.Texture.filterFromString(a[0]),l.magFilter=e.Texture.filterFromString(a[1]);var m=s.readValue();l.uWrap=e.TextureWrap.ClampToEdge,l.vWrap=e.TextureWrap.ClampToEdge,"x"==m?l.uWrap=e.TextureWrap.Repeat:"y"==m?l.vWrap=e.TextureWrap.Repeat:"xy"==m&&(l.uWrap=l.vWrap=e.TextureWrap.Repeat),l.texture=i(c),l.texture.setFilters(l.minFilter,l.magFilter),l.texture.setWraps(l.uWrap,l.vWrap),l.width=l.texture.getImage().width,l.height=l.texture.getImage().height,this.pages.push(l)}}},t.prototype.findRegion=function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].texture.dispose()},t}();e.TextureAtlas=t;var n=function(){function e(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readValue=function(){var e=this.readLine(),t=e.indexOf(":");if(-1==t)throw new Error("Invalid line: "+e);return e.substring(t+1).trim()},e.prototype.readTuple=function(e){var t=this.readLine(),n=t.indexOf(":");if(-1==n)throw new Error("Invalid line: "+t);for(var r=0,o=n+1;r<3;r++){var i=t.indexOf(",",o);if(-1==i)break;e[r]=t.substr(o,i-o).trim(),o=i+1}return e[r]=t.substring(o).trim(),r+1},e}(),r=function(){};e.TextureAtlasPage=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kc(t,e),t}(e.TextureRegion);e.TextureAtlasRegion=o}(Yc||(Yc={})),function(e){var t=function(){function t(t,n){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new e.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,n=this.translateMix,r=this.scaleMix,o=this.shearMix,i=this.target,s=i.a,a=i.b,l=i.c,c=i.d,u=s*c-a*l>0?e.MathUtils.degRad:-e.MathUtils.degRad,h=this.data.offsetRotation*u,d=this.data.offsetShearY*u,p=this.bones,f=0,g=p.length;f<g;f++){var m=p[f],_=!1;if(0!=t){var v=m.a,b=m.b,E=m.c,y=m.d;(k=Math.atan2(l,s)-Math.atan2(E,v)+h)>e.MathUtils.PI?k-=e.MathUtils.PI2:k<-e.MathUtils.PI&&(k+=e.MathUtils.PI2),k*=t;var T=Math.cos(k),w=Math.sin(k);m.a=T*v-w*E,m.b=T*b-w*y,m.c=w*v+T*E,m.d=w*b+T*y,_=!0}if(0!=n){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),m.worldX+=(S.x-m.worldX)*n,m.worldY+=(S.y-m.worldY)*n,_=!0}if(r>0){var C=Math.sqrt(m.a*m.a+m.c*m.c),I=Math.sqrt(s*s+l*l);C>1e-5&&(C=(C+(I-C+this.data.offsetScaleX)*r)/C),m.a*=C,m.c*=C,C=Math.sqrt(m.b*m.b+m.d*m.d),I=Math.sqrt(a*a+c*c),C>1e-5&&(C=(C+(I-C+this.data.offsetScaleY)*r)/C),m.b*=C,m.d*=C,_=!0}if(o>0){b=m.b,y=m.d;var k,R=Math.atan2(y,b);(k=Math.atan2(c,a)-Math.atan2(l,s)-(R-Math.atan2(m.c,m.a)))>e.MathUtils.PI?k-=e.MathUtils.PI2:k<-e.MathUtils.PI&&(k+=e.MathUtils.PI2),k=R+(k+d)*o;C=Math.sqrt(b*b+y*y);m.b=Math.cos(k)*C,m.d=Math.sin(k)*C,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,n=this.translateMix,r=this.scaleMix,o=this.shearMix,i=this.target,s=i.a,a=i.b,l=i.c,c=i.d,u=s*c-a*l>0?e.MathUtils.degRad:-e.MathUtils.degRad,h=this.data.offsetRotation*u,d=this.data.offsetShearY*u,p=this.bones,f=0,g=p.length;f<g;f++){var m=p[f],_=!1;if(0!=t){var v=m.a,b=m.b,E=m.c,y=m.d;(I=Math.atan2(l,s)+h)>e.MathUtils.PI?I-=e.MathUtils.PI2:I<-e.MathUtils.PI&&(I+=e.MathUtils.PI2),I*=t;var T=Math.cos(I),w=Math.sin(I);m.a=T*v-w*E,m.b=T*b-w*y,m.c=w*v+T*E,m.d=w*b+T*y,_=!0}if(0!=n){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),m.worldX+=S.x*n,m.worldY+=S.y*n,_=!0}if(r>0){var C=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*r+1;m.a*=C,m.c*=C,C=(Math.sqrt(a*a+c*c)-1+this.data.offsetScaleY)*r+1,m.b*=C,m.d*=C,_=!0}if(o>0){var I;(I=Math.atan2(c,a)-Math.atan2(l,s))>e.MathUtils.PI?I-=e.MathUtils.PI2:I<-e.MathUtils.PI&&(I+=e.MathUtils.PI2);b=m.b,y=m.d;I=Math.atan2(y,b)+(I-e.MathUtils.PI/2+d)*o;C=Math.sqrt(b*b+y*y);m.b=Math.cos(I)*C,m.d=Math.sin(I)*C,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var i=this.bones,s=0,a=i.length;s<a;s++){var l=i[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;if(0!=e){var u=o.arotation-c+this.data.offsetRotation;c+=(u-=360*(16384-(16384.499999999996-u/360|0)))*e}var h=l.ax,d=l.ay;0!=t&&(h+=(o.ax-h+this.data.offsetX)*t,d+=(o.ay-d+this.data.offsetY)*t);var p=l.ascaleX,f=l.ascaleY;0!=n&&(p>1e-5&&(p=(p+(o.ascaleX-p+this.data.offsetScaleX)*n)/p),f>1e-5&&(f=(f+(o.ascaleY-f+this.data.offsetScaleY)*n)/f));var g=l.ashearY;if(0!=r){u=o.ashearY-g+this.data.offsetShearY;u-=360*(16384-(16384.499999999996-u/360|0)),l.shearY+=u*r}l.updateWorldTransformWith(h,d,c,p,f,l.ashearX,g)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var i=this.bones,s=0,a=i.length;s<a;s++){var l=i[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;0!=e&&(c+=(o.arotation+this.data.offsetRotation)*e);var u=l.ax,h=l.ay;0!=t&&(u+=(o.ax+this.data.offsetX)*t,h+=(o.ay+this.data.offsetY)*t);var d=l.ascaleX,p=l.ascaleY;0!=n&&(d>1e-5&&(d*=(o.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(o.ascaleY-1+this.data.offsetScaleY)*n+1));var f=l.ashearY;0!=r&&(f+=(o.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(u,h,c,d,p,l.ashearX,f)}},t}();e.TransformConstraint=t}(Yc||(Yc={})),function(e){var t=function(e){function t(t){var n=e.call(this,t,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Kc(t,e),t}(e.ConstraintData);e.TransformConstraintData=t}(Yc||(Yc={})),function(e){var t=function(){function t(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool((function(){return new Array})),this.polygonIndicesPool=new e.Pool((function(){return new Array}))}return t.prototype.triangulate=function(e){var n=e,r=e.length>>1,o=this.indicesArray;o.length=0;for(var i=0;i<r;i++)o[i]=i;var s=this.isConcaveArray;s.length=0;i=0;for(var a=r;i<a;++i)s[i]=t.isConcave(i,r,n,o);var l=this.triangles;for(l.length=0;r>3;){for(var c=r-1,u=(i=0,1);;){e:if(!s[i]){for(var h=o[c]<<1,d=o[i]<<1,p=o[u]<<1,f=n[h],g=n[h+1],m=n[d],_=n[d+1],v=n[p],b=n[p+1],E=(u+1)%r;E!=c;E=(E+1)%r)if(s[E]){var y=o[E]<<1,T=n[y],w=n[y+1];if(t.positiveArea(v,b,f,g,T,w)&&t.positiveArea(f,g,m,_,T,w)&&t.positiveArea(m,_,v,b,T,w))break e}break}if(0==u){do{if(!s[i])break;i--}while(i>0);break}c=i,i=u,u=(u+1)%r}l.push(o[(r+i-1)%r]),l.push(o[i]),l.push(o[(i+1)%r]),o.splice(i,1),s.splice(i,1);var S=(--r+i-1)%r,C=i==r?0:i;s[S]=t.isConcave(S,r,n,o),s[C]=t.isConcave(C,r,n,o)}return 3==r&&(l.push(o[2]),l.push(o[0]),l.push(o[1])),l},t.prototype.decompose=function(e,n){var r=e,o=this.convexPolygons;this.polygonPool.freeAll(o),o.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;var a=this.polygonPool.obtain();a.length=0;for(var l=-1,c=0,u=0,h=n.length;u<h;u+=3){var d=n[u]<<1,p=n[u+1]<<1,f=n[u+2]<<1,g=r[d],m=r[d+1],_=r[p],v=r[p+1],b=r[f],E=r[f+1],y=!1;if(l==d){var T=a.length-4,w=t.winding(a[T],a[T+1],a[T+2],a[T+3],b,E),S=t.winding(b,E,a[0],a[1],a[2],a[3]);w==c&&S==c&&(a.push(b),a.push(E),s.push(f),y=!0)}y||(a.length>0?(o.push(a),i.push(s)):(this.polygonPool.free(a),this.polygonIndicesPool.free(s)),(a=this.polygonPool.obtain()).length=0,a.push(g),a.push(m),a.push(_),a.push(v),a.push(b),a.push(E),(s=this.polygonIndicesPool.obtain()).length=0,s.push(d),s.push(p),s.push(f),c=t.winding(g,m,_,v,b,E),l=d)}a.length>0&&(o.push(a),i.push(s));for(u=0,h=o.length;u<h;u++)if(0!=(s=i[u]).length)for(var C=s[0],I=s[s.length-1],k=(a=o[u])[T=a.length-4],R=a[T+1],M=a[T+2],O=a[T+3],x=a[0],A=a[1],N=a[2],L=a[3],D=t.winding(k,R,M,O,x,A),P=0;P<h;P++)if(P!=u){var $=i[P];if(3==$.length){var B=$[0],F=$[1],U=$[2],G=o[P];b=G[G.length-2],E=G[G.length-1];if(B==C&&F==I){w=t.winding(k,R,M,O,b,E),S=t.winding(b,E,x,A,N,L);w==D&&S==D&&(G.length=0,$.length=0,a.push(b),a.push(E),s.push(U),k=M,R=O,M=b,O=E,P=0)}}}for(u=o.length-1;u>=0;u--)0==(a=o[u]).length&&(o.splice(u,1),this.polygonPool.free(a),s=i[u],i.splice(u,1),this.polygonIndicesPool.free(s));return o},t.isConcave=function(e,t,n,r){var o=r[(t+e-1)%t]<<1,i=r[e]<<1,s=r[(e+1)%t]<<1;return!this.positiveArea(n[o],n[o+1],n[i],n[i+1],n[s],n[s+1])},t.positiveArea=function(e,t,n,r,o,i){return e*(i-r)+n*(t-i)+o*(r-t)>=0},t.winding=function(e,t,n,r,o,i){var s=n-e,a=r-t;return o*a-i*s+s*t-e*a>=0?1:-1},t}();e.Triangulator=t}(Yc||(Yc={})),function(e){var t=function(){function e(){this.array=new Array}return e.prototype.add=function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t},e.prototype.contains=function(e){return null!=this.array[0|e]},e.prototype.remove=function(e){this.array[0|e]=void 0},e.prototype.clear=function(){this.array.length=0},e}();e.IntSet=t;var n=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=e,this.g=t,this.b=n,this.a=r}return e.prototype.set=function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp(),this},e.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},e.prototype.setFromString=function(e){return e="#"==e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=(8!=e.length?255:parseInt(e.substr(6,2),16))/255,this},e.prototype.add=function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp(),this},e.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},e.rgba8888ToColor=function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255},e.rgb888ToColor=function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255},e.WHITE=new e(1,1,1,1),e.RED=new e(1,0,0,1),e.GREEN=new e(0,1,0,1),e.BLUE=new e(0,0,1,1),e.MAGENTA=new e(1,0,1,1),e}();e.Color=n;var r=function(){function e(){}return e.clamp=function(e,t,n){return e<t?t:e>n?n:e},e.cosDeg=function(t){return Math.cos(t*e.degRad)},e.sinDeg=function(t){return Math.sin(t*e.degRad)},e.signum=function(e){return e>0?1:e<0?-1:0},e.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},e.cbrt=function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},e.randomTriangular=function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))},e.randomTriangularWith=function(e,t,n){var r=Math.random(),o=t-e;return r<=(n-e)/o?e+Math.sqrt(r*o*(n-e)):t-Math.sqrt((1-r)*o*(t-n))},e.PI=3.1415927,e.PI2=2*e.PI,e.radiansToDegrees=180/e.PI,e.radDeg=e.radiansToDegrees,e.degreesToRadians=e.PI/180,e.degRad=e.degreesToRadians,e}();e.MathUtils=r;var o=function(){function e(){}return e.prototype.apply=function(e,t,n){return e+(t-e)*this.applyInternal(n)},e}();e.Interpolation=o;var i=function(e){function t(t){var n=e.call(this)||this;return n.power=2,n.power=t,n}return Kc(t,e),t.prototype.applyInternal=function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2==0?-2:2)+1},t}(o);e.Pow=i;var s=function(e){function t(t){return e.call(this,t)||this}return Kc(t,e),t.prototype.applyInternal=function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1},t}(i);e.PowOut=s;var a=function(){function e(){}return e.arrayCopy=function(e,t,n,r,o){for(var i=t,s=r;i<t+o;i++,s++)n[s]=e[i]},e.setArraySize=function(e,t,n){void 0===n&&(n=0);var r=e.length;if(r==t)return e;if(e.length=t,r<t)for(var o=r;o<t;o++)e[o]=n;return e},e.ensureArrayCapacity=function(t,n,r){return void 0===r&&(r=0),t.length>=n?t:e.setArraySize(t,n,r)},e.newArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},e.newFloatArray=function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n},e.newShortArray=function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n},e.toFloatArray=function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},e.toSinglePrecision=function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},e.webkit602BugfixHelper=function(e,t){},e.contains=function(e,t,n){void 0===n&&(n=!0);for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},e.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,e}();e.Utils=a;var l=function(){function e(){}return e.logBones=function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},e}();e.DebugUtils=l;var c=function(){function e(e){this.items=new Array,this.instantiator=e}return e.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},e.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},e.prototype.freeAll=function(e){for(var t=0;t<e.length;t++)this.free(e[t])},e.prototype.clear=function(){this.items.length=0},e}();e.Pool=c;var u=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},e.prototype.normalize=function(){var e=this.length();return 0!=e&&(this.x/=e,this.y/=e),this},e}();e.Vector2=u;var h=function(){function e(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return e.prototype.update=function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},e}();e.TimeKeeper=h;var d=function(){function e(e){void 0===e&&(e=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(e)}return e.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},e.prototype.addValue=function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},e.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0},e}();e.WindowedMean=d}(Yc||(Yc={})),Math.fround||(Math.fround=(Xc=new Float32Array(1),function(e){return Xc[0]=e,Xc[0]})),function(e){var t=function(e){if(null==e)throw new Error("name cannot be null.");this.name=e};e.Attachment=t;var n=function(t){function n(e){var r=t.call(this,e)||this;return r.id=(65535&n.nextID++)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return Kc(n,t),n.prototype.computeWorldVertices=function(e,t,n,r,o,i){n=o+(n>>1)*i;var s=e.bone.skeleton,a=e.deform,l=this.vertices,c=this.bones;if(null!=c){for(var u=0,h=0,d=0;d<t;d+=2){u+=(m=c[u])+1,h+=m}var p=s.bones;if(0==a.length)for(R=o,S=3*h;R<n;R+=i){var f=0,g=0,m=c[u++];for(m+=u;u<m;u++,S+=3){E=p[c[u]],M=l[S],O=l[S+1];var _=l[S+2];f+=(M*E.a+O*E.b+E.worldX)*_,g+=(M*E.c+O*E.d+E.worldY)*_}r[R]=f,r[R+1]=g}else for(var v=a,b=(R=o,S=3*h,h<<1);R<n;R+=i){f=0,g=0,m=c[u++];for(m+=u;u<m;u++,S+=3,b+=2){E=p[c[u]],M=l[S]+v[b],O=l[S+1]+v[b+1],_=l[S+2];f+=(M*E.a+O*E.b+E.worldX)*_,g+=(M*E.c+O*E.d+E.worldY)*_}r[R]=f,r[R+1]=g}}else{a.length>0&&(l=a);for(var E,y=(E=e.bone).worldX,T=E.worldY,w=E.a,S=E.b,C=E.c,I=E.d,k=t,R=o;R<n;k+=2,R+=i){var M=l[k],O=l[k+1];r[R]=M*w+O*S+y,r[R+1]=M*C+O*I+T}}},n.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},n.nextID=0,n}(t);e.VertexAttachment=n}(Yc||(Yc={})),function(e){!function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(e.AttachmentType||(e.AttachmentType={}))}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.color=new e.Color(1,1,1,1),r}return Kc(n,t),n.prototype.copy=function(){var e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},n}(e.VertexAttachment);e.BoundingBoxAttachment=t}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.color=new e.Color(.2275,.2275,.8078,1),r}return Kc(n,t),n.prototype.copy=function(){var e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},n}(e.VertexAttachment);e.ClippingAttachment=t}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.color=new e.Color(1,1,1,1),r.tempColor=new e.Color(0,0,0,0),r}return Kc(n,t),n.prototype.updateUVs=function(){var t=this.regionUVs;null!=this.uvs&&this.uvs.length==t.length||(this.uvs=e.Utils.newFloatArray(t.length));var n=this.uvs,r=this.uvs.length,o=this.region.u,i=this.region.v,s=0,a=0;if(this.region instanceof e.TextureAtlasRegion){var l=this.region,c=l.texture.getImage().width,u=l.texture.getImage().height;switch(l.degrees){case 90:o-=(l.originalHeight-l.offsetY-l.height)/c,i-=(l.originalWidth-l.offsetX-l.width)/u,s=l.originalHeight/c,a=l.originalWidth/u;for(var h=0;h<r;h+=2)n[h]=o+t[h+1]*s,n[h+1]=i+(1-t[h])*a;return;case 180:o-=(l.originalWidth-l.offsetX-l.width)/c,i-=l.offsetY/u,s=l.originalWidth/c,a=l.originalHeight/u;for(h=0;h<r;h+=2)n[h]=o+(1-t[h])*s,n[h+1]=i+(1-t[h+1])*a;return;case 270:o-=l.offsetY/c,i-=l.offsetX/u,s=l.originalHeight/c,a=l.originalWidth/u;for(h=0;h<r;h+=2)n[h]=o+(1-t[h+1])*s,n[h+1]=i+t[h]*a;return}o-=l.offsetX/c,i-=(l.originalHeight-l.offsetY-l.height)/u,s=l.originalWidth/c,a=l.originalHeight/u}else null==this.region?(o=i=0,s=a=1):(s=this.region.u2-o,a=this.region.v2-i);for(h=0;h<r;h+=2)n[h]=o+t[h]*s,n[h+1]=i+t[h+1]*a},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(e){this.parentMesh=e,null!=e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},n.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),e.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),e.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),e.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),e.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},n.prototype.newLinkedMesh=function(){var e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(null!=this.parentMesh?this.parentMesh:this),e.updateUVs(),e},n}(e.VertexAttachment);e.MeshAttachment=t}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new e.Color(1,1,1,1),r}return Kc(n,t),n.prototype.copy=function(){var t=new n(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),e.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},n}(e.VertexAttachment);e.PathAttachment=t}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.color=new e.Color(.38,.94,0,1),r}return Kc(n,t),n.prototype.computeWorldPosition=function(e,t){return t.x=this.x*e.a+this.y*e.b+e.worldX,t.y=this.x*e.c+this.y*e.d+e.worldY,t},n.prototype.computeWorldRotation=function(t){var n=e.MathUtils.cosDeg(this.rotation),r=e.MathUtils.sinDeg(this.rotation),o=n*t.a+r*t.b,i=n*t.c+r*t.d;return Math.atan2(i,o)*e.MathUtils.radDeg},n.prototype.copy=function(){var e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},n}(e.VertexAttachment);e.PointAttachment=t}(Yc||(Yc={})),function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new e.Color(1,1,1,1),r.offset=e.Utils.newFloatArray(8),r.uvs=e.Utils.newFloatArray(8),r.tempColor=new e.Color(1,1,1,1),r}return Kc(n,t),n.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*e,o=-this.height/2*this.scaleY+this.region.offsetY*t,i=r+this.region.width*e,s=o+this.region.height*t,a=this.rotation*Math.PI/180,l=Math.cos(a),c=Math.sin(a),u=r*l+this.x,h=r*c,d=o*l+this.y,p=o*c,f=i*l+this.x,g=i*c,m=s*l+this.y,_=s*c,v=this.offset;v[n.OX1]=u-p,v[n.OY1]=d+h,v[n.OX2]=u-_,v[n.OY2]=m+h,v[n.OX3]=f-_,v[n.OY3]=m+g,v[n.OX4]=f-p,v[n.OY4]=d+g},n.prototype.setRegion=function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)},n.prototype.computeWorldVertices=function(e,t,r,o){var i=this.offset,s=e.worldX,a=e.worldY,l=e.a,c=e.b,u=e.c,h=e.d,d=0,p=0;d=i[n.OX1],p=i[n.OY1],t[r]=d*l+p*c+s,t[r+1]=d*u+p*h+a,r+=o,d=i[n.OX2],p=i[n.OY2],t[r]=d*l+p*c+s,t[r+1]=d*u+p*h+a,r+=o,d=i[n.OX3],p=i[n.OY3],t[r]=d*l+p*c+s,t[r+1]=d*u+p*h+a,r+=o,d=i[n.OX4],p=i[n.OY4],t[r]=d*l+p*c+s,t[r+1]=d*u+p*h+a},n.prototype.copy=function(){var t=new n(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,e.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),e.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},n.OX1=0,n.OY1=1,n.OX2=2,n.OY2=3,n.OX3=4,n.OY3=5,n.OX4=6,n.OY4=7,n.X1=0,n.Y1=1,n.C1R=2,n.C1G=3,n.C1B=4,n.C1A=5,n.U1=6,n.V1=7,n.X2=8,n.Y2=9,n.C2R=10,n.C2G=11,n.C2B=12,n.C2A=13,n.U2=14,n.V2=15,n.X3=16,n.Y3=17,n.C3R=18,n.C3G=19,n.C3B=20,n.C3A=21,n.U3=22,n.V3=23,n.X4=24,n.Y4=25,n.C4R=26,n.C4G=27,n.C4B=28,n.C4A=29,n.U4=30,n.V4=31,n}(e.Attachment);e.RegionAttachment=t}(Yc||(Yc={})),function(e){var t=function(){function t(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return t.prototype.begin=function(e){},t.prototype.transform=function(t,n,r,o){t.x+=e.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=e.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}();e.JitterEffect=t}(Yc||(Yc={})),function(e){var t=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(n,r,o,i){var s=this.angle*e.MathUtils.degreesToRadians,a=n.x-this.worldX,l=n.y-this.worldY,c=Math.sqrt(a*a+l*l);if(c<this.radius){var u=t.interpolation.apply(0,s,(this.radius-c)/this.radius),h=Math.cos(u),d=Math.sin(u);n.x=h*a-d*l+this.worldX,n.y=d*a+h*l+this.worldY}},t.prototype.end=function(){},t.interpolation=new e.PowOut(2),t}();e.SwirlEffect=t}(Yc||(Yc={})),function(e){!function(t){var n=function(t){function n(n,r){return void 0===r&&(r=""),t.call(this,(function(t){return new e.webgl.GLTexture(n,t)}),r)||this}return Kc(n,t),n}(e.AssetManager);t.AssetManager=n}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){var t=function(){function t(t,n){this.position=new e.Vector3(0,0,0),this.direction=new e.Vector3(0,0,-1),this.up=new e.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new e.Matrix4,this.inverseProjectionView=new e.Matrix4,this.projection=new e.Matrix4,this.view=new e.Matrix4,this.tmp=new e.Vector3,this.viewportWidth=t,this.viewportHeight=n,this.update()}return t.prototype.update=function(){var e=this.projection,t=this.view,n=this.projectionView,r=this.inverseProjectionView,o=this.zoom,i=this.viewportWidth,s=this.viewportHeight;e.ortho(o*(-i/2),o*(i/2),o*(-s/2),o*(s/2),this.near,this.far),t.lookAt(this.position,this.direction,this.up),n.set(e.values),n.multiply(t),r.set(n.values).invert()},t.prototype.screenToWorld=function(e,t,n){var r=e.x,o=n-e.y-1,i=this.tmp;return i.x=2*r/t-1,i.y=2*o/n-1,i.z=2*e.z-1,i.project(this.inverseProjectionView),e.set(i.x,i.y,i.z),e},t.prototype.setViewport=function(e,t){this.viewportWidth=e,this.viewportHeight=t},t}();e.OrthoCamera=t}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(n){function r(e,r,o){void 0===o&&(o=!1);var i=n.call(this,r)||this;return i.texture=null,i.boundUnit=0,i.useMipMaps=!1,i.context=e instanceof t.ManagedWebGLRenderingContext?e:new t.ManagedWebGLRenderingContext(e),i.useMipMaps=o,i.restore(),i.context.addRestorable(i),i}return Kc(r,n),r.prototype.setFilters=function(e,t){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,r.validateMagFilter(t))},r.validateMagFilter=function(t){switch(t){case e.TextureFilter.MipMap:case e.TextureFilter.MipMapLinearLinear:case e.TextureFilter.MipMapLinearNearest:case e.TextureFilter.MipMapNearestLinear:case e.TextureFilter.MipMapNearestNearest:return e.TextureFilter.Linear;default:return t}},r.prototype.setWraps=function(e,t){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t)},r.prototype.update=function(e){var t=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),r.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this._image),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e&&t.generateMipmap(t.TEXTURE_2D)},r.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},r.prototype.bind=function(e){void 0===e&&(e=0);var t=this.context.gl;this.boundUnit=e,t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var e=this.context.gl;e.activeTexture(e.TEXTURE0+this.boundUnit),e.bindTexture(e.TEXTURE_2D,null)},r.prototype.dispose=function(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)},r.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,r}(e.Texture);t.GLTexture=n}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(){function t(t){this.lastX=0,this.lastY=0,this.buttonDown=!1,this.currTouch=null,this.touchesPool=new e.Pool((function(){return new e.webgl.Touch(0,0,0)})),this.listeners=new Array,this.element=t,this.setupCallbacks(t)}return t.prototype.setupCallbacks=function(e){var t=this,n=function(n){if(n instanceof MouseEvent){for(var r=e.getBoundingClientRect(),o=n.clientX-r.left,i=n.clientY-r.top,s=t.listeners,a=0;a<s.length;a++)t.buttonDown?s[a].dragged&&s[a].dragged(o,i):s[a].moved&&s[a].moved(o,i);t.lastX=o,t.lastY=i}},r=function(o){if(o instanceof MouseEvent){for(var i=e.getBoundingClientRect(),s=o.clientX-i.left,a=o.clientY-i.top,l=t.listeners,c=0;c<l.length;c++)l[c].up&&l[c].up(s,a);t.lastX=s,t.lastY=a,t.buttonDown=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r)}};e.addEventListener("mousedown",(function(o){if(o instanceof MouseEvent){for(var i=e.getBoundingClientRect(),s=o.clientX-i.left,a=o.clientY-i.top,l=t.listeners,c=0;c<l.length;c++)l[c].down&&l[c].down(s,a);t.lastX=s,t.lastY=a,t.buttonDown=!0,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}}),!0),e.addEventListener("mousemove",n,!0),e.addEventListener("mouseup",r,!0),e.addEventListener("touchstart",(function(n){if(null==t.currTouch){for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o],s=e.getBoundingClientRect(),a=i.clientX-s.left,l=i.clientY-s.top;t.currTouch=t.touchesPool.obtain(),t.currTouch.identifier=i.identifier,t.currTouch.x=a,t.currTouch.y=l;break}for(var c=t.listeners,u=0;u<c.length;u++)c[u].down&&c[u].down(t.currTouch.x,t.currTouch.y);t.lastX=t.currTouch.x,t.lastY=t.currTouch.y,t.buttonDown=!0,n.preventDefault()}}),!1),e.addEventListener("touchend",(function(n){for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];if(t.currTouch.identifier===i.identifier){var s=e.getBoundingClientRect(),a=t.currTouch.x=i.clientX-s.left,l=t.currTouch.y=i.clientY-s.top;t.touchesPool.free(t.currTouch);for(var c=t.listeners,u=0;u<c.length;u++)c[u].up&&c[u].up(a,l);t.lastX=a,t.lastY=l,t.buttonDown=!1,t.currTouch=null;break}}n.preventDefault()}),!1),e.addEventListener("touchcancel",(function(n){for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];if(t.currTouch.identifier===i.identifier){var s=e.getBoundingClientRect(),a=t.currTouch.x=i.clientX-s.left,l=t.currTouch.y=i.clientY-s.top;t.touchesPool.free(t.currTouch);for(var c=t.listeners,u=0;u<c.length;u++)c[u].up&&c[u].up(a,l);t.lastX=a,t.lastY=l,t.buttonDown=!1,t.currTouch=null;break}}n.preventDefault()}),!1),e.addEventListener("touchmove",(function(n){if(null!=t.currTouch){for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];if(t.currTouch.identifier===i.identifier){for(var s=e.getBoundingClientRect(),a=i.clientX-s.left,l=i.clientY-s.top,c=t.listeners,u=0;u<c.length;u++)c[u].dragged&&c[u].dragged(a,l);t.lastX=t.currTouch.x=a,t.lastY=t.currTouch.y=l;break}}n.preventDefault()}}),!1)},t.prototype.addListener=function(e){this.listeners.push(e)},t.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)},t}();t.Input=n;var r=function(e,t,n){this.identifier=e,this.x=t,this.y=n};t.Touch=r}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(){function n(t){if(this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.timeKeeper=new e.TimeKeeper,this.backgroundColor=new e.Color(.135,.135,.135,1),this.tempColor=new e.Color,this.firstDraw=0,this.renderer=t,this.timeKeeper.maxDelta=9,null===n.logoImg){var r=navigator.userAgent.indexOf("Safari")>-1;n.logoImg=new Image,n.logoImg.src=n.SPINE_LOGO_DATA,r||(n.logoImg.crossOrigin="anonymous"),n.logoImg.onload=function(e){n.loaded++},n.spinnerImg=new Image,n.spinnerImg.src=n.SPINNER_DATA,r||(n.spinnerImg.crossOrigin="anonymous"),n.spinnerImg.onload=function(e){n.loaded++}}}return n.prototype.draw=function(e){if(void 0===e&&(e=!1),!(e&&this.fadeOut>n.FADE_SECONDS)){this.timeKeeper.update();var r=Math.abs(Math.sin(this.timeKeeper.totalTime+.75));this.angle-=this.timeKeeper.delta/1.4*360*(1+1.5*Math.pow(r,5));var o=this.renderer,i=o.canvas,s=o.context.gl;o.resize(t.ResizeMode.Stretch);var a=o.camera.position.x,l=o.camera.position.y;if(o.camera.position.set(i.width/2,i.height/2,0),o.camera.viewportWidth=i.width,o.camera.viewportHeight=i.height,e){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>n.FADE_SECONDS)return void o.camera.position.set(a,l,0);r=1-this.fadeOut/n.FADE_SECONDS,this.tempColor.setFromColor(this.backgroundColor),this.tempColor.a=1-(r-1)*(r-1),o.begin(),o.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,this.tempColor,this.tempColor,this.tempColor,this.tempColor),o.end()}else s.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),s.clear(s.COLOR_BUFFER_BIT),this.tempColor.a=1;if(this.tempColor.set(1,1,1,this.tempColor.a),2==n.loaded){null===this.logo&&(this.logo=new t.GLTexture(o.context,n.logoImg),this.spinner=new t.GLTexture(o.context,n.spinnerImg)),this.logo.update(!1),this.spinner.update(!1);var c=this.logo.getImage().width,u=this.logo.getImage().height,h=this.spinner.getImage().width,d=this.spinner.getImage().height;o.batcher.setBlendMode(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),o.begin(),o.drawTexture(this.logo,(i.width-c)/2,(i.height-u)/2,c,u,this.tempColor),o.drawTextureRotated(this.spinner,(i.width-h)/2,(i.height-d)/2,h,d,h/2,d/2,this.angle,this.tempColor),o.end(),o.camera.position.set(a,l,0)}}},n.FADE_SECONDS=1,n.loaded=0,n.spinnerImg=null,n.logoImg=null,n.SPINNER_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDhlNTljMC02NGJjLTIxNGQtODAyZi1jZDlhODJjM2ZjMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYmNmZWJlYS03MjY2LWE0NGQtOTI4NS0wOTJmNGNhYzk4ZWEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3YzYzYzIwLWJkYjgtYzM0YS1hYzMyLWQ5MDdjOWEyOTA0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmQ4ZTU5YzAtNjRiYy0yMTRkLTgwMmYtY2Q5YTgyYzNmYzBjIiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N2M2M2MyMC1iZGI4LWMzNGEtYWMzMi1kOTA3YzlhMjkwNDAiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qS4aQAAAKZElEQVR42u2de4xVxR3HP8dd3rQryPKo4dGNbtVAQRa1YB93E1tTS7VYqCBiSWhsqGltSx+0xD60tKBorYnNkkBtFUt9xJaGNGlty6EqRAK1KlalshK2C8tzpcIigpz+MbPr5e5y987dM2fv4/tJbjC7v3P2+JvPnTMzZ85MEEURQhQClUpB7gRBAECUYiYwH6gDqoEKoA1oBDYCy4OQJgB92R3yq2S5yRilWASs6CZ0DzA5CNmn/ObOOUpB7kQpRgNLcwj9AHCnMiYZfXIT0C/H2DlRSs0gyeiPaQ6xg4FapUwy+mKUY/wwpUwy+uK4Y/xhpUwy+mKfY3yTUiYZfdHiENsahBxRyiSjL5odYncpXZLRJ3sdYhuVLslYKDKqZpSMBXObVs0oGQumA6OaUTL6Iwg5CBzNMXy7MiYZffNCDjH7g5DdSpVk9M36mGKEZOwxq4Fj3cT8UmmSjEm0Gw8At2UJaQhCtilTeeRWM5EdkmVfOwCIUtQBE4AqILC1ZQuwPgjpSKryWwgy1gfZfjsQ886IKFY2xO9N0jOR69srDOAtzCyYFuCUSrcg6AOcBIYCY4C3gVeT+uNJyvg94GPAxzFjcDuBl4C/AP+UBwXBR4AaYDYwDvgr8Drwi1KScRnwXfut6wNcYT+7Ma97LgX+JRd6jfOAucAXgCvTfl4DvAuMtJVJ0cu41IoYWRHTGWM/1TZmq/2fF8nR14r4U2BQF7+LgMW2k7bY54X4Htr5EvD99s5SlriPArcAY+VGsh1YYDpwMzAgSwy2svhWscpYA/wkx9gKm5S5wBA5kgjnAJcDX7NNpVxcWAZMLUYZJwHDHeKrgXnAdWjZlSS4BLgVuMzRlxt9eeNTxsG2veFyy7gQWAR8Sq54byfeYDssAx3LqLabJldBytgMHMjjuPHAQvTOsU++aJtE/fI4dpevTqZPGV+2veN8+DTwIHCBr29hmVJhJXwA+GAex7cBjxZjm7EFWAL8DfeX39s7NPOy9PKEO7XAV+k8xJYLrcDPgL8Xo4xgJqIuA7bkeXw9ZsBVxMMMYEqex64FfuO7e++bTcAPgD8Bpx2PvRSYKIdi61DOs3edXImAV4Cv2zJsKnYZ24B/AJ+xteRrwAmHBF4mj2JhEnCRg4QnrYh3YZ5NH/J9gUmP5zXYtsdsW+Pl8vffkEex8I5D7HHgGeBhe0dLhKRlbMJM298NXI8Z68rGk8AGeRQLu4DHMGOL2dgJPA78AXguyQvsjScdrTYp2zBDPzfbXl7mmNc64B7MFCbRc/bbfPYHrs343WnbZHsG+BXwZ8y65JS6jOnfwPuBg8BnMQtxjsWsh/0IsNJ2fkR8bAHutbfhG2x7vp9tDzZiFs5/Non2YaHJ2N6OWQf8BxiBeRx4EDPZ9nm544WNVsLtwFWYJ2Wh/fmO3ryw3noHpiv6YyZ5NsuXROhrRypeAv7nfHQJvAOTjbclYuJ3pWcL6YL03rSQjEJIRiEZhZCMQjIKIRmFZBRCMgrJKIRkFJJRCMkoJKMQklFIRiEkoxCSUUhGISSjkIxCSEYhGYWQjEIyCiEZhWQUQjIKySiEZBSSUQjJKCSjEAVCJUAQmCWPoxSjgZuAaZgF348D+zD7ADYDe+2nGWgJQg52dVJvSzOLgqHdmU5ln2IYZou9861Do+x/j8Ss2z7AOrQJWBOEZtetKIrMmt5BEBClWAQsxW3b16OY/QHXA6uD0GzpG0VRPmt6i2KSMeyQrxpYgNl4dCJmV7NcOQEsCULu6ZCR+mAmZiOannAMuC0IWS0Zy0PGKMUCzFZug3p4ullsiJ5obzPOj+H6BgGrohR1KqrSx5bzqhhE7PCvXcY4BZqgoioL4iznunQZq2M8cZXKqSyIs5yr02WsiPHEaiyWSbMxxnNVpMvYFuOJj6mcyoI4y7ktXcbGGE/conIqC+Is58Z0GTfGdNIGzJijKH3W2/KOg43pMi4n//2F92P2KJ4ShCwMQvT4pRwajCFRELIQmGLLf3+ep9pj/TvjCcwI4E5gDp1H0VsxO7k3Zvy7PQjZnXl2DXqXhYydiFKMAcYD44CajH+HZIQfBdYCtwch+854HJh2wkqgFhgGHAaagpAjLhcqGctTxqxOpKgCRgNDMXuK7whCTqU7U9khz3ucAv59xomUe9FVhePGEfs5q1eaQiYKBskoJKMQklFIRiEko5CMQkhGIRmFkIxCMgohGYVkFEIyCskohGQUklEIySiEZBSSUQjJKCSjEJJRSEYhJKOQjEJIRiEZhZCMQjIKIRmFZBSijGXMvIZ+KpZEaF8qeygwHOjb2xdUWQBJqQL6ADOBi4GHMGuGH5Iv3hiG2SJtIWaV4mZgB/AadF6jvVxkvAKzv3UdMNX+bDJm9fx10PV+1qLHIl4P3GLzfh3QBLwKbAZ+DJwuFxkDm5CZmN0Vzsv4/TTMyviVwGOYnRZEPAwBZgDfAC5K+/lo+5kKXAjcBzwPnCz1NuP77LfxO12I2M7FNmFXE+++huVOPfDNDBEz25FzgHuBa4Bzk8x/0jJeCiwCFmP2BsnGh4BbgYFyKDZmZRExnTpbGcywHZySuk0PsbeAG4HZDt+2C6yMb8mjWHgXs+NFd5v09Ac+AYzC7An0EPBKqdSM1wDfBqY7Vvubk263lDhPYHamypVa4MvAHUCq2GvGgcB8YAEwKQ/5nwa33blEVrYDLwJXOhxzLvBJzDhkK/BCMdaMA4C5wF2Y4RrXv7UF+KO9tYh42A08msfoRxVwLfBDYGwxyliLGUMclMexL9rOy075EyvvAKuBlcCbeTa3Pl+MMk7GbP/qyiHg18BWueOFNnu3ymeP8X62h11dbDKm7K3a9Zv7e+BJOeOVRmCNvQO5cgmdt4AueBkH5zCE0FWHpQH4r3zxzlPAw3kcdxg4VmwybnaMfx1YAWxTpyURjtj24wpHuZ7C0yNanzL+FnjZIX4lsEGOJEorcDewKcf4vTb+ZLHJuAeYBxzvJm4/8CPg58AJ+ZE4BzBDNk93k//jwOeAN4qxNw1m5sdV9jZwtlvv48ADujX3GpFtUt0OhPZnJzN63wdtOW7xeSFJPJvehBnBv8/2ricAp2wb8UHgETRvsRDYCiy3IrbPCWi0Mt4BPOf7AoIoivycub5TR/rDmBkjs4Df2fbHJjlQcLwfuNyW13rMXILOkyQ2REUtI5jnnG+mNRFOF3Gh1dlavgozhHUMaLEFGJWImBVnbT4VlYwlSBCYL1iUYgGw6ixhDUHIwo4GmfIrGX3JGKWotj3KbM/cpwQh2yRjYfWmS5EFdD/54ytKk2RMgukxxQjJ2GMm5hAzPEoxRqmSjN6IUgwj9xkr45UxyeiTkQ6x45QuyeiT8x1ia5QuyeiTUaoZJWMxyqiaUTIWzG1aNaNkLJgOzJAoRZVSJhl9McIxfrRSJhl94fq241ClTDL6Yq9jvCYNS0ZvuEwGPopZmlhIRi+sIfeXxtYGIaeUMsnohSCkCViSQ+gezAtOwiW/mvzpkKz3ZnrPxCz1V4dZd6YC8+JSI2YNm+VWXE2ulYyiGPk/nslB8d6ayMkAAAAASUVORK5CYII=",n.SPINE_LOGO_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMTdhZGQ3Ni04OTZlLThlNGUtYmM5MS00ZjEyNjI1YjA3MjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTViNGE2ZS1hMDg3LWEzNDktODdhOS1mNDYzYjE2MzQ0Y2MiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJlNjJiMWM2LWIxYzQtNDk0MC04MDMxLWU4ZDkyNTBmODJjNSIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDE3YWRkNzYtODk2ZS04ZTRlLWJjOTEtNGYxMjYyNWIwNzI4IiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZTYyYjFjNi1iMWM0LTQ5NDAtODAzMS1lOGQ5MjUwZjgyYzUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ayrctAAATYUlEQVR42u2dfVQV553Hv88AXq5uAAlJ0CBem912jQh60kZ8y0tdC5soJnoaXzC4Tdz4cjya1GN206Zqsu3Jpm6yeM5uTG3iaYGoJNFdEY3GaFGD0p4mqS9AXpoV0OZFUOHS3usFuc/+Idde8M7M8zr3gsw5HOCZZ2aemecz39/LPPMMMLAMLDG2kIFzjqmFDiDZP6AkN3gf0gEob8x2kj4MCx2AMnbb1BcVld6IwJJ+0oYb2YTT/gYq6WPHJP3gmtA+Biztr1CSKLevLytprCkh7ctQkj4KsK590hiGlsbSOcVCR5I+BC7pA6BEAzQaq1DqhFFH3Vg16TSG4KHRgNPpyFd1XdIHAyrdCkhjADgaTSiJw/VIP1BSp6GhUQSOOgmlkzASxSqq2zpQB+ClGiGlUb65tAUZOmDUAa5u5XRSgajibVRCR3VCSRyoQwSBE/EvYy3YkYGESuwrpuAkDgPJCg4RhFVUNUkMw6hK6agDcFInoSQxAqNqWHVdD6fUhQqUsfiaVCN41IlOUBEx88JIJCCU8T+tttOR6pEFUgRQXoCVrydRAJJw/G+2jig6llN+p0wnsZpYXsAoxzGognYzryeagBRRR8L5t4iCRsvflDHnIopINcCpGkzlUOoCkqWcKABdlznXZa5lTK7Z/6zlvMeXXqdTCVWoI696ygZN0YZSp/KxQCijmiJgUp3gyQBpVy4Kq4gPqhpWlQrCCxgPeLz70wqmyqcksgELS5kKQEWCIBn1FEn7qFBKKgmnajCloZQtlwWSZR0PoCJBkJMDMnT4iSxlsQCmFJQidVUASQS3ZSlXadqhWDVkTCoLiDKw8t40XOU6oFQBJMtvkSBJ1ITLqKaOgIbVF+y9jd3/omAqVUtViigTTfMAyKqqKnxOlWZcFEzVZjrSb11gaodSRiVVAikCo4hKyjzpkh3No8tf1AUmrxnXCmW0gSSCcIqki4hipbTqGNU+IwuMqsAUfSLVoywezi46gGSFU8Sk86bBKOd1oJzrwuuEQLIbBU8sfiPC37DYhuW8pEfex3NcQBUqyVrO+7edeZdNIfFCSi22oZwdSkzUk1jAaQcrGMA0O34kUJXAaAYl0aSMkRQMjODxAArGct6onPf68CgLbGCkNv4r4axrp4wwUUc7CAnDdkzXJ14SNFHVEQFNRjHtbg7ZoMfuOlHGDiG9/DPCCDgLjDBROFgon50ZV6mQ1/YVzwmgSniJhFryAMpybB4TLjJLRqTOZPUbZYIrwmiqZYC02lboXOIV0C3qm5nVZQGSSCiuaETOe5PygEg4AbXyM1lhJIxqqiWYUQklUaiShMGc2gFpBbDdcXl9StHXka38KVZ/i8V35DXzZibcClIWtRS90ZQpJa/ysZhtHiBV+pk8imm2TjTFwxsQWIHL42PaRd4iroW0ksZLKAFv5MoKbyQQVZl1mShc5LxYOo4Fxt4KyZPysXMhrOrwqKWyHGa8wiCHVSXtzDaxgYSA36xDEk4V5lvGpxRVIZb8pZ0Z571x7My6Up9S17SBhMGvjASfocCUi0TkvOaZMJh11vSPGVSEcT0s1JYyKKnu1BABQOMloeJ9ssMCg53phoKUkVDQs2MMcvNSsZICwfYufPZVB+o/86HxbAAXP/ah9Z2LuPSnAK5wqB1PLlIkmGEBkzVbwKuWolkE6ddXeYeb2akfEfwRTRnZRf89/r84Bf81NB73WtDQ+VUHKocfw1ob35J3QAXrYApq8X94edBmvVUZS9si/Qbr/wacWXgeN/LCCAHAQ+sNhvqhOiQOcNucZMKwQXh42XCkM95AELjZRFNjRCAPSxSmAbXlKXlNOlF0wj2WoqKi5Hnz5mdTGiQA8OCDDx4T6aiNGzeOufnmm5MBoKysrHbfvn3tVhf40hX8MSked1u1LUhx+e1mXGBIz1znC77xxtaJhmFQwzDo3LmPHBdJ6ezZs2cqIVf3UVt7unH16tWNsB4gwpItsPKdlSfTZd4EZH1MKKJkEX8WLfqnlPXr1/8oNTV1QQ8QgsG2pqamX+TkZG+OtP/y8jcn5efnb+nq6vKmpg7NfeONrZOmT5++3uVyZYTvp76+vjg3d8IWs2vy2DDcsunvUDrIQLrZBT3fgXduO4ZnrEx1aWlpbkHBrM0AkJyclFVZWZl3990TngpvT1dXl7e29vRLU6dOLTcxmT3+P3Hi5NLMzMwlhmEkh7fH7/cfraqqemHevLknTMy10yZci/mO2rR5GzZs2JaamrogGAy2Xbx4cWtTU9OLXq93r2EYyR6P52kLdQQAxMXFJR05cvSRGTNmvOZyuTJ8Pl+d1+utCa0fPXr0kydOnHzSzFRu+RLNM09j7qc+vHY5iIbe7Wu7gt8t+wwbGG9YAEBV1eHvT516z0uh9vj9/tpQW7Ozc54rL39zkt1Dh6+/Pl/h8XieNgwjORAInGpqanqxvb19TzAYbHO73VPz8vK2vfXW29kKUnuOLIZitYWFryjlq1RXV890uVxjAWD37oqFo0Z5fjR2bNYvRozIWLFx48b7zpw5s8EmqgYA5OTkrA8EAud2767452HD0ueOGJHxxLp16x7w+Xx1AODxeB5buXLlCDOf9d2L8H7rd3jFfQSzv/MBpjx7BrP/4yzmP1qP76W8j6U7m3HJzpoEg8Fr5ePHj1/n8/nqtmx5fe6wYemPpKffNreysnJxaP2999672sqi/eEPJ5YkJiZmAcDhw1WP3nrrLQVjx2Ztysi4ffmqVSunBAKBU4ZhJE+bNu1VDj81qosRZfVjyU0CABk6dGgmAHR2djYVFRWdCl+3du1Pzo0bl7PZDPxwCHw+X11R0aOPLFy4sCa0vrj4P8+9++7+jaE6P/jBY3NYgrTft8P3s0Y0rPkcn5R9jRaGtNR159zdnieeeuqpulBZYeGCmsbGxtcBwO12jzFT3Iceejh55MiRTwBAQ0PDzwsKCqrDj1NSUuL98MMPX+hW3pHvvXdwqoK+1jELs3KlVGHmbZPVgUBHGwAkJCRklpSUjBW9MB988PvXwwKaa3UWLVpUEwgEzgFAamrqnWYppZ+Owt8eHoeCfdmY/vYYTH43B9/76Nt4tP5uLHlrDCbyntd77x0oPnDggLd3nbNnz9aG/i4vf3NipG1XrFgxKeRD7tq1a2+k4+Tn570fDAbbAOD222/P5uwTJ9/41BJ9izaOKXVQXFxcWVxc/IxhGMmzZj20+5NPPn21vLx8+9q1Pzlrd/xwpWxtbfWawev3+//kcrkyUlJSJpi1618z8cs4guRIx/mmG34Aky2i0+si1bC29VgX1s4e7Q+vl5aWNiJUmJ2dnVlRUTGiWxUpAISi8M7OzqaQ66O4r7UM4HDyxTEpn+XXv/5V2/Tp/1CYn/+PryQkJGSmp6cvXbVq1dLFixdX19TUbJ49++Fjsvm1L774oqYbSMtcpOk6YrqOuwND6S7W/dx///0l6CdLfBQVkntZuHDhqfnz58/84Q9XP5iZmbkgMTExa8iQIZOnTZs2+fPP/2/7HXd8Y63uNrR04vitgzAt0rqvOnAADgyCjbScOXNmAyGEAoBhGNd+E4Jrqrl//77KGwlK6hSY27Zta922bdtWANsrKiomT5iQ+y+JiYlZaWlp83bs2LlvzpzZx0X3PXz48Nyr/utV3zLS8vgn+Onr3wK9ZRDuI93X7wpFW9Nl7J51GpsQpY+4jxuX8yqsHy9SxMAH5p1KCfGAq3R/BQUF1cuXLy8KOfKjRo3KipDQ7bGkpKQkmbXrpptuGg0AXq+33uyglRfQdtsxPJ15HJOL6pE/4xS+m3AY373jt3j59F/gtzn369oUUrXedQn5a3lYnR7n5fP5rvmdW7ZsyXKYHW1fVjMcbqjyLyjs2PF2W0dHx1nWHdx117cfz8vLS+q9r4MHD82Ji4tLAoDm5uY6WM/6gHMBdJZ+jfN7LqAVzn0cqceyb9871X/NZ9433+6GjCXwoqWUvJ1hCUFjY9O/19XVLSssLOwR+R469JsHQsnjy5cvtyHSY6swNRo8ePCdpaVl5WVlZbmhstLS0gnjx49fBVx9vPfssz/eEaFN17VrrQee34zDA59OwIrWKdjsvwf/uysL90TYhjKCyzPvOH3++efPtrS0bO+OxOedOHFyaaR9VldXz2hsbHpRQf9R8E05I8RFvNM+oY1Pavpik8vlykxJSSl85ZVNz7z00svvB4NBEhcXlxwG5OlJkyZuh/mLUSGTVzd48OA7Z84s+OX5883nuvd97Znz0aNH/u3gwYPeCBexRwDzq7/HXYvS8VrvE5mSjO8DOGzRCT0nc+oOTnp3bASzHrFD16xZs2HTpk1ZiYmJWR6P5+lLl1qXBAKBU6H1brd7Snh1sD2rjqqJNxw6sOzkobSqquoFv99/NHShhwwZMjkEZEtLy/Zly5YtMrubwzv40KFDL3/00UfPdXV1eV0uV0YIyEAgcK6iYtcTs2bN2m+iCD3KvuyAN1LDr1D8xSSwuFYW3p7m5mavHRQXLlxoM1FdunPnjtbly5cXNTQ0/DwYDLYZhpHsdrunhH6Aq4MyPv744yWM6kwZ1VFr7tDub7P/HR8lBIAUFRWlRBi2Fn6DXXec0CghAKisrFxcWLjgOABSVlY2MQRG92M+rhfHGnKxZmQiFgAgXRTeLzuwf+Vn+O//aUErg2ljnemMdZQOBUBLSkrGpqXdkhQCPz8/7wjYBveKjBLinenN1nIAoCpHnvNOEGD2zo0RATKrdbZvPJaXvzk5BOXevXsfnz9/Xg3jednlYsnEJAz5hhvuPRdwsfUKuhhUHzYdZjWvJAuwlBE8ltHoVnDa3UDCUKp8omM3QwPrdlb7sVuHSD5luLns/ttquhIzGCP6eMe9aD/uRTtnMAfoeSXCDkie9rGabuX+qFOPGSMFHdREgVjA6w0N7xt2PLNWUCur8ZwHnu8kYWTbFfiS4zHY3wX/nFr8llEZRGG0U1Fq4xebKR+PD6kN1mg80bEC1Awyq1dCbUG0UEpWv9sUrCcz8OOkePR4Xp79N7jr5J8RsIFSdo5yW//SQkV5VZIKmmKhaDxeEkKr90/AYM5Z1NIOFtuX4ktLS08TQhZRSklpaWkt+N+tNl28XfhjOJS+LtSf/DMuC4Aoo5i8QFKbDIFTSfbIT7M4Ah2WYEck+FH9Zh/AN+EVU6RtBuo3B2PQ1tGYlZYAT3sXvljXgMqdzWiTMN0qfEuegEVHlC38eq1IR7BOJgAOIKEATqt9mKWw7CJuFZPx83x+xA5Klq8+iAIJsL8kZrdOGso4zo5gnQhV9qsOVuMheYbYs3yvmmc9lagn+iUGarMPVsW0y5FSAUXXYuLjBXZMBLdhmU02UtBjFQzx+ps850EtoLfzpbnVgUN5VOQxWdVR9MtmUiki1Skhq3wiTIBkgRMCKR/CWM6bV+W581kHL7DkMXk+1sQKJK9VcWQEEq/5FjXhIsGF7Ddt7MDhufAqTBYFlHzuWORLYpRBSXnNtowvKaWULDN42W3D+hkNMOQhAfNEN8/stay5U5nv3/AGPLI5TFa/kgrUlb05uW7gOEF1UqWWdhOk8kS9Ks0uT3BDGbbn8Sl54VTla1qZZ542Sy9xnGkgcAAkOoMukQBT1L+TMfci7gGvOecxsSzmXTaYYTk/nuvODSVLmchH5cH5t+hMuyyjuFmdedFXGyij/waoiXhlHlOyHgsMbY5q9G3le/LOu83ywSHRNBXLY1GRtA9vwMPaqU59wVZFG6DoWkkppajS8XyHW8V3t4lEekP09VS7kTp2Ebmsvyli0kWyBSqsyHVlcYIAyviWsmASThhVBjY84wtZ9suaK5RJy4iaaNa8pVKVNINSRi11gSkSheu4o82UkAVmnhymKIgi0TnA/8hRNPKmqqHkVUsnwBR91Meqjiocd5ZASgQKFT4nT1DDA6TUdSOaymXAFEkniZp7FSOBdAU9LOkVqgBQp4BkLieKgLUqkzXvVuDx7EMEQl35URHoIAmODMAqFJIZyjjNKqriE8a8yXynAxsIdgRrp/KabxkYow6kjFKIqqjKZDnhvAFELYNO8w3Jjuc15yLmmjWoUQZlnIT5UgGmjGqyjLtUrXy6oGRRTl2QivqwrJaJG2KZ5DQvsKwmmccHZVVD2fSSLmXk6XxRSHgVU5U6iqqnFJSyYKqAU+QGiJVAh2oClUdhqeLjSgOpSjFkTbwOVRXNGEDB9aCSwFIFHa3DFZBRfi1Q6gBTFk4Rs63zGijrFIg/ylRt7lW3m6kOUagQqiJ5orFONKJtHR0ok/vUAaPKOrbRt2owZZVTJmhRDaKOYW26I1st06yoBFKmk4jD61UCShSfq1OdpTLgUDW6R8t87rqcfZ1BlMr6uq6Vjhf2owGvozDKmG9dyiQCeTSAiwXVdNIP1A2uls7QkYhW/fgzVgIeXVOe6ISFOnSOjjn+uuHsK5F2NM1hLG/jSGfpjoSdjLSJg7Cp7FjaR7ZzXEGcinBJDF8DnZ1Ho7wPrYNadHdINGCLdVMdrU6nMdimqHYgiaF2kn4IXJ8FMJY6iPRxsPqTksbc55ZJP2vHgOnuYwD2tU4k/eycaT891g0F5YDZ7qfQ3SidTAZgG4By4FwHgBtYBpYbZ/l/2EJnC9N0gaQAAAAASUVORK5CYII=",n}();t.LoadingScreen=n}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){e.M00=0,e.M01=4,e.M02=8,e.M03=12,e.M10=1,e.M11=5,e.M12=9,e.M13=13,e.M20=2,e.M21=6,e.M22=10,e.M23=14,e.M30=3,e.M31=7,e.M32=11,e.M33=15;var t=function(){function t(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[e.M00]=1,t[e.M11]=1,t[e.M22]=1,t[e.M33]=1}return t.prototype.set=function(e){return this.values.set(e),this},t.prototype.transpose=function(){var t=this.temp,n=this.values;return t[e.M00]=n[e.M00],t[e.M01]=n[e.M10],t[e.M02]=n[e.M20],t[e.M03]=n[e.M30],t[e.M10]=n[e.M01],t[e.M11]=n[e.M11],t[e.M12]=n[e.M21],t[e.M13]=n[e.M31],t[e.M20]=n[e.M02],t[e.M21]=n[e.M12],t[e.M22]=n[e.M22],t[e.M23]=n[e.M32],t[e.M30]=n[e.M03],t[e.M31]=n[e.M13],t[e.M32]=n[e.M23],t[e.M33]=n[e.M33],this.set(t)},t.prototype.identity=function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this},t.prototype.invert=function(){var t=this.values,n=this.temp,r=t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33];if(0==r)throw new Error("non-invertible matrix");var o=1/r;return n[e.M00]=t[e.M12]*t[e.M23]*t[e.M31]-t[e.M13]*t[e.M22]*t[e.M31]+t[e.M13]*t[e.M21]*t[e.M32]-t[e.M11]*t[e.M23]*t[e.M32]-t[e.M12]*t[e.M21]*t[e.M33]+t[e.M11]*t[e.M22]*t[e.M33],n[e.M01]=t[e.M03]*t[e.M22]*t[e.M31]-t[e.M02]*t[e.M23]*t[e.M31]-t[e.M03]*t[e.M21]*t[e.M32]+t[e.M01]*t[e.M23]*t[e.M32]+t[e.M02]*t[e.M21]*t[e.M33]-t[e.M01]*t[e.M22]*t[e.M33],n[e.M02]=t[e.M02]*t[e.M13]*t[e.M31]-t[e.M03]*t[e.M12]*t[e.M31]+t[e.M03]*t[e.M11]*t[e.M32]-t[e.M01]*t[e.M13]*t[e.M32]-t[e.M02]*t[e.M11]*t[e.M33]+t[e.M01]*t[e.M12]*t[e.M33],n[e.M03]=t[e.M03]*t[e.M12]*t[e.M21]-t[e.M02]*t[e.M13]*t[e.M21]-t[e.M03]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M13]*t[e.M22]+t[e.M02]*t[e.M11]*t[e.M23]-t[e.M01]*t[e.M12]*t[e.M23],n[e.M10]=t[e.M13]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M20]*t[e.M32]+t[e.M10]*t[e.M23]*t[e.M32]+t[e.M12]*t[e.M20]*t[e.M33]-t[e.M10]*t[e.M22]*t[e.M33],n[e.M11]=t[e.M02]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M22]*t[e.M30]+t[e.M03]*t[e.M20]*t[e.M32]-t[e.M00]*t[e.M23]*t[e.M32]-t[e.M02]*t[e.M20]*t[e.M33]+t[e.M00]*t[e.M22]*t[e.M33],n[e.M12]=t[e.M03]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M10]*t[e.M32]+t[e.M00]*t[e.M13]*t[e.M32]+t[e.M02]*t[e.M10]*t[e.M33]-t[e.M00]*t[e.M12]*t[e.M33],n[e.M13]=t[e.M02]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M12]*t[e.M20]+t[e.M03]*t[e.M10]*t[e.M22]-t[e.M00]*t[e.M13]*t[e.M22]-t[e.M02]*t[e.M10]*t[e.M23]+t[e.M00]*t[e.M12]*t[e.M23],n[e.M20]=t[e.M11]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M21]*t[e.M30]+t[e.M13]*t[e.M20]*t[e.M31]-t[e.M10]*t[e.M23]*t[e.M31]-t[e.M11]*t[e.M20]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M33],n[e.M21]=t[e.M03]*t[e.M21]*t[e.M30]-t[e.M01]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M20]*t[e.M31]+t[e.M00]*t[e.M23]*t[e.M31]+t[e.M01]*t[e.M20]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M33],n[e.M22]=t[e.M01]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M11]*t[e.M30]+t[e.M03]*t[e.M10]*t[e.M31]-t[e.M00]*t[e.M13]*t[e.M31]-t[e.M01]*t[e.M10]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M33],n[e.M23]=t[e.M03]*t[e.M11]*t[e.M20]-t[e.M01]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M10]*t[e.M21]+t[e.M00]*t[e.M13]*t[e.M21]+t[e.M01]*t[e.M10]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M23],n[e.M30]=t[e.M12]*t[e.M21]*t[e.M30]-t[e.M11]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M20]*t[e.M31]+t[e.M10]*t[e.M22]*t[e.M31]+t[e.M11]*t[e.M20]*t[e.M32]-t[e.M10]*t[e.M21]*t[e.M32],n[e.M31]=t[e.M01]*t[e.M22]*t[e.M30]-t[e.M02]*t[e.M21]*t[e.M30]+t[e.M02]*t[e.M20]*t[e.M31]-t[e.M00]*t[e.M22]*t[e.M31]-t[e.M01]*t[e.M20]*t[e.M32]+t[e.M00]*t[e.M21]*t[e.M32],n[e.M32]=t[e.M02]*t[e.M11]*t[e.M30]-t[e.M01]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M10]*t[e.M31]+t[e.M00]*t[e.M12]*t[e.M31]+t[e.M01]*t[e.M10]*t[e.M32]-t[e.M00]*t[e.M11]*t[e.M32],n[e.M33]=t[e.M01]*t[e.M12]*t[e.M20]-t[e.M02]*t[e.M11]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]+t[e.M00]*t[e.M11]*t[e.M22],t[e.M00]=n[e.M00]*o,t[e.M01]=n[e.M01]*o,t[e.M02]=n[e.M02]*o,t[e.M03]=n[e.M03]*o,t[e.M10]=n[e.M10]*o,t[e.M11]=n[e.M11]*o,t[e.M12]=n[e.M12]*o,t[e.M13]=n[e.M13]*o,t[e.M20]=n[e.M20]*o,t[e.M21]=n[e.M21]*o,t[e.M22]=n[e.M22]*o,t[e.M23]=n[e.M23]*o,t[e.M30]=n[e.M30]*o,t[e.M31]=n[e.M31]*o,t[e.M32]=n[e.M32]*o,t[e.M33]=n[e.M33]*o,this},t.prototype.determinant=function(){var t=this.values;return t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33]},t.prototype.translate=function(t,n,r){var o=this.values;return o[e.M03]+=t,o[e.M13]+=n,o[e.M23]+=r,this},t.prototype.copy=function(){return(new t).set(this.values)},t.prototype.projection=function(t,n,r,o){this.identity();var i=1/Math.tan(r*(Math.PI/180)/2),s=(n+t)/(t-n),a=2*n*t/(t-n),l=this.values;return l[e.M00]=i/o,l[e.M10]=0,l[e.M20]=0,l[e.M30]=0,l[e.M01]=0,l[e.M11]=i,l[e.M21]=0,l[e.M31]=0,l[e.M02]=0,l[e.M12]=0,l[e.M22]=s,l[e.M32]=-1,l[e.M03]=0,l[e.M13]=0,l[e.M23]=a,l[e.M33]=0,this},t.prototype.ortho2d=function(e,t,n,r){return this.ortho(e,e+n,t,t+r,0,1)},t.prototype.ortho=function(t,n,r,o,i,s){this.identity();var a=2/(n-t),l=2/(o-r),c=-2/(s-i),u=-(n+t)/(n-t),h=-(o+r)/(o-r),d=-(s+i)/(s-i),p=this.values;return p[e.M00]=a,p[e.M10]=0,p[e.M20]=0,p[e.M30]=0,p[e.M01]=0,p[e.M11]=l,p[e.M21]=0,p[e.M31]=0,p[e.M02]=0,p[e.M12]=0,p[e.M22]=c,p[e.M32]=0,p[e.M03]=u,p[e.M13]=h,p[e.M23]=d,p[e.M33]=1,this},t.prototype.multiply=function(t){var n=this.temp,r=this.values,o=t.values;return n[e.M00]=r[e.M00]*o[e.M00]+r[e.M01]*o[e.M10]+r[e.M02]*o[e.M20]+r[e.M03]*o[e.M30],n[e.M01]=r[e.M00]*o[e.M01]+r[e.M01]*o[e.M11]+r[e.M02]*o[e.M21]+r[e.M03]*o[e.M31],n[e.M02]=r[e.M00]*o[e.M02]+r[e.M01]*o[e.M12]+r[e.M02]*o[e.M22]+r[e.M03]*o[e.M32],n[e.M03]=r[e.M00]*o[e.M03]+r[e.M01]*o[e.M13]+r[e.M02]*o[e.M23]+r[e.M03]*o[e.M33],n[e.M10]=r[e.M10]*o[e.M00]+r[e.M11]*o[e.M10]+r[e.M12]*o[e.M20]+r[e.M13]*o[e.M30],n[e.M11]=r[e.M10]*o[e.M01]+r[e.M11]*o[e.M11]+r[e.M12]*o[e.M21]+r[e.M13]*o[e.M31],n[e.M12]=r[e.M10]*o[e.M02]+r[e.M11]*o[e.M12]+r[e.M12]*o[e.M22]+r[e.M13]*o[e.M32],n[e.M13]=r[e.M10]*o[e.M03]+r[e.M11]*o[e.M13]+r[e.M12]*o[e.M23]+r[e.M13]*o[e.M33],n[e.M20]=r[e.M20]*o[e.M00]+r[e.M21]*o[e.M10]+r[e.M22]*o[e.M20]+r[e.M23]*o[e.M30],n[e.M21]=r[e.M20]*o[e.M01]+r[e.M21]*o[e.M11]+r[e.M22]*o[e.M21]+r[e.M23]*o[e.M31],n[e.M22]=r[e.M20]*o[e.M02]+r[e.M21]*o[e.M12]+r[e.M22]*o[e.M22]+r[e.M23]*o[e.M32],n[e.M23]=r[e.M20]*o[e.M03]+r[e.M21]*o[e.M13]+r[e.M22]*o[e.M23]+r[e.M23]*o[e.M33],n[e.M30]=r[e.M30]*o[e.M00]+r[e.M31]*o[e.M10]+r[e.M32]*o[e.M20]+r[e.M33]*o[e.M30],n[e.M31]=r[e.M30]*o[e.M01]+r[e.M31]*o[e.M11]+r[e.M32]*o[e.M21]+r[e.M33]*o[e.M31],n[e.M32]=r[e.M30]*o[e.M02]+r[e.M31]*o[e.M12]+r[e.M32]*o[e.M22]+r[e.M33]*o[e.M32],n[e.M33]=r[e.M30]*o[e.M03]+r[e.M31]*o[e.M13]+r[e.M32]*o[e.M23]+r[e.M33]*o[e.M33],this.set(this.temp)},t.prototype.multiplyLeft=function(t){var n=this.temp,r=this.values,o=t.values;return n[e.M00]=o[e.M00]*r[e.M00]+o[e.M01]*r[e.M10]+o[e.M02]*r[e.M20]+o[e.M03]*r[e.M30],n[e.M01]=o[e.M00]*r[e.M01]+o[e.M01]*r[e.M11]+o[e.M02]*r[e.M21]+o[e.M03]*r[e.M31],n[e.M02]=o[e.M00]*r[e.M02]+o[e.M01]*r[e.M12]+o[e.M02]*r[e.M22]+o[e.M03]*r[e.M32],n[e.M03]=o[e.M00]*r[e.M03]+o[e.M01]*r[e.M13]+o[e.M02]*r[e.M23]+o[e.M03]*r[e.M33],n[e.M10]=o[e.M10]*r[e.M00]+o[e.M11]*r[e.M10]+o[e.M12]*r[e.M20]+o[e.M13]*r[e.M30],n[e.M11]=o[e.M10]*r[e.M01]+o[e.M11]*r[e.M11]+o[e.M12]*r[e.M21]+o[e.M13]*r[e.M31],n[e.M12]=o[e.M10]*r[e.M02]+o[e.M11]*r[e.M12]+o[e.M12]*r[e.M22]+o[e.M13]*r[e.M32],n[e.M13]=o[e.M10]*r[e.M03]+o[e.M11]*r[e.M13]+o[e.M12]*r[e.M23]+o[e.M13]*r[e.M33],n[e.M20]=o[e.M20]*r[e.M00]+o[e.M21]*r[e.M10]+o[e.M22]*r[e.M20]+o[e.M23]*r[e.M30],n[e.M21]=o[e.M20]*r[e.M01]+o[e.M21]*r[e.M11]+o[e.M22]*r[e.M21]+o[e.M23]*r[e.M31],n[e.M22]=o[e.M20]*r[e.M02]+o[e.M21]*r[e.M12]+o[e.M22]*r[e.M22]+o[e.M23]*r[e.M32],n[e.M23]=o[e.M20]*r[e.M03]+o[e.M21]*r[e.M13]+o[e.M22]*r[e.M23]+o[e.M23]*r[e.M33],n[e.M30]=o[e.M30]*r[e.M00]+o[e.M31]*r[e.M10]+o[e.M32]*r[e.M20]+o[e.M33]*r[e.M30],n[e.M31]=o[e.M30]*r[e.M01]+o[e.M31]*r[e.M11]+o[e.M32]*r[e.M21]+o[e.M33]*r[e.M31],n[e.M32]=o[e.M30]*r[e.M02]+o[e.M31]*r[e.M12]+o[e.M32]*r[e.M22]+o[e.M33]*r[e.M32],n[e.M33]=o[e.M30]*r[e.M03]+o[e.M31]*r[e.M13]+o[e.M32]*r[e.M23]+o[e.M33]*r[e.M33],this.set(this.temp)},t.prototype.lookAt=function(n,r,o){t.initTemps();var i=t.xAxis,s=t.yAxis,a=t.zAxis;a.setFrom(r).normalize(),i.setFrom(r).normalize(),i.cross(o).normalize(),s.setFrom(i).cross(a).normalize(),this.identity();var l=this.values;return l[e.M00]=i.x,l[e.M01]=i.y,l[e.M02]=i.z,l[e.M10]=s.x,l[e.M11]=s.y,l[e.M12]=s.z,l[e.M20]=-a.x,l[e.M21]=-a.y,l[e.M22]=-a.z,t.tmpMatrix.identity(),t.tmpMatrix.values[e.M03]=-n.x,t.tmpMatrix.values[e.M13]=-n.y,t.tmpMatrix.values[e.M23]=-n.z,this.multiply(t.tmpMatrix),this},t.initTemps=function(){null===t.xAxis&&(t.xAxis=new e.Vector3),null===t.yAxis&&(t.yAxis=new e.Vector3),null===t.zAxis&&(t.zAxis=new e.Vector3)},t.xAxis=null,t.yAxis=null,t.zAxis=null,t.tmpMatrix=new t,t}();e.Matrix4=t}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){var t=function(){function t(t,n,r,o){this.attributes=n,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t),this.elementsPerVertex=0;for(var i=0;i<n.length;i++)this.elementsPerVertex+=n[i].numElements;this.vertices=new Float32Array(r*this.elementsPerVertex),this.indices=new Uint16Array(o),this.context.addRestorable(this)}return t.prototype.getAttributes=function(){return this.attributes},t.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},t.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},t.prototype.setVerticesLength=function(e){this.dirtyVertices=!0,this.verticesLength=e},t.prototype.getVertices=function(){return this.vertices},t.prototype.maxIndices=function(){return this.indices.length},t.prototype.numIndices=function(){return this.indicesLength},t.prototype.setIndicesLength=function(e){this.dirtyIndices=!0,this.indicesLength=e},t.prototype.getIndices=function(){return this.indices},t.prototype.getVertexSizeInFloats=function(){for(var e=0,t=0;t<this.attributes.length;t++){e+=this.attributes[t].numElements}return e},t.prototype.setVertices=function(e){if(this.dirtyVertices=!0,e.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(e,0),this.verticesLength=e.length},t.prototype.setIndices=function(e){if(this.dirtyIndices=!0,e.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(e,0),this.indicesLength=e.length},t.prototype.draw=function(e,t){this.drawWithOffset(e,t,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},t.prototype.drawWithOffset=function(e,t,n,r){var o=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(e),this.indicesLength>0?o.drawElements(t,r,o.UNSIGNED_SHORT,2*n):o.drawArrays(t,n,r),this.unbind(e)},t.prototype.bind=function(e){var t=this.context.gl;t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer);for(var n=0,r=0;r<this.attributes.length;r++){var o=this.attributes[r],i=e.getAttributeLocation(o.name);t.enableVertexAttribArray(i),t.vertexAttribPointer(i,o.numElements,t.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=o.numElements}this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},t.prototype.unbind=function(e){for(var t=this.context.gl,n=0;n<this.attributes.length;n++){var r=this.attributes[n],o=e.getAttributeLocation(r.name);t.disableVertexAttribArray(o)}t.bindBuffer(t.ARRAY_BUFFER,null),this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},t.prototype.update=function(){var e=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),e.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),e.DYNAMIC_DRAW),this.dirtyIndices=!1)},t.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},t.prototype.dispose=function(){this.context.removeRestorable(this);var e=this.context.gl;e.deleteBuffer(this.verticesBuffer),e.deleteBuffer(this.indicesBuffer)},t}();e.Mesh=t;var n=function(e,t,n){this.name=e,this.type=t,this.numElements=n};e.VertexAttribute=n;var r=function(t){function n(){return t.call(this,e.Shader.POSITION,a.Float,2)||this}return Kc(n,t),n}(n);e.Position2Attribute=r;var o=function(t){function n(){return t.call(this,e.Shader.POSITION,a.Float,3)||this}return Kc(n,t),n}(n);e.Position3Attribute=o;var i=function(t){function n(n){return void 0===n&&(n=0),t.call(this,e.Shader.TEXCOORDS+(0==n?"":n),a.Float,2)||this}return Kc(n,t),n}(n);e.TexCoordAttribute=i;var s=function(t){function n(){return t.call(this,e.Shader.COLOR,a.Float,4)||this}return Kc(n,t),n}(n);e.ColorAttribute=s;var a,l=function(t){function n(){return t.call(this,e.Shader.COLOR2,a.Float,4)||this}return Kc(n,t),n}(n);e.Color2Attribute=l,function(e){e[e.Float=0]="Float"}(a=e.VertexAttributeType||(e.VertexAttributeType={}))}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){var t=function(){function t(t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t);var o=n?[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute,new e.Color2Attribute]:[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute];this.mesh=new e.Mesh(t,o,r,3*r),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return t.prototype.begin=function(e){var t=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=e,this.lastTexture=null,this.isDrawing=!0,t.enable(t.BLEND),t.blendFunc(this.srcBlend,this.dstBlend)},t.prototype.setBlendMode=function(e,t){var n=this.context.gl;this.srcBlend=e,this.dstBlend=t,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},t.prototype.draw=function(e,t,n){e!=this.lastTexture?(this.flush(),this.lastTexture=e):(this.verticesLength+t.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();var r=this.mesh.numVertices();this.mesh.getVertices().set(t,this.verticesLength),this.verticesLength+=t.length,this.mesh.setVerticesLength(this.verticesLength);for(var o=this.mesh.getIndices(),i=this.indicesLength,s=0;s<n.length;i++,s++)o[i]=n[s]+r;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)},t.prototype.flush=function(){var e=this.context.gl;0!=this.verticesLength&&(this.lastTexture.bind(),this.mesh.draw(this.shader,e.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},t.prototype.end=function(){var e=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,e.disable(e.BLEND)},t.prototype.getDrawCalls=function(){return this.drawCalls},t.prototype.dispose=function(){this.mesh.dispose()},t}();e.PolygonBatcher=t}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n,r=function(){function r(n,r,o){void 0===o&&(o=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new e.Color(1,1,1,1),this.canvas=n,this.context=r instanceof t.ManagedWebGLRenderingContext?r:new t.ManagedWebGLRenderingContext(r),this.twoColorTint=o,this.camera=new t.OrthoCamera(n.width,n.height),this.batcherShader=o?t.Shader.newTwoColoredTextured(this.context):t.Shader.newColoredTextured(this.context),this.batcher=new t.PolygonBatcher(this.context,o),this.shapesShader=t.Shader.newColored(this.context),this.shapes=new t.ShapeRenderer(this.context),this.skeletonRenderer=new t.SkeletonRenderer(this.context,o),this.skeletonDebugRenderer=new t.SkeletonDebugRenderer(this.context)}return r.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},r.prototype.drawSkeleton=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=-1),void 0===r&&(r=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=t,this.skeletonRenderer.draw(this.batcher,e,n,r)},r.prototype.drawSkeletonDebug=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=t,this.skeletonDebugRenderer.draw(this.shapes,e,n)},r.prototype.drawTexture=function(e,t,n,r,o,i){void 0===i&&(i=null),this.enableRenderer(this.batcher),null===i&&(i=this.WHITE);var s=this.QUAD,a=0;s[a++]=t,s[a++]=n,s[a++]=i.r,s[a++]=i.g,s[a++]=i.b,s[a++]=i.a,s[a++]=0,s[a++]=1,this.twoColorTint&&(s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0),s[a++]=t+r,s[a++]=n,s[a++]=i.r,s[a++]=i.g,s[a++]=i.b,s[a++]=i.a,s[a++]=1,s[a++]=1,this.twoColorTint&&(s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0),s[a++]=t+r,s[a++]=n+o,s[a++]=i.r,s[a++]=i.g,s[a++]=i.b,s[a++]=i.a,s[a++]=1,s[a++]=0,this.twoColorTint&&(s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0),s[a++]=t,s[a++]=n+o,s[a++]=i.r,s[a++]=i.g,s[a++]=i.b,s[a++]=i.a,s[a++]=0,s[a++]=0,this.twoColorTint&&(s[a++]=0,s[a++]=0,s[a++]=0,s[a++]=0),this.batcher.draw(e,s,this.QUAD_TRIANGLES)},r.prototype.drawTextureUV=function(e,t,n,r,o,i,s,a,l,c){void 0===c&&(c=null),this.enableRenderer(this.batcher),null===c&&(c=this.WHITE);var u=this.QUAD,h=0;u[h++]=t,u[h++]=n,u[h++]=c.r,u[h++]=c.g,u[h++]=c.b,u[h++]=c.a,u[h++]=i,u[h++]=s,this.twoColorTint&&(u[h++]=0,u[h++]=0,u[h++]=0,u[h++]=0),u[h++]=t+r,u[h++]=n,u[h++]=c.r,u[h++]=c.g,u[h++]=c.b,u[h++]=c.a,u[h++]=a,u[h++]=s,this.twoColorTint&&(u[h++]=0,u[h++]=0,u[h++]=0,u[h++]=0),u[h++]=t+r,u[h++]=n+o,u[h++]=c.r,u[h++]=c.g,u[h++]=c.b,u[h++]=c.a,u[h++]=a,u[h++]=l,this.twoColorTint&&(u[h++]=0,u[h++]=0,u[h++]=0,u[h++]=0),u[h++]=t,u[h++]=n+o,u[h++]=c.r,u[h++]=c.g,u[h++]=c.b,u[h++]=c.a,u[h++]=i,u[h++]=l,this.twoColorTint&&(u[h++]=0,u[h++]=0,u[h++]=0,u[h++]=0),this.batcher.draw(e,u,this.QUAD_TRIANGLES)},r.prototype.drawTextureRotated=function(t,n,r,o,i,s,a,l,c,u){void 0===c&&(c=null),void 0===u&&(u=!1),this.enableRenderer(this.batcher),null===c&&(c=this.WHITE);var h=this.QUAD,d=n+s,p=r+a,f=-s,g=-a,m=o-s,_=i-a,v=f,b=g,E=f,y=_,T=m,w=_,S=m,C=g,I=0,k=0,R=0,M=0,O=0,x=0,A=0,N=0;if(0!=l){var L=e.MathUtils.cosDeg(l),D=e.MathUtils.sinDeg(l);R=(O=L*T-D*w)+((I=L*v-D*b)-(A=L*E-D*y)),M=(x=D*T+L*w)+((k=D*v+L*b)-(N=D*E+L*y))}else I=v,k=b,A=E,N=y,O=T,x=w,R=S,M=C;I+=d,k+=p,R+=d,M+=p,O+=d,x+=p,A+=d,N+=p;var P=0;h[P++]=I,h[P++]=k,h[P++]=c.r,h[P++]=c.g,h[P++]=c.b,h[P++]=c.a,h[P++]=0,h[P++]=1,this.twoColorTint&&(h[P++]=0,h[P++]=0,h[P++]=0,h[P++]=0),h[P++]=R,h[P++]=M,h[P++]=c.r,h[P++]=c.g,h[P++]=c.b,h[P++]=c.a,h[P++]=1,h[P++]=1,this.twoColorTint&&(h[P++]=0,h[P++]=0,h[P++]=0,h[P++]=0),h[P++]=O,h[P++]=x,h[P++]=c.r,h[P++]=c.g,h[P++]=c.b,h[P++]=c.a,h[P++]=1,h[P++]=0,this.twoColorTint&&(h[P++]=0,h[P++]=0,h[P++]=0,h[P++]=0),h[P++]=A,h[P++]=N,h[P++]=c.r,h[P++]=c.g,h[P++]=c.b,h[P++]=c.a,h[P++]=0,h[P++]=0,this.twoColorTint&&(h[P++]=0,h[P++]=0,h[P++]=0,h[P++]=0),this.batcher.draw(t,h,this.QUAD_TRIANGLES)},r.prototype.drawRegion=function(e,t,n,r,o,i,s){void 0===i&&(i=null),void 0===s&&(s=!1),this.enableRenderer(this.batcher),null===i&&(i=this.WHITE);var a=this.QUAD,l=0;a[l++]=t,a[l++]=n,a[l++]=i.r,a[l++]=i.g,a[l++]=i.b,a[l++]=i.a,a[l++]=e.u,a[l++]=e.v2,this.twoColorTint&&(a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0),a[l++]=t+r,a[l++]=n,a[l++]=i.r,a[l++]=i.g,a[l++]=i.b,a[l++]=i.a,a[l++]=e.u2,a[l++]=e.v2,this.twoColorTint&&(a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0),a[l++]=t+r,a[l++]=n+o,a[l++]=i.r,a[l++]=i.g,a[l++]=i.b,a[l++]=i.a,a[l++]=e.u2,a[l++]=e.v,this.twoColorTint&&(a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0),a[l++]=t,a[l++]=n+o,a[l++]=i.r,a[l++]=i.g,a[l++]=i.b,a[l++]=i.a,a[l++]=e.u,a[l++]=e.v,this.twoColorTint&&(a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0),this.batcher.draw(e.texture,a,this.QUAD_TRIANGLES)},r.prototype.line=function(e,t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=null),this.enableRenderer(this.shapes),this.shapes.line(e,t,n,r,o)},r.prototype.triangle=function(e,t,n,r,o,i,s,a,l,c){void 0===a&&(a=null),void 0===l&&(l=null),void 0===c&&(c=null),this.enableRenderer(this.shapes),this.shapes.triangle(e,t,n,r,o,i,s,a,l,c)},r.prototype.quad=function(e,t,n,r,o,i,s,a,l,c,u,h,d){void 0===c&&(c=null),void 0===u&&(u=null),void 0===h&&(h=null),void 0===d&&(d=null),this.enableRenderer(this.shapes),this.shapes.quad(e,t,n,r,o,i,s,a,l,c,u,h,d)},r.prototype.rect=function(e,t,n,r,o,i){void 0===i&&(i=null),this.enableRenderer(this.shapes),this.shapes.rect(e,t,n,r,o,i)},r.prototype.rectLine=function(e,t,n,r,o,i,s){void 0===s&&(s=null),this.enableRenderer(this.shapes),this.shapes.rectLine(e,t,n,r,o,i,s)},r.prototype.polygon=function(e,t,n,r){void 0===r&&(r=null),this.enableRenderer(this.shapes),this.shapes.polygon(e,t,n,r)},r.prototype.circle=function(e,t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0),this.enableRenderer(this.shapes),this.shapes.circle(e,t,n,r,o,i)},r.prototype.curve=function(e,t,n,r,o,i,s,a,l,c){void 0===c&&(c=null),this.enableRenderer(this.shapes),this.shapes.curve(e,t,n,r,o,i,s,a,l,c)},r.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},r.prototype.resize=function(e){var t=this.canvas,r=t.clientWidth,o=t.clientHeight;if(t.width==r&&t.height==o||(t.width=r,t.height=o),this.context.gl.viewport(0,0,t.width,t.height),e===n.Stretch);else if(e===n.Expand)this.camera.setViewport(r,o);else if(e===n.Fit){var i=t.width,s=t.height,a=this.camera.viewportWidth,l=this.camera.viewportHeight,c=l/a<s/i?a/i:l/s;this.camera.viewportWidth=i*c,this.camera.viewportHeight=s*c}this.camera.update()},r.prototype.enableRenderer=function(e){this.activeRenderer!==e&&(this.end(),e instanceof t.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(t.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):e instanceof t.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(t.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},r.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},r}();t.SceneRenderer=r,function(e){e[e.Stretch=0]="Stretch",e[e.Expand=1]="Expand",e[e.Fit=2]="Fit"}(n=t.ResizeMode||(t.ResizeMode={}))}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){var t=function(){function t(t,n,r){this.vertexShader=n,this.fragmentShader=r,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=n,this.fsSource=r,this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t),this.context.addRestorable(this),this.compile()}return t.prototype.getProgram=function(){return this.program},t.prototype.getVertexShader=function(){return this.vertexShader},t.prototype.getFragmentShader=function(){return this.fragmentShader},t.prototype.getVertexShaderSource=function(){return this.vsSource},t.prototype.getFragmentSource=function(){return this.fsSource},t.prototype.compile=function(){var e=this.context.gl;try{this.vs=this.compileShader(e.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(e.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(e){throw this.dispose(),e}},t.prototype.compileShader=function(e,t){var n=this.context.gl,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var o="Couldn't compile shader: "+n.getShaderInfoLog(r);if(n.deleteShader(r),!n.isContextLost())throw new Error(o)}return r},t.prototype.compileProgram=function(e,t){var n=this.context.gl,r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS)){var o="Couldn't compile shader program: "+n.getProgramInfoLog(r);if(n.deleteProgram(r),!n.isContextLost())throw new Error(o)}return r},t.prototype.restore=function(){this.compile()},t.prototype.bind=function(){this.context.gl.useProgram(this.program)},t.prototype.unbind=function(){this.context.gl.useProgram(null)},t.prototype.setUniformi=function(e,t){this.context.gl.uniform1i(this.getUniformLocation(e),t)},t.prototype.setUniformf=function(e,t){this.context.gl.uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniform2f=function(e,t,n){this.context.gl.uniform2f(this.getUniformLocation(e),t,n)},t.prototype.setUniform3f=function(e,t,n,r){this.context.gl.uniform3f(this.getUniformLocation(e),t,n,r)},t.prototype.setUniform4f=function(e,t,n,r,o){this.context.gl.uniform4f(this.getUniformLocation(e),t,n,r,o)},t.prototype.setUniform2x2f=function(e,t){var n=this.context.gl;this.tmp2x2.set(t),n.uniformMatrix2fv(this.getUniformLocation(e),!1,this.tmp2x2)},t.prototype.setUniform3x3f=function(e,t){var n=this.context.gl;this.tmp3x3.set(t),n.uniformMatrix3fv(this.getUniformLocation(e),!1,this.tmp3x3)},t.prototype.setUniform4x4f=function(e,t){var n=this.context.gl;this.tmp4x4.set(t),n.uniformMatrix4fv(this.getUniformLocation(e),!1,this.tmp4x4)},t.prototype.getUniformLocation=function(e){var t=this.context.gl,n=t.getUniformLocation(this.program,e);if(!n&&!t.isContextLost())throw new Error("Couldn't find location for uniform "+e);return n},t.prototype.getAttributeLocation=function(e){var t=this.context.gl,n=t.getAttribLocation(this.program,e);if(-1==n&&!t.isContextLost())throw new Error("Couldn't find location for attribute "+e);return n},t.prototype.dispose=function(){this.context.removeRestorable(this);var e=this.context.gl;this.vs&&(e.deleteShader(this.vs),this.vs=null),this.fs&&(e.deleteShader(this.fs),this.fs=null),this.program&&(e.deleteProgram(this.program),this.program=null)},t.newColoredTextured=function(e){return new t(e,"\n\t\t\t\tattribute vec4 "+t.POSITION+";\n\t\t\t\tattribute vec4 "+t.COLOR+";\n\t\t\t\tattribute vec2 "+t.TEXCOORDS+";\n\t\t\t\tuniform mat4 "+t.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_color;\n\t\t\t\tvarying vec2 v_texCoords;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_color = "+t.COLOR+";\n\t\t\t\t\tv_texCoords = "+t.TEXCOORDS+";\n\t\t\t\t\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_color;\n\t\t\t\tvarying vec2 v_texCoords;\n\t\t\t\tuniform sampler2D u_texture;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n\t\t\t\t}\n\t\t\t")},t.newTwoColoredTextured=function(e){return new t(e,"\n\t\t\t\tattribute vec4 "+t.POSITION+";\n\t\t\t\tattribute vec4 "+t.COLOR+";\n\t\t\t\tattribute vec4 "+t.COLOR2+";\n\t\t\t\tattribute vec2 "+t.TEXCOORDS+";\n\t\t\t\tuniform mat4 "+t.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_light;\n\t\t\t\tvarying vec4 v_dark;\n\t\t\t\tvarying vec2 v_texCoords;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_light = "+t.COLOR+";\n\t\t\t\t\tv_dark = "+t.COLOR2+";\n\t\t\t\t\tv_texCoords = "+t.TEXCOORDS+";\n\t\t\t\t\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_light;\n\t\t\t\tvarying LOWP vec4 v_dark;\n\t\t\t\tvarying vec2 v_texCoords;\n\t\t\t\tuniform sampler2D u_texture;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\t\t\t\t\tgl_FragColor.a = texColor.a * v_light.a;\n\t\t\t\t\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n\t\t\t\t}\n\t\t\t")},t.newColored=function(e){return new t(e,"\n\t\t\t\tattribute vec4 "+t.POSITION+";\n\t\t\t\tattribute vec4 "+t.COLOR+";\n\t\t\t\tuniform mat4 "+t.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_color = "+t.COLOR+";\n\t\t\t\t\tgl_Position = "+t.MVP_MATRIX+" * "+t.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_color;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tgl_FragColor = v_color;\n\t\t\t\t}\n\t\t\t")},t.MVP_MATRIX="u_projTrans",t.POSITION="a_position",t.COLOR="a_color",t.COLOR2="a_color2",t.TEXCOORDS="a_texCoords",t.SAMPLER="u_texture",t}();e.Shader=t}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n,r=function(){function r(r,o){if(void 0===o&&(o=10920),this.isDrawing=!1,this.shapeType=n.Filled,this.color=new e.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new e.Vector2,o>10920)throw new Error("Can't have more than 10920 triangles per batch: "+o);this.context=r instanceof t.ManagedWebGLRenderingContext?r:new t.ManagedWebGLRenderingContext(r),this.mesh=new t.Mesh(r,[new t.Position2Attribute,new t.ColorAttribute],o,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return r.prototype.begin=function(e){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=e,this.vertexIndex=0,this.isDrawing=!0;var t=this.context.gl;t.enable(t.BLEND),t.blendFunc(this.srcBlend,this.dstBlend)},r.prototype.setBlendMode=function(e,t){var n=this.context.gl;this.srcBlend=e,this.dstBlend=t,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},r.prototype.setColor=function(e){this.color.setFromColor(e)},r.prototype.setColorWith=function(e,t,n,r){this.color.set(e,t,n,r)},r.prototype.point=function(e,t,r){void 0===r&&(r=null),this.check(n.Point,1),null===r&&(r=this.color),this.vertex(e,t,r)},r.prototype.line=function(e,t,r,o,i){void 0===i&&(i=null),this.check(n.Line,2);this.mesh.getVertices(),this.vertexIndex;null===i&&(i=this.color),this.vertex(e,t,i),this.vertex(r,o,i)},r.prototype.triangle=function(e,t,r,o,i,s,a,l,c,u){void 0===l&&(l=null),void 0===c&&(c=null),void 0===u&&(u=null),this.check(e?n.Filled:n.Line,3);this.mesh.getVertices(),this.vertexIndex;null===l&&(l=this.color),null===c&&(c=this.color),null===u&&(u=this.color),e?(this.vertex(t,r,l),this.vertex(o,i,c),this.vertex(s,a,u)):(this.vertex(t,r,l),this.vertex(o,i,c),this.vertex(o,i,l),this.vertex(s,a,c),this.vertex(s,a,l),this.vertex(t,r,c))},r.prototype.quad=function(e,t,r,o,i,s,a,l,c,u,h,d,p){void 0===u&&(u=null),void 0===h&&(h=null),void 0===d&&(d=null),void 0===p&&(p=null),this.check(e?n.Filled:n.Line,3);this.mesh.getVertices(),this.vertexIndex;null===u&&(u=this.color),null===h&&(h=this.color),null===d&&(d=this.color),null===p&&(p=this.color),e?(this.vertex(t,r,u),this.vertex(o,i,h),this.vertex(s,a,d),this.vertex(s,a,d),this.vertex(l,c,p),this.vertex(t,r,u)):(this.vertex(t,r,u),this.vertex(o,i,h),this.vertex(o,i,h),this.vertex(s,a,d),this.vertex(s,a,d),this.vertex(l,c,p),this.vertex(l,c,p),this.vertex(t,r,u))},r.prototype.rect=function(e,t,n,r,o,i){void 0===i&&(i=null),this.quad(e,t,n,t+r,n,t+r,n+o,t,n+o,i,i,i,i)},r.prototype.rectLine=function(e,t,r,o,i,s,a){void 0===a&&(a=null),this.check(e?n.Filled:n.Line,8),null===a&&(a=this.color);var l=this.tmp.set(i-r,t-o);l.normalize(),s*=.5;var c=l.x*s,u=l.y*s;e?(this.vertex(t+c,r+u,a),this.vertex(t-c,r-u,a),this.vertex(o+c,i+u,a),this.vertex(o-c,i-u,a),this.vertex(o+c,i+u,a),this.vertex(t-c,r-u,a)):(this.vertex(t+c,r+u,a),this.vertex(t-c,r-u,a),this.vertex(o+c,i+u,a),this.vertex(o-c,i-u,a),this.vertex(o+c,i+u,a),this.vertex(t+c,r+u,a),this.vertex(o-c,i-u,a),this.vertex(t-c,r-u,a))},r.prototype.x=function(e,t,n){this.line(e-n,t-n,e+n,t+n),this.line(e-n,t+n,e+n,t-n)},r.prototype.polygon=function(e,t,r,o){if(void 0===o&&(o=null),r<3)throw new Error("Polygon must contain at least 3 vertices");this.check(n.Line,2*r),null===o&&(o=this.color);this.mesh.getVertices(),this.vertexIndex;r<<=1;for(var i=e[t<<=1],s=e[t+1],a=t+r,l=t,c=t+r-2;l<c;l+=2){var u=e[l],h=e[l+1],d=0,p=0;l+2>=a?(d=i,p=s):(d=e[l+2],p=e[l+3]),this.vertex(u,h,o),this.vertex(d,p,o)}},r.prototype.circle=function(t,r,o,i,s,a){if(void 0===s&&(s=null),void 0===a&&(a=0),0===a&&(a=Math.max(1,6*e.MathUtils.cbrt(i)|0)),a<=0)throw new Error("segments must be > 0.");null===s&&(s=this.color);var l=2*e.MathUtils.PI/a,c=Math.cos(l),u=Math.sin(l),h=i,d=0;if(t){this.check(n.Filled,3*a+3),a--;for(f=0;f<a;f++){this.vertex(r,o,s),this.vertex(r+h,o+d,s);var p=h;h=c*h-u*d,d=u*p+c*d,this.vertex(r+h,o+d,s)}this.vertex(r,o,s),this.vertex(r+h,o+d,s)}else{this.check(n.Line,2*a+2);for(var f=0;f<a;f++){this.vertex(r+h,o+d,s);var g=h;h=c*h-u*d,d=u*g+c*d,this.vertex(r+h,o+d,s)}this.vertex(r+h,o+d,s)}h=i,d=0,this.vertex(r+h,o+d,s)},r.prototype.curve=function(e,t,r,o,i,s,a,l,c,u){void 0===u&&(u=null),this.check(n.Line,2*c+2),null===u&&(u=this.color);for(var h=1/c,d=h*h,p=h*h*h,f=3*h,g=3*d,m=6*d,_=6*p,v=e-2*r+i,b=t-2*o+s,E=3*(r-i)-e+a,y=3*(o-s)-t+l,T=e,w=t,S=(r-e)*f+v*g+E*p,C=(o-t)*f+b*g+y*p,I=v*m+E*_,k=b*m+y*_,R=E*_,M=y*_;c-- >0;)this.vertex(T,w,u),T+=S,w+=C,S+=I,C+=k,I+=R,k+=M,this.vertex(T,w,u);this.vertex(T,w,u),this.vertex(a,l,u)},r.prototype.vertex=function(e,t,n){var r=this.vertexIndex,o=this.mesh.getVertices();o[r++]=e,o[r++]=t,o[r++]=n.r,o[r++]=n.g,o[r++]=n.b,o[r++]=n.a,this.vertexIndex=r},r.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},r.prototype.flush=function(){0!=this.vertexIndex&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},r.prototype.check=function(e,t){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==e){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<t))return;this.flush()}else this.flush(),this.shapeType=e},r.prototype.dispose=function(){this.mesh.dispose()},r}();t.ShapeRenderer=r,function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Filled=4]="Filled"}(n=t.ShapeType||(t.ShapeType={}))}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(){function n(n){this.boneLineColor=new e.Color(1,0,0,1),this.boneOriginColor=new e.Color(0,1,0,1),this.attachmentLineColor=new e.Color(0,0,1,.5),this.triangleLineColor=new e.Color(1,.64,0,.5),this.pathColor=(new e.Color).setFromString("FF7F00"),this.clipColor=new e.Color(.8,0,0,2),this.aabbColor=new e.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new e.SkeletonBounds,this.temp=new Array,this.vertices=e.Utils.newFloatArray(2048),this.context=n instanceof t.ManagedWebGLRenderingContext?n:new t.ManagedWebGLRenderingContext(n)}return n.prototype.draw=function(t,r,o){void 0===o&&(o=null);var i=r.x,s=r.y,a=this.context.gl,l=this.premultipliedAlpha?a.ONE:a.SRC_ALPHA;t.setBlendMode(l,a.ONE_MINUS_SRC_ALPHA);var c=r.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(var u=0,h=c.length;u<h;u++){var d=c[u];if(!(o&&o.indexOf(d.data.name)>-1)&&null!=d.parent){var p=i+d.data.length*d.a+d.worldX,f=s+d.data.length*d.c+d.worldY;t.rectLine(!0,i+d.worldX,s+d.worldY,p,f,this.boneWidth*this.scale)}}this.drawSkeletonXY&&t.x(i,s,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);for(u=0,h=(j=r.slots).length;u<h;u++){if((V=(H=j[u]).getAttachment())instanceof e.RegionAttachment){var g=V,m=this.vertices;g.computeWorldVertices(H.bone,m,0,2),t.line(m[0],m[1],m[2],m[3]),t.line(m[2],m[3],m[4],m[5]),t.line(m[4],m[5],m[6],m[7]),t.line(m[6],m[7],m[0],m[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(u=0,h=(j=r.slots).length;u<h;u++){if((H=j[u]).bone.active)if((V=H.getAttachment())instanceof e.MeshAttachment){var _=V;m=this.vertices;_.computeWorldVertices(H,0,_.worldVerticesLength,m,0,2);var v=_.triangles,b=_.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(var E=0,y=v.length;E<y;E+=3){var T=2*v[E],w=2*v[E+1],S=2*v[E+2];t.triangle(!1,m[T],m[T+1],m[w],m[w+1],m[S],m[S+1])}}if(this.drawMeshHull&&b>0){t.setColor(this.attachmentLineColor);var C=m[(b=2*(b>>1))-2],I=m[b-1];for(E=0,y=b;E<y;E+=2){p=m[E],f=m[E+1];t.line(p,f,C,I),C=p,I=f}}}}if(this.drawBoundingBoxes){var k=this.bounds;k.update(r,!0),t.setColor(this.aabbColor),t.rect(!1,k.minX,k.minY,k.getWidth(),k.getHeight());var R=k.polygons,M=k.boundingBoxes;for(u=0,h=R.length;u<h;u++){var O=R[u];t.setColor(M[u].color),t.polygon(O,0,O.length)}}if(this.drawPaths)for(u=0,h=(j=r.slots).length;u<h;u++){if((H=j[u]).bone.active)if((V=H.getAttachment())instanceof e.PathAttachment){var x=V,A=(y=x.worldVerticesLength,this.temp=e.Utils.setArraySize(this.temp,y,0));x.computeWorldVertices(H,0,y,A,0,2);var N=this.pathColor,L=A[2],D=A[3],P=0,$=0;if(x.closed){t.setColor(N);var B=A[0],F=A[1],U=A[y-2],G=A[y-1];P=A[y-4],$=A[y-3],t.curve(L,D,B,F,U,G,P,$,32),t.setColor(n.LIGHT_GRAY),t.line(L,D,B,F),t.line(P,$,U,G)}y-=4;for(E=4;E<y;E+=6){B=A[E],F=A[E+1],U=A[E+2],G=A[E+3];P=A[E+4],$=A[E+5],t.setColor(N),t.curve(L,D,B,F,U,G,P,$,32),t.setColor(n.LIGHT_GRAY),t.line(L,D,B,F),t.line(P,$,U,G),L=P,D=$}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(u=0,h=c.length;u<h;u++){d=c[u];o&&o.indexOf(d.data.name)>-1||t.circle(!0,i+d.worldX,s+d.worldY,3*this.scale,n.GREEN,8)}}if(this.drawClipping){var j=r.slots;t.setColor(this.clipColor);for(u=0,h=j.length;u<h;u++){var H,V;if((H=j[u]).bone.active)if((V=H.getAttachment())instanceof e.ClippingAttachment){var W=V;y=W.worldVerticesLength,A=this.temp=e.Utils.setArraySize(this.temp,y,0);W.computeWorldVertices(H,0,y,A,0,2);for(var z=0,Z=A.length;z<Z;z+=2){p=A[z],f=A[z+1],P=A[(z+2)%A.length],$=A[(z+3)%A.length];t.line(p,f,P,$)}}}}},n.prototype.dispose=function(){},n.LIGHT_GRAY=new e.Color(192/255,192/255,192/255,1),n.GREEN=new e.Color(0,1,0,1),n}();t.SkeletonDebugRenderer=n}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(e,t,n){this.vertices=e,this.numVertices=t,this.numFloats=n},r=function(){function r(t,r){void 0===r&&(r=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new e.Color,this.tempColor2=new e.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new n(null,0,0),this.clipper=new e.SkeletonClipping,this.temp=new e.Vector2,this.temp2=new e.Vector2,this.temp3=new e.Color,this.temp4=new e.Color,this.twoColorTint=r,r&&(this.vertexSize+=4),this.vertices=e.Utils.newFloatArray(1024*this.vertexSize)}return r.prototype.draw=function(n,o,i,s){void 0===i&&(i=-1),void 0===s&&(s=-1);var a=this.clipper,l=this.premultipliedAlpha,c=this.twoColorTint,u=null,h=this.temp,d=this.temp2,p=this.temp3,f=this.temp4,g=this.renderable,m=null,_=null,v=o.drawOrder,b=null,E=o.color,y=c?12:8,T=!1;-1==i&&(T=!0);for(var w=0,S=v.length;w<S;w++){var C=a.isClipping()?2:y,I=v[w];if(I.bone.active)if(i>=0&&i==I.data.index&&(T=!0),T){s>=0&&s==I.data.index&&(T=!1);var k=I.getAttachment(),R=null;if(k instanceof e.RegionAttachment){var M=k;g.vertices=this.vertices,g.numVertices=4,g.numFloats=C<<2,M.computeWorldVertices(I.bone,g.vertices,0,C),_=r.QUAD_TRIANGLES,m=M.uvs,R=M.region.renderObject.texture,b=M.color}else{if(!(k instanceof e.MeshAttachment)){if(k instanceof e.ClippingAttachment){var O=k;a.clipStart(I,O);continue}a.clipEndWithSlot(I);continue}var x=k;g.vertices=this.vertices,g.numVertices=x.worldVerticesLength>>1,g.numFloats=g.numVertices*C,g.numFloats>g.vertices.length&&(g.vertices=this.vertices=e.Utils.newFloatArray(g.numFloats)),x.computeWorldVertices(I,0,x.worldVerticesLength,g.vertices,0,C),_=x.triangles,R=x.region.renderObject.texture,m=x.uvs,b=x.color}if(null!=R){var A=I.color,N=this.tempColor;N.r=E.r*A.r*b.r,N.g=E.g*A.g*b.g,N.b=E.b*A.b*b.b,N.a=E.a*A.a*b.a,l&&(N.r*=N.a,N.g*=N.a,N.b*=N.a);var L=this.tempColor2;null==I.darkColor?L.set(0,0,0,1):(l?(L.r=I.darkColor.r*N.a,L.g=I.darkColor.g*N.a,L.b=I.darkColor.b*N.a):L.setFromColor(I.darkColor),L.a=l?1:0);var D=I.data.blendMode;if(D!=u&&(u=D,n.setBlendMode(t.WebGLBlendModeConverter.getSourceGLBlendMode(u,l),t.WebGLBlendModeConverter.getDestGLBlendMode(u))),a.isClipping()){a.clipTriangles(g.vertices,g.numFloats,_,_.length,m,N,L,c);var P=new Float32Array(a.clippedVertices),$=a.clippedTriangles;if(null!=this.vertexEffect){var B=this.vertexEffect,F=P;if(c){G=0;for(var U=P.length;G<U;G+=y)h.x=F[G],h.y=F[G+1],p.set(F[G+2],F[G+3],F[G+4],F[G+5]),d.x=F[G+6],d.y=F[G+7],f.set(F[G+8],F[G+9],F[G+10],F[G+11]),B.transform(h,d,p,f),F[G]=h.x,F[G+1]=h.y,F[G+2]=p.r,F[G+3]=p.g,F[G+4]=p.b,F[G+5]=p.a,F[G+6]=d.x,F[G+7]=d.y,F[G+8]=f.r,F[G+9]=f.g,F[G+10]=f.b,F[G+11]=f.a}else for(var G=0,j=P.length;G<j;G+=y)h.x=F[G],h.y=F[G+1],p.set(F[G+2],F[G+3],F[G+4],F[G+5]),d.x=F[G+6],d.y=F[G+7],f.set(0,0,0,0),B.transform(h,d,p,f),F[G]=h.x,F[G+1]=h.y,F[G+2]=p.r,F[G+3]=p.g,F[G+4]=p.b,F[G+5]=p.a,F[G+6]=d.x,F[G+7]=d.y}n.draw(R,P,$)}else{F=g.vertices;if(null!=this.vertexEffect){B=this.vertexEffect;if(c){G=0,V=0;for(var H=g.numFloats;G<H;G+=y,V+=2)h.x=F[G],h.y=F[G+1],d.x=m[V],d.y=m[V+1],p.setFromColor(N),f.setFromColor(L),B.transform(h,d,p,f),F[G]=h.x,F[G+1]=h.y,F[G+2]=p.r,F[G+3]=p.g,F[G+4]=p.b,F[G+5]=p.a,F[G+6]=d.x,F[G+7]=d.y,F[G+8]=f.r,F[G+9]=f.g,F[G+10]=f.b,F[G+11]=f.a}else for(var G=0,V=0,W=g.numFloats;G<W;G+=y,V+=2)h.x=F[G],h.y=F[G+1],d.x=m[V],d.y=m[V+1],p.setFromColor(N),f.set(0,0,0,0),B.transform(h,d,p,f),F[G]=h.x,F[G+1]=h.y,F[G+2]=p.r,F[G+3]=p.g,F[G+4]=p.b,F[G+5]=p.a,F[G+6]=d.x,F[G+7]=d.y}else if(c){G=2,V=0;for(var z=g.numFloats;G<z;G+=y,V+=2)F[G]=N.r,F[G+1]=N.g,F[G+2]=N.b,F[G+3]=N.a,F[G+4]=m[V],F[G+5]=m[V+1],F[G+6]=L.r,F[G+7]=L.g,F[G+8]=L.b,F[G+9]=L.a}else{G=2;for(var V=0,Z=g.numFloats;G<Z;G+=y,V+=2)F[G]=N.r,F[G+1]=N.g,F[G+2]=N.b,F[G+3]=N.a,F[G+4]=m[V],F[G+5]=m[V+1]}var X=g.vertices.subarray(0,g.numFloats);n.draw(R,X,_)}}a.clipEndWithSlot(I)}else a.clipEndWithSlot(I);else a.clipEndWithSlot(I)}a.clipEnd()},r.QUAD_TRIANGLES=[0,1,2,2,3,0],r}();t.SkeletonRenderer=r}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(e){var t=function(){function t(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=0,this.y=0,this.z=0,this.x=e,this.y=t,this.z=n}return t.prototype.setFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},t.prototype.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},t.prototype.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this},t.prototype.normalize=function(){var e=this.length();return 0==e||(e=1/e,this.x*=e,this.y*=e,this.z*=e),this},t.prototype.cross=function(e){return this.set(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},t.prototype.multiply=function(t){var n=t.values;return this.set(this.x*n[e.M00]+this.y*n[e.M01]+this.z*n[e.M02]+n[e.M03],this.x*n[e.M10]+this.y*n[e.M11]+this.z*n[e.M12]+n[e.M13],this.x*n[e.M20]+this.y*n[e.M21]+this.z*n[e.M22]+n[e.M23])},t.prototype.project=function(t){var n=t.values,r=1/(this.x*n[e.M30]+this.y*n[e.M31]+this.z*n[e.M32]+n[e.M33]);return this.set((this.x*n[e.M00]+this.y*n[e.M01]+this.z*n[e.M02]+n[e.M03])*r,(this.x*n[e.M10]+this.y*n[e.M11]+this.z*n[e.M12]+n[e.M13])*r,(this.x*n[e.M20]+this.y*n[e.M21]+this.z*n[e.M22]+n[e.M23])*r)},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.distance=function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return Math.sqrt(t*t+n*n+r*r)},t}();e.Vector3=t}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){!function(t){var n=function(){function e(e,t){void 0===t&&(t={alpha:"true"}),this.restorables=new Array,e instanceof WebGLRenderingContext||e instanceof WebGL2RenderingContext?(this.gl=e,this.canvas=this.gl.canvas):this.setupCanvas(e,t)}return e.prototype.setupCanvas=function(e,t){var n=this;this.gl=e.getContext("webgl2",t)||e.getContext("webgl",t),this.canvas=e,e.addEventListener("webglcontextlost",(function(e){e&&e.preventDefault()})),e.addEventListener("webglcontextrestored",(function(e){for(var t=0,r=n.restorables.length;t<r;t++)n.restorables[t].restore()}))},e.prototype.addRestorable=function(e){this.restorables.push(e)},e.prototype.removeRestorable=function(e){var t=this.restorables.indexOf(e);t>-1&&this.restorables.splice(t,1)},e}();t.ManagedWebGLRenderingContext=n;var r=function(){function t(){}return t.getDestGLBlendMode=function(n){switch(n){case e.BlendMode.Normal:return t.ONE_MINUS_SRC_ALPHA;case e.BlendMode.Additive:return t.ONE;case e.BlendMode.Multiply:case e.BlendMode.Screen:return t.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+n)}},t.getSourceGLBlendMode=function(n,r){switch(void 0===r&&(r=!1),n){case e.BlendMode.Normal:case e.BlendMode.Additive:return r?t.ONE:t.SRC_ALPHA;case e.BlendMode.Multiply:return t.DST_COLOR;case e.BlendMode.Screen:return t.ONE;default:throw new Error("Unknown blend mode: "+n)}},t.ZERO=0,t.ONE=1,t.SRC_COLOR=768,t.ONE_MINUS_SRC_COLOR=769,t.SRC_ALPHA=770,t.ONE_MINUS_SRC_ALPHA=771,t.DST_ALPHA=772,t.ONE_MINUS_DST_ALPHA=773,t.DST_COLOR=774,t}();t.WebGLBlendModeConverter=r}(e.webgl||(e.webgl={}))}(Yc||(Yc={})),function(e){var t=function(){function e(e,t,n){this.player=e,this.dom=a('\n\t\t\t\t<div class="spine-player-popup spine-player-hidden">\n\t\t\t\t</div>\n\t\t\t'),this.dom.innerHTML=n,t.appendChild(this.dom)}return e.prototype.show=function(e){var t=this;this.dom.classList.remove("spine-player-hidden");var n=!1,r=function(){n||requestAnimationFrame(r);var e=Math.abs(t.dom.getBoundingClientRect().bottom-t.player.getBoundingClientRect().bottom),o=Math.abs(t.dom.getBoundingClientRect().right-t.player.getBoundingClientRect().right),i=t.player.clientHeight-e-o;t.dom.style.maxHeight=i+"px"};requestAnimationFrame(r);var o=!0,i=function(r){o?o=!1:function(e,t){if(e===t)return!0;var n=function(e,t){for(var r=0;r<e.children.length;r++){var o=e.children[r];if(o===t)return!0;if(n(o,t))return!0}return!1};return n(e,t)}(t.dom,r.target)||(t.dom.remove(),window.removeEventListener("click",i),e(),n=!0)};window.addEventListener("click",i)},e}(),n=function(){function e(e){this.text=e,this.enabled=!1}return e.prototype.render=function(){var e=this;return this.switch=a('\n\t\t\t\t<div class="spine-player-switch">\n\t\t\t\t\t<span class="spine-player-switch-text">'+this.text+'</span>\n\t\t\t\t\t<div class="spine-player-switch-knob-area">\n\t\t\t\t\t\t<div class="spine-player-switch-knob"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),this.switch.addEventListener("click",(function(){e.setEnabled(!e.enabled),e.change&&e.change(e.enabled)})),this.switch},e.prototype.setEnabled=function(e){e?this.switch.classList.add("active"):this.switch.classList.remove("active"),this.enabled=e},e.prototype.isEnabled=function(){return this.enabled},e}(),r=function(){function t(e,t,n){void 0===e&&(e=0),void 0===t&&(t=.1),void 0===n&&(n=!1),this.snaps=e,this.snapPercentage=t,this.big=n}return t.prototype.render=function(){var t=this;this.slider=a('\n\t\t\t\t<div class="spine-player-slider '+(this.big?"big":"")+'">\n\t\t\t\t\t<div class="spine-player-slider-value"></div>\n\t\t\t\t\t\x3c!--<div class="spine-player-slider-knob"></div>--\x3e\n\t\t\t\t</div>\n\t\t\t'),this.value=s(this.slider,"spine-player-slider-value")[0],this.setValue(0);var n=new e.webgl.Input(this.slider),r=!1;return n.addListener({down:function(e,n){r=!0,t.value.classList.add("hovering")},up:function(e,n){r=!1;var o=e/t.slider.clientWidth;o=o=Math.max(0,Math.min(o,1)),t.setValue(e/t.slider.clientWidth),t.change&&t.change(o),t.value.classList.remove("hovering")},moved:function(e,n){if(r){var o=e/t.slider.clientWidth;o=Math.max(0,Math.min(o,1)),o=t.setValue(e/t.slider.clientWidth),t.change&&t.change(o)}},dragged:function(e,n){var r=e/t.slider.clientWidth;r=Math.max(0,Math.min(r,1)),r=t.setValue(e/t.slider.clientWidth),t.change&&t.change(r)}}),this.slider},t.prototype.setValue=function(e){if(e=Math.max(0,Math.min(1,e)),this.snaps>0){var t=e%(1/this.snaps);t<1/this.snaps*this.snapPercentage?e-=t:t>1/this.snaps-1/this.snaps*this.snapPercentage&&(e=e-t+1/this.snaps),e=Math.max(0,Math.min(1,e))}return this.value.style.width=100*e+"%",e},t}(),o=function(){function o(t,n){this.config=n,this.paused=!0,this.playTime=0,this.speed=1,this.time=new e.TimeKeeper,this.animationViewports={},this.currentViewport=null,this.previousViewport=null,this.viewportTransitionStart=0,this.stopRequestAnimationFrame=!1,this.cancelId=0,this.parent="string"==typeof t?document.getElementById(t):t,this.parent.appendChild(this.render())}return o.prototype.validateConfig=function(e){if(!e)throw new Error("Please pass a configuration to new.spine.SpinePlayer().");if(!e.jsonUrl&&!e.skelUrl)throw new Error("Please specify the URL of the skeleton JSON or .skel file.");if(!e.atlasUrl)throw new Error("Please specify the URL of the atlas file.");if(e.alpha||(e.alpha=!1),e.backgroundColor||(e.backgroundColor="#000000"),e.fullScreenBackgroundColor||(e.fullScreenBackgroundColor=e.backgroundColor),void 0===e.premultipliedAlpha&&(e.premultipliedAlpha=!0),e.success||(e.success=function(e){}),e.error||(e.error=function(e,t){}),e.debug||(e.debug={bones:!1,regions:!1,meshes:!1,bounds:!1,clipping:!1,paths:!1,points:!1,hulls:!1}),void 0===e.debug.bones&&(e.debug.bones=!1),void 0===e.debug.bounds&&(e.debug.bounds=!1),void 0===e.debug.clipping&&(e.debug.clipping=!1),void 0===e.debug.hulls&&(e.debug.hulls=!1),void 0===e.debug.paths&&(e.debug.paths=!1),void 0===e.debug.points&&(e.debug.points=!1),void 0===e.debug.regions&&(e.debug.regions=!1),void 0===e.debug.meshes&&(e.debug.meshes=!1),e.animations&&e.animation&&e.animations.indexOf(e.animation)<0)throw new Error("Default animation '"+e.animation+"' is not contained in the list of selectable animations "+c(JSON.stringify(this.config.animations))+".");if(e.skins&&e.skin&&e.skins.indexOf(e.skin)<0)throw new Error("Default skin '"+e.skin+"' is not contained in the list of selectable skins "+c(JSON.stringify(this.config.skins))+".");return e.controlBones||(e.controlBones=[]),void 0===e.showControls&&(e.showControls=!0),void 0===e.defaultMix&&(e.defaultMix=.25),e},o.prototype.showError=function(e){var t=s(this.dom,"spine-player-error")[0];t.classList.remove("spine-player-hidden"),t.innerHTML='<p style="text-align: center; align-self: center;">'+e+"</p>",this.config.error(this,e)},o.prototype.render=function(){var t=this,n=this.config,o=this.dom=a('<div class="spine-player" id="ba-player">\n\t\t\t\t\t<canvas class="spine-player-canvas"></canvas>\n\t\t\t\t\t<div class="spine-player-error spine-player-hidden"></div>\n\t\t\t\t\t<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">\n\t\t\t\t\t\t<div class="spine-player-buttons">\n\t\t\t\t\t\t\t<button id="spine-player-button-play-pause" class="spine-player-button spine-player-button-icon-pause"></button>\n\t\t\t\t\t\t\t<div class="spine-player-button-spacer"></div>\n\t\t\t\t\t\t\t<button id="spine-player-button-speed" class="spine-player-button spine-player-button-icon-speed"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-animation" class="spine-player-button spine-player-button-icon-animations"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-skin" class="spine-player-button spine-player-button-icon-skins"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-settings" class="spine-player-button spine-player-button-icon-settings"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-fullscreen" class="spine-player-button spine-player-button-icon-fullscreen"></button>\n\t\t\t\t\t\t\t<img id="spine-player-button-logo" class="spine-player-button-icon-spine-logo" src=""/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="spine-player-timeline">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');try{this.config=this.validateConfig(n)}catch(e){return this.showError(e),o}try{this.canvas=s(o,"spine-player-canvas")[0];var l={alpha:n.alpha};this.context=new e.webgl.ManagedWebGLRenderingContext(this.canvas,l),this.sceneRenderer=new e.webgl.SceneRenderer(this.canvas,this.context,!0),this.loadingScreen=new e.webgl.LoadingScreen(this.sceneRenderer)}catch(e){return this.showError("Sorry, your browser does not support WebGL.<br><br>Please use the latest version of Firefox, Chrome, Edge, or Safari."),o}if(this.assetManager=new e.webgl.AssetManager(this.context),n.rawDataURIs)for(var c in n.rawDataURIs){var u=n.rawDataURIs[c];this.assetManager.setRawDataURI(c,u)}n.jsonUrl?this.assetManager.loadText(n.jsonUrl):this.assetManager.loadBinary(n.skelUrl),this.assetManager.loadTextureAtlas(n.atlasUrl),n.backgroundImage&&n.backgroundImage.url&&this.assetManager.loadTexture(n.backgroundImage.url),requestAnimationFrame((function(){return t.drawFrame()})),this.playerControls=s(o,"spine-player-controls")[0];var h=s(o,"spine-player-timeline")[0];this.timelineSlider=new r,h.appendChild(this.timelineSlider.render()),this.playButton=i(o,"spine-player-button-play-pause")[0];var d=i(o,"spine-player-button-speed")[0];this.animationButton=i(o,"spine-player-button-animation")[0],this.skinButton=i(o,"spine-player-button-skin")[0];var p=i(o,"spine-player-button-settings")[0],f=i(o,"spine-player-button-fullscreen")[0],g=i(o,"spine-player-button-logo")[0];this.playButton.onclick=function(){t.paused?t.play():t.pause()},d.onclick=function(){t.showSpeedDialog(d)},this.animationButton.onclick=function(){t.showAnimationsDialog(t.animationButton)},this.skinButton.onclick=function(){t.showSkinsDialog(t.skinButton)},p.onclick=function(){t.showSettingsDialog(p)};var m=this.canvas.clientWidth,_=this.canvas.clientHeight,v=this.canvas.style.width,b=this.canvas.style.height,E=!1;return f.onclick=function(){var e=function(){(E=!E)||(t.canvas.style.width=m+"px",t.canvas.style.height=_+"px",t.drawFrame(!1),requestAnimationFrame((function(){t.canvas.style.width=v,t.canvas.style.height=b})))},n=document;if(o.onfullscreenchange=e,o.onwebkitfullscreenchange=e,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen();else{m=t.canvas.clientWidth,_=t.canvas.clientHeight,v=t.canvas.style.width,b=t.canvas.style.height;var r=o;r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullScreen?r.webkitRequestFullScreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},g.onclick=function(){window.open("http://esotericsoftware.com")},window.onresize=function(){t.drawFrame(!1)},o},o.prototype.showSpeedDialog=function(e){var n=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Speed"==s(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void e.classList.remove("spine-player-button-icon-speed-selected");var o=new t(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Speed</div>\n\t\t\t\t<hr>\n\t\t\t\t<div class="spine-player-row" style="user-select: none; align-items: center; padding: 8px;">\n\t\t\t\t\t<div class="spine-player-column">\n\t\t\t\t\t\t<div class="spine-player-speed-slider" style="margin-bottom: 4px;"></div>\n\t\t\t\t\t\t<div class="spine-player-row" style="justify-content: space-between;">\n\t\t\t\t\t\t\t<div>0.1x</div>\n\t\t\t\t\t\t\t<div>1x</div>\n\t\t\t\t\t\t\t<div>2x</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),i=s(o.dom,"spine-player-speed-slider")[0],a=new r(2,.1,!0);i.appendChild(a.render()),a.setValue(this.speed/2),a.change=function(e){n.speed=2*e},e.classList.add("spine-player-button-icon-speed-selected"),o.show((function(){e.classList.remove("spine-player-button-icon-speed-selected"),o.dom.remove(),n.lastPopup=null})),this.lastPopup=o},o.prototype.showAnimationsDialog=function(e){var n=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Animations"==s(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void e.classList.remove("spine-player-button-icon-animations-selected");if(this.skeleton&&0!=this.skeleton.data.animations.length){var r=new t(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Animations</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list"></ul>\n\t\t\t'),o=s(r.dom,"spine-player-list")[0];this.skeleton.data.animations.forEach((function(e){if(!(n.config.animations&&n.config.animations.indexOf(e.name)<0)){var t=a('\n\t\t\t\t\t<li class="spine-player-list-item selectable">\n\t\t\t\t\t\t<div class="selectable-circle">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selectable-text">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t');e.name==n.config.animation&&t.classList.add("selected"),s(t,"selectable-text")[0].innerText=e.name,o.appendChild(t),t.onclick=function(){l(o.children,"selected"),t.classList.add("selected"),n.config.animation=e.name,n.playTime=0,n.setAnimation(e.name)}}})),e.classList.add("spine-player-button-icon-animations-selected"),r.show((function(){e.classList.remove("spine-player-button-icon-animations-selected"),r.dom.remove(),n.lastPopup=null})),this.lastPopup=r}},o.prototype.showSkinsDialog=function(e){var n=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Skins"==s(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void e.classList.remove("spine-player-button-icon-skins-selected");if(this.skeleton&&0!=this.skeleton.data.animations.length){var r=new t(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Skins</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list"></ul>\n\t\t\t'),o=s(r.dom,"spine-player-list")[0];this.skeleton.data.skins.forEach((function(e){if(!(n.config.skins&&n.config.skins.indexOf(e.name)<0)){var t=a('\n\t\t\t\t\t<li class="spine-player-list-item selectable">\n\t\t\t\t\t\t<div class="selectable-circle">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selectable-text">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t');e.name==n.config.skin&&t.classList.add("selected"),s(t,"selectable-text")[0].innerText=e.name,o.appendChild(t),t.onclick=function(){l(o.children,"selected"),t.classList.add("selected"),n.config.skin=e.name,n.skeleton.setSkinByName(n.config.skin),n.skeleton.setSlotsToSetupPose()}}})),e.classList.add("spine-player-button-icon-skins-selected"),r.show((function(){e.classList.remove("spine-player-button-icon-skins-selected"),r.dom.remove(),n.lastPopup=null})),this.lastPopup=r}},o.prototype.showSettingsDialog=function(e){var r=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Debug"==s(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void e.classList.remove("spine-player-button-icon-settings-selected");if(this.skeleton&&0!=this.skeleton.data.animations.length){var o=new t(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Debug</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list">\n\t\t\t\t</li>\n\t\t\t'),i=s(o.dom,"spine-player-list")[0],l=function(e,t){var o=a('<li class="spine-player-list-item"></li>'),s=new n(e);o.appendChild(s.render()),s.setEnabled(r.config.debug[t]),s.change=function(e){r.config.debug[t]=e},i.appendChild(o)};l("Bones","bones"),l("Regions","regions"),l("Meshes","meshes"),l("Bounds","bounds"),l("Paths","paths"),l("Clipping","clipping"),l("Points","points"),l("Hulls","hulls"),e.classList.add("spine-player-button-icon-settings-selected"),o.show((function(){e.classList.remove("spine-player-button-icon-settings-selected"),o.dom.remove(),r.lastPopup=null})),this.lastPopup=o}},o.prototype.drawFrame=function(t){var n=this;void 0===t&&(t=!0),t&&!this.stopRequestAnimationFrame&&requestAnimationFrame((function(){return n.drawFrame()}));var r=this.context.gl,i=document,s=i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement,a=(new e.Color).setFromString(s?this.config.fullScreenBackgroundColor:this.config.backgroundColor);if(r.clearColor(a.r,a.g,a.b,a.a),r.clear(r.COLOR_BUFFER_BIT),this.loadingScreen.backgroundColor.setFromColor(a),this.loadingScreen.draw(this.assetManager.isLoadingComplete()),this.assetManager.isLoadingComplete()&&null==this.skeleton&&this.loadSkeleton(),this.sceneRenderer.resize(e.webgl.ResizeMode.Expand),this.loaded){if(!this.paused&&this.config.animation){this.time.update();var l=this.time.delta*this.speed,c=this.animationState.getCurrent(0).animation.duration;for(this.playTime+=l;this.playTime>=c&&0!=c;)this.playTime-=c;this.playTime=Math.max(0,Math.min(this.playTime,c)),this.timelineSlider.setValue(this.playTime/c),this.animationState.update(l),this.animationState.apply(this.skeleton)}this.skeleton.updateWorldTransform();var u={x:this.currentViewport.x-this.currentViewport.padLeft,y:this.currentViewport.y-this.currentViewport.padBottom,width:this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,height:this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop},h=(performance.now()-this.viewportTransitionStart)/1e3/this.config.viewport.transitionTime;if(this.previousViewport&&h<1){var d={x:this.previousViewport.x-this.previousViewport.padLeft,y:this.previousViewport.y-this.previousViewport.padBottom,width:this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,height:this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop};u={x:d.x+(u.x-d.x)*h,y:d.y+(u.y-d.y)*h,width:d.width+(u.width-d.width)*h,height:d.height+(u.height-d.height)*h}}var p=this.scale(u.width,u.height,this.canvas.width,this.canvas.height);if(this.sceneRenderer.camera.zoom=u.width/p.x,this.sceneRenderer.camera.position.x=u.x+u.width/2,this.sceneRenderer.camera.position.y=u.y+u.height/2,this.sceneRenderer.begin(),this.config.backgroundImage&&this.config.backgroundImage.url){var f=this.assetManager.get(this.config.backgroundImage.url);this.config.backgroundImage.hasOwnProperty("x")&&this.config.backgroundImage.hasOwnProperty("y")&&this.config.backgroundImage.hasOwnProperty("width")&&this.config.backgroundImage.hasOwnProperty("height")?this.sceneRenderer.drawTexture(f,this.config.backgroundImage.x,this.config.backgroundImage.y,this.config.backgroundImage.width,this.config.backgroundImage.height):this.sceneRenderer.drawTexture(f,u.x,u.y,u.width,u.height)}this.sceneRenderer.drawSkeleton(this.skeleton,this.config.premultipliedAlpha),this.sceneRenderer.skeletonDebugRenderer.drawBones=this.config.debug.bones,this.sceneRenderer.skeletonDebugRenderer.drawBoundingBoxes=this.config.debug.bounds,this.sceneRenderer.skeletonDebugRenderer.drawClipping=this.config.debug.clipping,this.sceneRenderer.skeletonDebugRenderer.drawMeshHull=this.config.debug.hulls,this.sceneRenderer.skeletonDebugRenderer.drawPaths=this.config.debug.paths,this.sceneRenderer.skeletonDebugRenderer.drawRegionAttachments=this.config.debug.regions,this.sceneRenderer.skeletonDebugRenderer.drawMeshTriangles=this.config.debug.meshes,this.sceneRenderer.drawSkeletonDebug(this.skeleton,this.config.premultipliedAlpha);var g=this.config.controlBones,m=this.selectedBones,_=this.skeleton;r.lineWidth(2);for(var v=0;v<g.length;v++){var b=_.findBone(g[v]);if(b){var E=null!==m[v]?o.HOVER_COLOR_INNER:o.NON_HOVER_COLOR_INNER,y=null!==m[v]?o.HOVER_COLOR_OUTER:o.NON_HOVER_COLOR_OUTER;this.sceneRenderer.circle(!0,_.x+b.worldX,_.y+b.worldY,20,E),this.sceneRenderer.circle(!1,_.x+b.worldX,_.y+b.worldY,20,y)}}r.lineWidth(1),this.config.viewport.debugRender&&(this.sceneRenderer.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,e.Color.GREEN),this.sceneRenderer.rect(!1,u.x,u.y,u.width,u.height,e.Color.RED)),this.sceneRenderer.end(),this.sceneRenderer.camera.zoom=0}},o.prototype.scale=function(t,n,r,o){var i=o/r>n/t?r/t:o/n,s=new e.Vector2;return s.x=t*i,s.y=n*i,s},o.prototype.loadSkeleton=function(){var t=this;if(!this.loaded)if(this.assetManager.hasErrors())this.showError("Error: assets could not be loaded.<br><br>"+c(JSON.stringify(this.assetManager.getErrors())));else{var n,r=this.assetManager.get(this.config.atlasUrl);if(this.config.jsonUrl){var o=this.assetManager.get(this.config.jsonUrl),i=new e.SkeletonJson(new e.AtlasAttachmentLoader(r));try{n=i.readSkeletonData(o)}catch(e){return void this.showError("Error: could not load skeleton .json.<br><br>"+e.toString())}}else{var s=this.assetManager.get(this.config.skelUrl),a=new e.SkeletonBinary(new e.AtlasAttachmentLoader(r));try{n=a.readSkeletonData(s)}catch(e){return void this.showError("Error: could not load skeleton .skel.<br><br>"+e.toString())}}this.skeleton=new e.Skeleton(n);var l=new e.AnimationStateData(n);if(l.defaultMix=this.config.defaultMix,this.animationState=new e.AnimationState(l),this.config.controlBones&&this.config.controlBones.forEach((function(e){n.findBone(e)||t.showError("Error: control bone '"+e+"' does not exist in skeleton.")})),this.config.skin||n.skins.length>0&&(this.config.skin=n.skins[0].name),this.config.skins&&this.config.skin.length>0&&this.config.skins.forEach((function(e){t.skeleton.data.findSkin(e)||t.showError("Error: skin '"+e+"' in selectable skin list does not exist in skeleton.")})),this.config.skin){if(!this.skeleton.data.findSkin(this.config.skin))return void this.showError("Error: skin '"+this.config.skin+"' does not exist in skeleton.");this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}if(this.config.viewport||(this.config.viewport={animations:{},debugRender:!1,transitionTime:.2}),void 0===this.config.viewport.debugRender&&(this.config.viewport.debugRender=!1),void 0===this.config.viewport.transitionTime&&(this.config.viewport.transitionTime=.2),this.config.viewport.animations?Object.getOwnPropertyNames(this.config.viewport.animations).forEach((function(e){n.findAnimation(e)||t.showError("Error: animation '"+e+"' for which a viewport was specified does not exist in skeleton.")})):this.config.viewport.animations={},this.config.animations&&this.config.animations.length>0&&(this.config.animations.forEach((function(e){t.skeleton.data.findAnimation(e)||t.showError("Error: animation '"+e+"' in selectable animation list does not exist in skeleton.")})),this.config.animation||(this.config.animation=this.config.animations[0])),this.config.animation||n.animations.length>0&&(this.config.animation=n.animations[0].name),this.config.animation){if(!n.findAnimation(this.config.animation))return void this.showError("Error: animation '"+this.config.animation+"' does not exist in skeleton.");this.play(),this.timelineSlider.change=function(e){t.pause();var n=t.animationState.getCurrent(0).animation.duration*e;t.animationState.update(n-t.playTime),t.animationState.apply(t.skeleton),t.skeleton.updateWorldTransform(),t.playTime=n}}this.setupInput(),(1==n.skins.length||this.config.skins&&1==this.config.skins.length)&&this.skinButton.classList.add("spine-player-hidden"),(1==n.animations.length||this.config.animations&&1==this.config.animations.length)&&this.animationButton.classList.add("spine-player-hidden"),this.config.success(this),this.loaded=!0}},o.prototype.setupInput=function(){var t=this,n=this.config.controlBones,r=this.selectedBones=new Array(this.config.controlBones.length),o=this.canvas,i=new e.webgl.Input(o),a=null,l=new e.webgl.Vector3,c=new e.webgl.Vector3,u=new e.Vector2,h=this.skeleton,d=this.sceneRenderer;i.addListener({down:function(e,t){for(var r=0;r<n.length;r++){var i=h.findBone(n[r]);i&&(d.camera.screenToWorld(l.set(e,t,0),o.width,o.height),c.set(h.x+i.worldX,h.y+i.worldY,0).distance(l)<30&&(a=i))}},up:function(e,n){if(a)a=null;else{if(!t.config.showControls)return;t.paused?t.play():t.pause()}},dragged:function(e,t){null!=a&&(d.camera.screenToWorld(l.set(e,t,0),o.width,o.height),null!==a.parent?(a.parent.worldToLocal(u.set(l.x-h.x,l.y-h.y)),a.x=u.x,a.y=u.y):(a.x=l.x-h.x,a.y=l.y-h.y))},moved:function(e,t){for(var i=0;i<n.length;i++){var s=h.findBone(n[i]);s&&(d.camera.screenToWorld(l.set(e,t,0),o.width,o.height),c.set(h.x+s.worldX,h.y+s.worldY,0).distance(l)<30?r[i]=s:r[i]=null)}}});var p=!0,f=!1;document.addEventListener("mousemove",(function(e){e instanceof MouseEvent&&g(e.clientX,e.clientY)})),document.addEventListener("touchmove",(function(e){if(e instanceof TouchEvent){var t=e.changedTouches;if(t.length>0){var n=t[0];g(n.clientX,n.clientY)}}}));var g=function(e,n){if(t.config.showControls){var r=s(t.dom,"spine-player-popup");if(p=m(e,n,t.playerControls.getBoundingClientRect()),f=m(e,n,t.canvas.getBoundingClientRect()),clearTimeout(t.cancelId),0==r.length&&!p&&!f&&!t.paused?t.playerControls.classList.add("spine-player-controls-hidden"):t.playerControls.classList.remove("spine-player-controls-hidden"),!p&&0==r.length&&!t.paused){t.cancelId=setTimeout((function(){t.paused||t.playerControls.classList.add("spine-player-controls-hidden")}),1e3)}}},m=function(e,t,n){var r=e-n.left,o=t-n.top;return r>=0&&r<=n.width&&o>=0&&o<=n.height}},o.prototype.play=function(){var e=this;this.paused=!1;this.cancelId=setTimeout((function(){e.paused||e.playerControls.classList.add("spine-player-controls-hidden")}),1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),this.config.animation&&(this.animationState.getCurrent(0)||this.setAnimation(this.config.animation))},o.prototype.pause=function(){this.paused=!0,this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play")},o.prototype.setAnimation=function(e,t){void 0===t&&(t=!0),this.previousViewport=this.currentViewport;var n=this.calculateAnimationViewport(e),r={x:n.x,y:n.y,width:n.width,height:n.height,padLeft:0,padRight:0,padTop:0,padBottom:0},o=this.config.viewport;void 0!==o.x&&void 0!==o.y&&void 0!==o.width&&void 0!==o.height&&(r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height),void 0!==o.padLeft&&(r.padLeft=o.padLeft),void 0!==o.padRight&&(r.padRight=o.padRight),void 0!==o.padTop&&(r.padTop=o.padTop),void 0!==o.padBottom&&(r.padBottom=o.padBottom);var i=this.config.viewport.animations[e];i&&(void 0!==i.x&&void 0!==i.y&&void 0!==i.width&&void 0!==i.height&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),void 0!==i.padLeft&&(r.padLeft=i.padLeft),void 0!==i.padRight&&(r.padRight=i.padRight),void 0!==i.padTop&&(r.padTop=i.padTop),void 0!==i.padBottom&&(r.padBottom=i.padBottom)),r.padLeft=this.percentageToWorldUnit(r.width,r.padLeft),r.padRight=this.percentageToWorldUnit(r.width,r.padRight),r.padBottom=this.percentageToWorldUnit(r.height,r.padBottom),r.padTop=this.percentageToWorldUnit(r.height,r.padTop),this.currentViewport=r,this.viewportTransitionStart=performance.now(),this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimation(0,e,t)},o.prototype.percentageToWorldUnit=function(e,t){return"string"==typeof t?e*parseFloat(t.substr(0,t.length-1))/100:t},o.prototype.calculateAnimationViewport=function(t){var n=this.skeleton.data.findAnimation(t);this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimationWith(0,n,!0);for(var r=n.duration>0?n.duration/100:0,o=1e8,i=-1e8,s=1e8,a=-1e8,l=new e.Vector2,c=new e.Vector2,u=0;u<100;u++)this.animationState.update(r),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.skeleton.getBounds(l,c),isNaN(l.x)||isNaN(l.y)||isNaN(c.x)||isNaN(c.y)?console.log("Bounds of animation "+t+" are NaN"):(o=Math.min(l.x,o),i=Math.max(l.x+c.x,i),s=Math.min(l.y,s),a=Math.max(l.y+c.y,a));return l.x=o,l.y=s,c.x=i-o,c.y=a-s,{x:l.x,y:l.y,width:c.x,height:c.y}},o.prototype.stopRendering=function(){this.stopRequestAnimationFrame=!0},o.HOVER_COLOR_INNER=new e.Color(.478,0,0,.25),o.HOVER_COLOR_OUTER=new e.Color(1,1,1,1),o.NON_HOVER_COLOR_INNER=new e.Color(.478,0,0,.5),o.NON_HOVER_COLOR_OUTER=new e.Color(1,0,0,.8),o}();function i(e,t){var n=new Array,r=function(e,t,n){for(var o=0;o<e.children.length;o++){var i=e.children[o];i.id===t&&n.push(i),r(i,t,n)}};return r(e,t,n),n}function s(e,t){var n=new Array,r=function(e,t,n){for(var o=0;o<e.children.length;o++){var i=e.children[o];i.classList.contains(t)&&n.push(i),r(i,t,n)}};return r(e,t,n),n}function a(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function l(e,t){for(var n=0;n<e.length;n++)e[n].classList.remove(t)}function c(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;"):""}e.SpinePlayer=o}(Yc||(Yc={})),function(e){var t=function(){function e(e){this.prefix="<html>\n<head>\n<style>\nbody {\n\tmargin: 0px;\n}\n</style>\n</head>\n<body>".trim(),this.postfix="</body>",this.timerId=0,this.render(e)}return e.prototype.render=function(t){var n=this;t.innerHTML='\n\t\t\t\t<div class="spine-player-editor-container">\n\t\t\t\t\t<div class="spine-player-editor-code"></div>\n\t\t\t\t\t<iframe class="spine-player-editor-player"></iframe>\n\t\t\t\t</div>\n\t\t\t';var r=t.getElementsByClassName("spine-player-editor-code")[0];this.player=t.getElementsByClassName("spine-player-editor-player")[0],requestAnimationFrame((function(){n.code=CodeMirror(r,{lineNumbers:!0,tabSize:3,indentUnit:3,indentWithTabs:!0,scrollBarStyle:"native",mode:"htmlmixed",theme:"monokai"}),n.code.on("change",(function(){n.startPlayer()})),n.setCode(e.DEFAULT_CODE)}))},e.prototype.setPreAndPostfix=function(e,t){this.prefix=e,this.postfix=t,this.startPlayer()},e.prototype.setCode=function(e){this.code.setValue(e),this.startPlayer()},e.prototype.startPlayer=function(){var e=this;clearTimeout(this.timerId),this.timerId=setTimeout((function(){var t=e.code.getDoc().getValue();t=e.prefix+t+e.postfix,t=window.btoa(t),e.player.src="",e.player.src="data:text/html;base64,"+t}),500)},e.DEFAULT_CODE='\n<script src="https://esotericsoftware.com/files/spine-player/3.7/spine-player.js"><\/script>\n<link rel="stylesheet" href="https://esotericsoftware.com/files/spine-player/3.7/spine-player.css">\n\n<div id="player-container" style="width: 100%; height: 100vh;"></div>\n\n<script>\nnew spine.SpinePlayer("player-container", {\n\tjsonUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pro.json",\n\tatlasUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pma.atlas"\n});\n<\/script>\n\t\t'.trim(),e}();e.SpinePlayerEditor=t}(Yc||(Yc={}));const qc=function(e){const t={height:.6*document.body.clientHeight+"px",overflow:"auto"},n=[{key:"bgm",label:"背景音乐",children:(0,r.jsx)(Vc,{style:t,bgmlist:e.sourcemap.get("bgm")})},{key:"bcg",label:"背景图",children:(0,r.jsx)(Bc,{style:t,bcglist:e.sourcemap.get("bcg")})},{key:"cover",label:"覆盖图",children:(0,r.jsx)(Wc,{style:t,coverlist:e.sourcemap.get("cover")})},{key:"sound",label:"音效",children:(0,r.jsx)(zc,{style:t,soundlist:e.sourcemap.get("sound")})},{key:"spr",label:"人物",children:(0,r.jsx)(Jc,{style:t,sprlist:e.sourcemap.get("spr")})}];return(0,r.jsx)("div",{id:"sourceground",children:(0,r.jsx)(pi,{defaultActiveKey:"bgm",animated:!1,items:n,destroyInactiveTabPane:!0,onChange:()=>{jc.Howler.stop()}})})}},7997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="2.2.2c"},8428:(e,t,n)=>{"use strict";function r(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e,o.click(),URL.revokeObjectURL(r)}function o(e,t){const n=new FileReader;n.addEventListener("load",(e=>{t(e.target.result+"")})),n.readAsText(e,"UTF-8")}n.d(t,{lG:()=>o,mr:()=>r})},987:(e,t,n)=>{"use strict";function r(e){return`\ntry {\n    function makecodetxt(){\n        let importArea=false;\n        let stagelist=[];\n        const errorset=new Set();\n        const resmap=new Map();\n\n        let met200=false;\n\n        const case_jump_dict=new Map();\n\n        // 所有阶段代码开始\n        ${e}\n        // 所有阶段代码结束\n        let rescode=""\n        if(errorset.size!=0){\n\n            rescode="以下主线块或定义支线块的id重复: "+Array.from(errorset.values()).join(",");\n            return rescode;\n        }else{\n            // 排序\n            const sortMap = new Map([...resmap].sort((a, b) => a[0] - b[0]));\n            rescode="";\n            for(let thiskey of sortMap.keys()){\n                if(thiskey>200 && !met200){\n                    met200=true;\n                    rescode+="jump wholeProjectTail\\n"\n                }\n                if(thiskey>200){//key就是id\n                    // 支线块副本\n                    let thisvaluecode=sortMap.get(thiskey);\n                    // 如果有 跳转到该支线块 的跳转块\n                    if(case_jump_dict.has(thiskey)){\n                        for(let timestamp of case_jump_dict.get(thiskey)){\n                            rescode+="target "+thiskey+timestamp+"PathStart\\n"\n                            rescode+=thisvaluecode;\n                            rescode+="jump "+thiskey+timestamp+"PathBack\\n"\n                        }\n                    }\n\n                }else{\n                    // 主线块\n                    let thisvaluecode=sortMap.get(thiskey);\n                    rescode+=thisvaluecode;\n                }\n\n            }\n            if(met200){//如果有支线\n                rescode+="target wholeProjectTail\\n"\n            }\n            // 调试用\n            window.errorset=errorset;\n            window.resmap=resmap;\n            window.case_jump_dict=case_jump_dict;\n            return rescode;\n        }\n        \n        return rescode;\n        }\n        // React里提取txtcode\n        txtcode=makecodetxt()\n} catch (error) {\n    txtcode="生成脚本时出错啦！你可以反馈该问题："+error.message\n}\n\n`}n.d(t,{A:()=>r})},1747:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split("");function o(e){let t=5381,n=e.length-1;if("string"==typeof e)for(;n>-1;n--)t+=(t<<5)+e.charCodeAt(n);else for(;n>-1;n--)t+=(t<<5)+e[n];let o=2147483647&t,i="";do{i+=r[63&o]}while(o>>=6);return i}console.log(o("阿露"))},4942:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},3252:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>r})},5659:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},1033:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,l,"next",e)}function l(e){r(s,o,i,a,l,"throw",e)}a(void 0)}))}}n.d(t,{Z:()=>o})},3836:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},1320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9981);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.Z)(o.key),o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},2763:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>s});var o=n(6151),i=n(5659);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return function(e,t){if(t&&("object"===(0,o.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}(this,n)}}},6431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9981);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7446:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},6680:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:()=>o})},7923:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>r})},481:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>r})},5543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6431);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},127:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:()=>r})},7211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6151);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,s=Object.create(o.prototype),a=new k(r||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=h;var p={};function f(){}function g(){}function m(){}var _={};u(_,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(R([])));b&&b!==t&&n.call(b,a)&&(_=b);var E=m.prototype=f.prototype=Object.create(_);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function o(i,s,a,l){var c=d(e[i],e,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var s;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return s=s?s.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return g.prototype=m,i(E,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},y(T.prototype),u(T.prototype,l,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new T(h(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}},3133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3252);var o=n(6447),i=n(481);function s(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(e,t)||(0,o.Z)(e,t)||(0,i.Z)()}},3323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3252),o=n(7923),i=n(6447),s=n(481);function a(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,s.Z)()}},9834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4942);var o=n(7923),i=n(6447);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6151);function o(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},6151:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},6447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4942);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var e,t=__webpack_require__(3342),n=__webpack_require__(7180);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));function o(e,t){if(!1===e||null==e)throw new Error(t)}function i(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function s(e,t,n,o){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?l(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function a(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var c;function u(e,t,n){void 0===n&&(n="/");let r=S(("string"==typeof t?l(t):t).pathname||"/",n);if(null==r)return null;let o=h(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=y(o[e],w(r));return i}function h(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=I([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),h(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of d(e.path))i(e,t,n);else i(e,t)})),t}function d(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=d(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(c||(c={}));const p=/^:\w+$/,f=3,g=2,m=1,_=10,v=-2,b=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(b)&&(r+=v),t&&(r+=g),n.filter((e=>!b(e))).reduce(((e,t)=>e+(p.test(t)?f:""===t?m:_)),r)}function y(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=s.route;i.push({params:r,pathname:I([o,c.pathname]),pathnameBase:k(I([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=I([o,c.pathnameBase]))}return i}function T(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);C("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return C(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function w(e){try{return decodeURI(e)}catch(t){return C(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function S(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function C(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}const I=e=>e.join("/").replace(/\/\/+/g,"/"),k=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");class R extends Error{}function M(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const O=["post","put","patch","delete"],x=(new Set(O),["get",...O]);new Set(x),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");var A=__webpack_require__(9685),N=__webpack_require__.t(A,2);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}const D="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:P,useEffect:$,useLayoutEffect:B,useDebugValue:F}=N;function U(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!D(n,e)}catch(e){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,(e=>{e.useSyncExternalStore})(N);const G=A.createContext(null);const j=A.createContext(null);const H=A.createContext(null);const V=A.createContext(null);const W=A.createContext({outlet:null,matches:[]});const z=A.createContext(null);function Z(){return null!=A.useContext(V)}function X(){return Z()||o(!1),A.useContext(V).location}function Y(){let e=function(){var e;let t=A.useContext(z),n=te(ee.UseRouteError),r=ne(ee.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=M(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:o},n):null,null)}class K extends A.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?A.createElement(W.Provider,{value:this.props.routeContext},A.createElement(z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J(e){let{routeContext:t,match:n,children:r}=e,o=A.useContext(G);return o&&o.static&&o.staticContext&&n.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(W.Provider,{value:t},r)}function q(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let r=e,i=null==n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||o(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,o,s)=>{let a=o.route.id?null==i?void 0:i[o.route.id]:null,l=n?o.route.errorElement||A.createElement(Y,null):null,c=t.concat(r.slice(0,s+1)),u=()=>A.createElement(J,{match:o,routeContext:{outlet:e,matches:c}},a?l:void 0!==o.route.element?o.route.element:e);return n&&(o.route.errorElement||0===s)?A.createElement(K,{location:n.location,component:l,error:a,children:u(),routeContext:{outlet:null,matches:c}}):u()}),null)}var Q,ee;function te(e){let t=A.useContext(j);return t||o(!1),t}function ne(e){let t=function(e){let t=A.useContext(W);return t||o(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||o(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Q||(Q={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ee||(ee={}));function re(t){let{basename:n,children:r,initialEntries:o,initialIndex:c}=t,u=A.useRef();null==u.current&&(u.current=function(t){void 0===t&&(t={});let n,{initialEntries:r=["/"],initialIndex:o,v5Compat:c=!1}=t;n=r.map(((e,t)=>g(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let u=p(null==o?n.length-1:o),h=e.Pop,d=null;function p(e){return Math.min(Math.max(e,0),n.length-1)}function f(){return n[u]}function g(e,t,r){void 0===t&&(t=null);let o=s(n?f().pathname:"/",e,t,r);return i("/"===o.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),o}function m(e){return"string"==typeof e?e:a(e)}return{get index(){return u},get action(){return h},get location(){return f()},createHref:m,createURL:e=>new URL(m(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?l(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(t,r){h=e.Push;let o=g(t,r);u+=1,n.splice(u,n.length,o),c&&d&&d({action:h,location:o,delta:1})},replace(t,r){h=e.Replace;let o=g(t,r);n[u]=o,c&&d&&d({action:h,location:o,delta:0})},go(t){h=e.Pop;let r=p(u+t),o=n[r];u=r,d&&d({action:h,location:o,delta:t})},listen:e=>(d=e,()=>{d=null})}}({initialEntries:o,initialIndex:c,v5Compat:!0}));let h=u.current,[d,p]=A.useState({action:h.action,location:h.location});return A.useLayoutEffect((()=>h.listen(p)),[h]),A.createElement(ie,{basename:n,children:r,location:d.location,navigationType:d.action,navigator:h})}function oe(e){o(!1)}function ie(t){let{basename:n="/",children:r=null,location:i,navigationType:s=e.Pop,navigator:a,static:c=!1}=t;Z()&&o(!1);let u=n.replace(/^\/*/,"/"),h=A.useMemo((()=>({basename:u,navigator:a,static:c})),[u,a,c]);"string"==typeof i&&(i=l(i));let{pathname:d="/",search:p="",hash:f="",state:g=null,key:m="default"}=i,_=A.useMemo((()=>{let e=S(d,u);return null==e?null:{pathname:e,search:p,hash:f,state:g,key:m}}),[u,d,p,f,g,m]);return null==_?null:A.createElement(H.Provider,{value:h},A.createElement(V.Provider,{children:r,value:{location:_,navigationType:s}}))}function se(t){let{children:n,location:r}=t,i=A.useContext(G);return function(t,n){Z()||o(!1);let{navigator:r}=A.useContext(H),i=A.useContext(j),{matches:s}=A.useContext(W),a=s[s.length-1],c=a?a.params:{},h=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let d,p=X();if(n){var f;let e="string"==typeof n?l(n):n;"/"===h||(null==(f=e.pathname)?void 0:f.startsWith(h))||o(!1),d=e}else d=p;let g=d.pathname||"/",m=u(t,{pathname:"/"===h?g:g.slice(h.length)||"/"}),_=q(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([h,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:I([h,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i||void 0);return n&&_?A.createElement(V.Provider,{value:{location:L({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},_):_}(i&&!n?i.router.routes:ce(n),r)}var ae;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ae||(ae={}));new Promise((()=>{}));class le extends A.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,o=ae.pending;if(n instanceof Promise)if(this.state.error){ae.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(n,void 0!==r._error?ae.error:void 0!==r._data?ae.success:ae.pending):(ae.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else ae.success,Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(o===ae.error&&r._error instanceof AbortedDeferredError)throw neverSettledPromise;if(o===ae.error&&!t)throw r._error;if(o===ae.error)return React.createElement(AwaitContext.Provider,{value:r,children:t});if(o===ae.success)return React.createElement(AwaitContext.Provider,{value:r,children:e});throw r}}function ce(e,t){void 0===t&&(t=[]);let n=[];return A.Children.forEach(e,((e,r)=>{if(!A.isValidElement(e))return;if(e.type===A.Fragment)return void n.push.apply(n,ce(e.props.children,t));e.type!==oe&&o(!1),e.props.index&&e.props.children&&o(!1);let i=[...t,r],s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(s.children=ce(e.props.children,i)),n.push(s)})),n}var ue=__webpack_require__(9592);const he=function(){return(0,t.jsxs)(ue.WD,{name:"加载",children:[(0,t.jsx)(ue.gO,{type:"b_load"}),(0,t.jsx)(ue.gO,{type:"b_student",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsxs)(ue.gO,{type:"b_def_student",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_load_custom",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val4",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_load_char",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_load_other",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]})]})};const de=function(){return(0,t.jsxs)(ue.WD,{name:"特殊",children:[(0,t.jsx)(ue.gO,{type:"b_autotime"}),(0,t.jsx)(ue.gO,{type:"b_changetxt",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_comment",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_jump",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_target",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_waitclick"}),(0,t.jsx)(ue.gO,{type:"b_waittime"})]})};const pe=function(){return(0,t.jsxs)(ue.WD,{name:"文字",children:[(0,t.jsxs)(ue.gO,{type:"b_banner_both",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsx)(ue.gO,{type:"b_banner_main",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_label_title",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsxs)(ue.gO,{type:"b_text_display",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_text_set",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_text_setandwait",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_text_hl",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val4",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsx)(ue.gO,{type:"b_text_hide"}),(0,t.jsx)(ue.gO,{type:"b_text_size"}),(0,t.jsx)(ue.gO,{type:"b_text_interval"}),(0,t.jsx)(ue.gO,{type:"b_text_setfont",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})})]})};const fe=function(){return(0,t.jsxs)(ue.WD,{name:"按钮",children:[(0,t.jsx)(ue.gO,{type:"b_one_button",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsxs)(ue.gO,{type:"b_two_button",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsxs)(ue.gO,{type:"b_three_button",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val3",children:(0,t.jsx)(ue.jX,{type:"text"})})]})]})};const ge=function(){return(0,t.jsxs)(ue.WD,{name:"舞台",children:[(0,t.jsxs)(ue.WD,{name:"效果",children:[(0,t.jsx)(ue.gO,{type:"b_screen_set"}),(0,t.jsx)(ue.gO,{type:"b_screen_settime"})]}),(0,t.jsxs)(ue.WD,{name:"背景",children:[(0,t.jsx)(ue.gO,{type:"b_bgpic_set",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_bgpic_display"}),(0,t.jsx)(ue.gO,{type:"b_bgpic_change",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_bgpic_changesmoth",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_bgpic_shake"})]}),(0,t.jsxs)(ue.WD,{name:"覆盖图片",children:[(0,t.jsx)(ue.gO,{type:"b_ftpic_set"}),(0,t.jsx)(ue.gO,{type:"b_ftpic_display",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})})]}),(0,t.jsxs)(ue.WD,{name:"幕布",children:[(0,t.jsx)(ue.gO,{type:"b_curtain_display"}),(0,t.jsx)(ue.gO,{type:"b_curtain_alpha"}),(0,t.jsx)(ue.gO,{type:"b_curtain_color"}),(0,t.jsx)(ue.gO,{type:"b_curtain_def_color",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})})]}),(0,t.jsxs)(ue.WD,{name:"结束/继续",children:[(0,t.jsx)(ue.gO,{type:"b_end_finish",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_end_continue"}),(0,t.jsx)(ue.gO,{type:"b_end_clear"})]})]})};const me=function(){return(0,t.jsxs)(ue.WD,{name:"声音",children:[(0,t.jsx)(ue.gO,{type:"b_bgm_control",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_bgm_pause"}),(0,t.jsx)(ue.gO,{type:"b_bgm_stop"}),(0,t.jsx)(ue.gO,{type:"b_bgm_volumn"})]})};const _e=function(){return(0,t.jsxs)(ue.WD,{name:"人物",children:[(0,t.jsxs)(ue.gO,{type:"b_stu_speak",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsx)(ue.gO,{type:"b_stu_display",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_position",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_move",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_action",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsxs)(ue.gO,{type:"b_stu_face",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsx)(ue.gO,{type:"b_stu_emo",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsxs)(ue.gO,{type:"b_stu_def_emo",children:[(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})}),(0,t.jsx)(ue.B4,{name:"val2",children:(0,t.jsx)(ue.jX,{type:"text"})})]}),(0,t.jsx)(ue.gO,{type:"b_stu_emoinit",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_light",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_cover",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_shake",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"b_stu_stopshake",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})})]})};const ve=function(){return(0,t.jsxs)(ue.WD,{name:"其他块",children:[(0,t.jsx)(ue.gO,{type:"b_stage"}),(0,t.jsx)(ue.gO,{type:"b_case"}),(0,t.jsx)(ue.gO,{type:"b_case_jump"}),(0,t.jsx)(ue.gO,{type:"b_user_write",children:(0,t.jsx)(ue.B4,{name:"val1",children:(0,t.jsx)(ue.jX,{type:"text"})})}),(0,t.jsx)(ue.gO,{type:"text"})]})};const be=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(he,{}),(0,t.jsx)(de,{}),(0,t.jsx)(pe,{}),(0,t.jsx)(fe,{}),(0,t.jsx)(ge,{}),(0,t.jsx)(me,{}),(0,t.jsx)(_e,{}),(0,t.jsx)(ue.WD,{name:"变量",custom:"VARIABLE"}),(0,t.jsx)(ue.WD,{name:"函数",custom:"PROCEDURE"}),(0,t.jsx)(ve,{})]})};var Ee=__webpack_require__(2772),ye=__webpack_require__.n(Ee),Te=__webpack_require__(7734);const we={type:"b_load",message0:"加载 %1",args0:[{type:"input_statement",name:"sta1",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:260,tooltip:"",helpUrl:""};Ee.Blocks.b_load={init:function(){this.jsonInit(we)}},Te.javascriptGenerator.b_load=function(e){const t=Te.javascriptGenerator.statementToCode(e,"sta1");return 0==t.length?"":`\nimportArea=true;\n${t}\nstagelist.push("load end");\nimportArea=false;\n`};const Se=JSON.parse('{"q":[{"zhName":"阿露","enName":"Aru","krName":"아루","jpName":"アル","sprName":"Aru_spr"},{"zhName":"艾米","enName":"Eimi","krName":"에이미","jpName":"エイミ","sprName":"Eimi_spr"},{"zhName":"晴奈","enName":"Haruna","krName":"하루나","jpName":"ハルナ","sprName":"Haruna_spr"},{"zhName":"日富美","enName":"Hifumi","krName":"히후미","jpName":"ヒフミ","sprName":"Hihumi_spr"},{"zhName":"日奈","enName":"Hina","krName":"히나","jpName":"ヒナ","sprName":"Hina_spr"},{"zhName":"星野","enName":"Hoshino","krName":"호시노","jpName":"ホシノ","sprName":"Hoshino_spr"},{"zhName":"伊织","enName":"Iori","krName":"이오리","jpName":"イオリ","sprName":"Iori_spr"},{"zhName":"真纪","enName":"Maki","krName":"마키","jpName":"マキ","sprName":"Maki_spr"},{"zhName":"尼禄","enName":"Neru","krName":"네루","jpName":"ネル","sprName":"Neru_spr"},{"zhName":"泉","enName":"Izumi","krName":"이즈미","jpName":"イズミ","sprName":"Izumi_spr"},{"zhName":"白子","enName":"Shiroko","krName":"시로코","jpName":"シロコ","sprName":"Shiroko_spr"},{"zhName":"瞬","enName":"Shun","krName":"슌","jpName":"シュン","sprName":"Shun_spr"},{"zhName":"堇","enName":"Sumire","krName":"스미레","jpName":"スミレ","sprName":"Sumire_spr"},{"zhName":"鹤城","enName":"Tsurugi","krName":"츠루기","jpName":"ツルギ","sprName":"Tsurugi_spr"},{"zhName":"茜","enName":"Akane","krName":"아카네","jpName":"アカネ","sprName":"Akane_spr"},{"zhName":"千世","enName":"Chise","krName":"치세","jpName":"チセ","sprName":"Chise_spr"},{"zhName":"亚伽里","enName":"Akari","krName":"아카리","jpName":"アカリ","sprName":"Akari_spr"},{"zhName":"莲见","enName":"Hasumi","krName":"하스미","jpName":"ハスミ","sprName":"Hasumi_spr"},{"zhName":"野宫","enName":"Nonomi","krName":"노노미","jpName":"ノノミ","sprName":"Nonomi_spr"},{"zhName":"佳代子","enName":"Kayoko","krName":"카요코","jpName":"カヨコ","sprName":"Kayoko_spr"},{"zhName":"睦月","enName":"Mutsuki","krName":"무츠키","jpName":"ムツキ","sprName":"Mutsuki_spr"},{"zhName":"淳子","enName":"Junko","krName":"준코","jpName":"ジュンコ","sprName":"Zunko_spr"},{"zhName":"芹香","enName":"Serika","krName":"세리카","jpName":"セリカ","sprName":"Serika_spr"},{"zhName":"椿","enName":"Tsubaki","krName":"츠바키","jpName":"ツバキ","sprName":"Tsubaki_spr"},{"zhName":"优香","enName":"Yuuka","krName":"유우카","jpName":"ユウカ","sprName":"Yuuka_spr"},{"zhName":"遥香","enName":"Haruka","krName":"하루카","jpName":"ハルカ","sprName":"Haruka_spr"},{"zhName":"明日奈","enName":"Asuna","krName":"아스나","jpName":"アスナ","sprName":"Asuna_spr"},{"zhName":"柯托莉","enName":"Kotori","krName":"코토리","jpName":"コトリ","sprName":"Kotori_spr"},{"zhName":"铃美","enName":"Suzumi","krName":"스즈미","jpName":"スズミ","sprName":"Suzumi_spr"},{"zhName":"菲娜","enName":"Pina","krName":"피나","jpName":"フィーナ","sprName":"Pina_spr"},{"zhName":"响","enName":"Hibiki","krName":"히비키","jpName":"ヒビキ","sprName":"Hibiki_spr"},{"zhName":"花凛","enName":"Karin","krName":"카린","jpName":"カリン","sprName":"karin_spr"},{"zhName":"纱绫","enName":"Saya","krName":"사야","jpName":"サヤ","sprName":"Saya_spr"},{"zhName":"爱莉","enName":"Airi","krName":"아이리","jpName":"アイリ","sprName":"Airi_spr"},{"zhName":"枫香","enName":"Fuuka","krName":"후우카","jpName":"フウカ","sprName":"Fuuka_spr"},{"zhName":"花江","enName":"Hanae","krName":"하나에","jpName":"ハナエ","sprName":"Hanae_spr"},{"zhName":"晴","enName":"Hare","krName":"하레","jpName":"ハレ","sprName":"Hare_spr"},{"zhName":"歌原","enName":"Utaha","krName":"우타하","jpName":"ウタハ","sprName":"Utaha_spr"},{"zhName":"绫音","enName":"Ayane","krName":"아야네","jpName":"アヤネ","sprName":"Ayane_spr"},{"zhName":"千夏","enName":"Chinatsu","krName":"치나츠","jpName":"チナツ","sprName":"Chinatsu_spr"},{"zhName":"小玉","enName":"Kotama","krName":"코타마","jpName":"コタマ","sprName":"Kotama_spr"},{"zhName":"茱莉","enName":"Juri","krName":"주리","jpName":"ジュリ","sprName":"Juri_spr"},{"zhName":"芹娜","enName":"Serina","krName":"세리나","jpName":"セリナ","sprName":"Serina_spr"},{"zhName":"志美子","enName":"Shimiko","krName":"시미코","jpName":"シミコ","sprName":"Shimiko_spr"},{"zhName":"好美","enName":"Yoshimi","krName":"요시미","jpName":"ヨシミ","sprName":"Yoshimi_spr"},{"zhName":"真白","enName":"Mashiro","krName":"마시로","jpName":"マシロ","sprName":"Mashiro_spr"},{"zhName":"泉奈","enName":"Izuna","krName":"이즈나","jpName":"イズナ","sprName":"Izuna_spr"},{"zhName":"静子","enName":"Shizuko","krName":"시즈코","jpName":"シズコ","sprName":"Shizuko_spr"},{"zhName":"爱丽丝","enName":"Aris","krName":"아리스","jpName":"アリス","sprName":"Aris_spr"},{"zhName":"绿","enName":"Midori","krName":"미도리","jpName":"ミドリ","sprName":"Midori_spr"},{"zhName":"桃井","enName":"Momoi","krName":"모모이","jpName":"モモイ","sprName":"Momoi_spr"},{"zhName":"切里诺","enName":"Cherino","krName":"체리노","jpName":"チェリノ","sprName":"Cherino_spr"},{"zhName":"和香","enName":"Nodoka","krName":"노도카","jpName":"ノドカ","sprName":"Nodoka_spr"},{"zhName":"柚子","enName":"Yuzu","krName":"유즈","jpName":"ユズ","sprName":"Yuzu_spr"},{"zhName":"梓","enName":"Azusa","krName":"아즈사","jpName":"アズサ","sprName":"Azusa_spr"},{"zhName":"花子","enName":"Hanako","krName":"하나코","jpName":"ハナコ","sprName":"Hanako_spr"},{"zhName":"小春","enName":"Koharu","krName":"코하루","jpName":"コハル","sprName":"Koharu_spr"},{"zhName":"梓(泳装)","enName":"Azusa (Swimsuit)","krName":"아즈사(수영복)","jpName":"アズサ（水着）","sprName":"Azusa_Swimsuit_spr"},{"zhName":"真白(泳装)","enName":"Mashiro (Swimsuit)","krName":"마시로(수영복)","jpName":"マシロ（水着）","sprName":"Mashiro_Swimsuit_spr"},{"zhName":"鹤城(泳装)","enName":"Tsurugi (Swimsuit)","krName":"츠루기(수영복)","jpName":"ツルギ（水着）","sprName":"Tsurugi_Swimsuit_spr"},{"zhName":"日富美(泳装)","enName":"Hifumi (Swimsuit)","krName":"히후미(수영복)","jpName":"ヒフミ（水着）","sprName":"Hihumi_Swimsuit_spr"},{"zhName":"日奈(泳装)","enName":"Hina (Swimsuit)","krName":"히나(수영복)","jpName":"ヒナ（水着）","sprName":"CH0063_spr"},{"zhName":"伊织(泳装)","enName":"Iori (Swimsuit)","krName":"이오리(수영복)","jpName":"イオリ（水着）","sprName":"CH0064_spr"},{"zhName":"泉(泳装)","enName":"Izumi (Swimsuit)","krName":"이즈미(수영복)","jpName":"イズミ（水着）","sprName":"Izumi_swimsuit_spr"},{"zhName":"白子(单车)","enName":"Shiroko (Cycling)","krName":"시로코(라이딩)","jpName":"シロコ（ライディング）","sprName":"Shiroko_RidingSuit_spr"},{"zhName":"瞬(幼女)","enName":"Shun (Small)","krName":"슌(어린이)","jpName":"シュン（幼女）","sprName":"CH0066_spr"},{"zhName":"桐乃","enName":"Kirino","krName":"키리노","jpName":"キリノ","sprName":"Kirino_spr"},{"zhName":"纱绫(私服)","enName":"Saya (Casual)","krName":"사야(사복)","jpName":"サヤ（私服）","sprName":"Saya_Casual_spr"},{"zhName":"尼禄(兔女郎)","enName":"Neru (Bunny)","krName":"네루(바니걸)","jpName":"ネル（バニーガール）","sprName":"CH0101_spr"},{"zhName":"花凛(兔女郎)","enName":"Karin (Bunny)","krName":"카린(바니걸)","jpName":"カリン（バニーガール）","sprName":"CH0100_spr"},{"zhName":"明日奈(兔女郎)","enName":"Asuna (Bunny)","krName":"아스나(바니걸)","jpName":"アスナ（バニーガール）","sprName":"CH0098_spr"},{"zhName":"夏","enName":"Natsu","krName":"나츠","jpName":"ナツ","sprName":"CH0155_spr"},{"zhName":"玛丽","enName":"Mari","krName":"마리","jpName":"マリー","sprName":"Mari_spr"},{"zhName":"初音未来","enName":"Hatsune Miku","krName":"하츠네 미쿠","jpName":"初音ミク","sprName":"CH9999_spr"},{"zhName":"亚子","enName":"Ako","krName":"아코","jpName":"アコ","sprName":"Ako_spr"},{"zhName":"切里诺(温泉)","enName":"Cherino (Hot Spring)","krName":"체리노(온천)","jpName":"チェリノ（温泉）","sprName":"CH0164_spr"},{"zhName":"千夏(温泉)","enName":"Chinatsu (Hot Spring)","krName":"치나츠(온천)","jpName":"チナツ（温泉）","sprName":"CH0163_spr"},{"zhName":"智惠","enName":"Tomoe","krName":"토모에","jpName":"トモエ","sprName":"Tomoe_spr"},{"zhName":"和香(温泉)","enName":"Nodoka (Hot Spring)","krName":"노도카(온천)","jpName":"ノドカ（温泉）","sprName":"CH0165_spr"},{"zhName":"阿露(正月)","enName":"Aru (New Year)","krName":"아루(새해)","jpName":"アル（正月）","sprName":"Aru_Newyear_spr"},{"zhName":"睦月(正月)","enName":"Mutsuki (New Year)","krName":"무츠키(새해)","jpName":"ムツキ（正月）","sprName":"Mutsuki_Newyear_spr"},{"zhName":"芹香(正月)","enName":"Serika (New Year)","krName":"세리카(새해)","jpName":"セリカ（正月）","sprName":"Serika_Newyear_spr"},{"zhName":"若藻","enName":"Wakamo","krName":"와카모","jpName":"ワカモ","sprName":"Wakamo_spr"},{"zhName":"吹雪","enName":"Fubuki","krName":"후부키","jpName":"フブキ","sprName":"CH0141_spr"},{"zhName":"濑名","enName":"Sena","krName":"세나","jpName":"セナ","sprName":"CH0081_spr"},{"zhName":"千寻","enName":"Chihiro","krName":"치히로","jpName":"チヒロ","sprName":"CH0160_spr"},{"zhName":"三森","enName":"Mimori","krName":"미모리","jpName":"ミモリ","sprName":"Mimori_spr"},{"zhName":"忧","enName":"Ui","krName":"우이","jpName":"ウイ","sprName":"CH0169_spr"},{"zhName":"日向","enName":"Hinata","krName":"히나타","jpName":"ヒナタ","sprName":"Hinata_spr"},{"zhName":"玛利娜","enName":"Marina","krName":"마리나","jpName":"マリナ","sprName":"Marina_spr"},{"zhName":"宫子","enName":"Miyako","krName":"미야코","jpName":"ミヤコ","sprName":"miyako_spr"},{"zhName":"咲","enName":"Saki","krName":"사키","jpName":"サキ","sprName":"CH0144_spr"},{"zhName":"美游","enName":"Miyu","krName":"미유","jpName":"ミユ","sprName":"CH0145_spr"},{"zhName":"枫","enName":"Kaede","krName":"카에데","jpName":"カエデ","sprName":"Kaede_spr"},{"zhName":"伊吕波","enName":"Iroha","krName":"이로하","jpName":"イロハ","sprName":"CH0156_spr"},{"zhName":"满","enName":"Michiru","krName":"미치루","jpName":"ミチル","sprName":"CH0113_spr"},{"zhName":"月咏","enName":"Tsukuyo","krName":"츠쿠요","jpName":"ツクヨ","sprName":"CH0114_spr"},{"zhName":"美咲","enName":"Misaki","krName":"미사키","jpName":"ミサキ","sprName":"Misaki_spr"},{"zhName":"日和","enName":"Hiyori","krName":"히요리","jpName":"ヒヨリ","sprName":"Hiyori_spr"},{"zhName":"亚津子","enName":"Atsuko","krName":"아츠코","jpName":"アツコ","sprName":"Atsuko_spr"},{"zhName":"若藻(泳装)","enName":"Wakamo (Swimsuit)","krName":"와카모(수영복)","jpName":"ワカモ（水着）","sprName":"CH0175_spr"},{"zhName":"野宫(泳装)","enName":"Nonomi (Swimsuit)","krName":"노노미(수영복)","jpName":"ノノミ（水着）","sprName":"CH0092_spr"},{"zhName":"绫音(泳装)","enName":"Ayane (Swimsuit)","krName":"아야네(수영복)","jpName":"アヤネ（水着）","sprName":"CH0176_spr"},{"zhName":"星野(泳装)","enName":"Hoshino (Swimsuit)","krName":"호시노(수영복)","jpName":"ホシノ（水着）","sprName":"Hoshino_Swimsuit_spr"},{"zhName":"静子(泳装)","enName":"Shizuko (Swimsuit)","krName":"시즈코(수영복)","jpName":"シズコ（水着）","sprName":"CH0180_spr"},{"zhName":"泉奈(泳装)","enName":"Izuna (Swimsuit)","krName":"이즈나(수영복)","jpName":"イズナ（水着）","sprName":"CH0179_spr"},{"zhName":"千世(泳装)","enName":"Chise (Swimsuit)","krName":"치세(수영복)","jpName":"チセ（水着）","sprName":"CH0178_spr"},{"zhName":"纱织","enName":"Saori","krName":"사오리","jpName":"サオリ","sprName":"Saori_spr"},{"zhName":"萌绘","enName":"Moe","krName":"모에","jpName":"モエ","sprName":"Moe_spr"},{"zhName":"和纱","enName":"Kazusa","krName":"카즈사","jpName":"カズサ","sprName":"Kazusa_spr"},{"zhName":"心奈","enName":"Kokona","krName":"코코나","jpName":"ココナ","sprName":"CH0137_spr"},{"zhName":"歌原(应援团)","enName":"Utaha (Cheerleader)","krName":"우타하(응원단)","jpName":"ウタハ（応援団）","sprName":"CH0182_spr"},{"zhName":"诺亚","enName":"Noa","krName":"노아","jpName":"ノア","sprName":"CH0095_spr"},{"zhName":"响(应援团)","enName":"Hibiki (Cheerleader)","krName":"히비키(응원단)","jpName":"ヒビキ（応援団）","sprName":"CH0181_spr"},{"zhName":"茜(兔女郎)","enName":"Akane (Bunny)","krName":"아카네(바니걸)","jpName":"アカネ（バニーガール）","sprName":"CH0099_spr"},{"zhName":"优香(体操服)","enName":"Yuuka (Tracksuit)","krName":"유우카(체육복)","jpName":"ユウカ（体操服）","sprName":"CH0184_spr"},{"zhName":"玛丽(体操服)","enName":"Mari (Tracksuit)","krName":"마리(체육복)","jpName":"マリー（体操服）","sprName":"CH0186_spr"},{"zhName":"莲见(体操服)","enName":"Hasumi (Tracksuit)","krName":"하스미(체육복)","jpName":"ハスミ（体操服）","sprName":"CH0190_spr"},{"zhName":"日鞠","enName":"Himari","krName":"히마리","jpName":"ヒマリ","sprName":"CH0159_spr"},{"zhName":"时雨","enName":"Shigure","krName":"시구레","jpName":"シグレ","sprName":"Shigure_spr"},{"zhName":"芹娜(圣诞)","enName":"Serina (Christmas)","krName":"세리나(크리스마스)","jpName":"セリナ（クリスマス）","sprName":"CH0194_spr"},{"zhName":"花江(圣诞)","enName":"Hanae (Christmas)","krName":"하나에(크리스마스)","jpName":"ハナエ（クリスマス）","sprName":"CH0195_spr"},{"zhName":"晴奈(正月)","enName":"Haruna (New Year)","krName":"하루나(새해)","jpName":"ハルナ（正月）","sprName":"CH0191_spr"},{"zhName":"枫香(正月)","enName":"Fuuka (New Year)","krName":"후우카(새해)","jpName":"フウカ（正月）","sprName":"CH0177_spr"},{"zhName":"淳子(正月)","enName":"Junko (New Year)","krName":"준코(새해)","jpName":"ジュンコ（正月）","sprName":"CH0192_spr"},{"zhName":"美弥","enName":"Mine","krName":"미네","jpName":"ミネ","sprName":"CH0152_spr"},{"zhName":"未花","enName":"Mika","krName":"미카","jpName":"ミカ","sprName":"CH0069_spr"},{"zhName":"惠","enName":"Megu","krName":"메구","jpName":"メグ","sprName":"CH0088_spr"},{"zhName":"叶渚","enName":"Kanna","krName":"칸나","jpName":"カンナ","sprName":"CH0170_spr"},{"zhName":"樱子","enName":"Sakurako","krName":"사쿠라코","jpName":"サクラコ","sprName":"Sakurako_spr"}]}'),Ce=[];for(let e of Se.q)Ce.push([e.zhName.replace(/ /g,"").toLowerCase(),e.sprName.replace(/ /g,"").toLowerCase()]);const Ie={type:"b_student",message0:"人物昵称 %1 素材文件 %2 %3",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:Ce},{type:"field_dropdown",name:"drop2",options:[["普通状态","spr"],["通讯状态","sprC"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:260,tooltip:"",helpUrl:""};Ee.Blocks.b_student={init:function(){this.jsonInit(Ie)}},Te.javascriptGenerator.b_student=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";const n=e.getFieldValue("drop1");return`\nif(importArea){\n  stagelist.push(\`load ${e.getFieldValue("drop2")} \${${t}} ${n}\`);\n}\n`};const ke={type:"b_def_student",message0:"人物昵称 %1 素材文件 %2 %3",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"field_dropdown",name:"drop1",options:[["普通状态","spr"],["通讯状态","sprC"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:260,tooltip:"人物素材不需要文件名后缀",helpUrl:""};Ee.Blocks.b_def_student={init:function(){this.jsonInit(ke)}},Te.javascriptGenerator.b_def_student=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length||0==n.length)return"";return`\nif(importArea){\n  stagelist.push(\`load ${e.getFieldValue("drop1")} \${${t}} \${${n}}\`);\n}\n`};const Re={type:"b_load_other",message0:"类型 %1 素材昵称 %2 素材文件 %3",args0:[{type:"field_dropdown",name:"drop1",options:[["背景","bg"],["覆盖图片","cover"],["背景音乐","bgm"],["音效","se"]]},{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:260,tooltip:"其他素材需要写明文件名后缀",helpUrl:""};Ee.Blocks.b_load_other={init:function(){this.jsonInit(Re)}},Te.javascriptGenerator.b_load_other=function(e){const t=e.getFieldValue("drop1"),n=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);return 0==n.length||0==r.length?"":`\nif(importArea){\n    stagelist.push(\`load ${t} \${${n}} \${${r}}\`);\n}\n`};let Me="b_load_char";const Oe={type:`${Me}`,message0:"人物昵称 %1 缩放比例 %2 文件夹 %3 图片名(含后缀) %4 %5",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_number",name:"num1",min:0,value:2.7,max:1e3,precision:.1},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"},{type:"field_dropdown",name:"drop1",options:[["普通状态","char"],["通讯状态","charC"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:260,tooltip:"其他素材需要写明文件名后缀",helpUrl:""};Ee.Blocks[Me]={init:function(){this.jsonInit(Oe)}},Te.javascriptGenerator[Me]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);let r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);const o=e.getFieldValue("drop1"),i=e.getFieldValue("num1");return 0==t.length||0==n.length||0==r.length?"":(r=r.split(" ").join(","),`\nif(importArea){\n    stagelist.push(\`load ${o} \${${t}} ${i} \${${n}} [\${${r}}]\`);\n}\n`)};let xe="b_load_custom";const Ae={type:`${xe}`,message0:"人物昵称 %1 缩放比例 %2 空闲状态 %3 自定义名称 %4 图片名(含后缀) %5 %6",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_number",name:"num1",min:0,value:2.7,max:1e3,precision:.1},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"},{type:"input_value",name:"val4",check:"String"},{type:"field_dropdown",name:"drop1",options:[["普通状态","custom"],["通讯状态","customC"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:260,tooltip:"其他素材需要写明文件名后缀",helpUrl:""};Ee.Blocks[xe]={init:function(){this.jsonInit(Ae)}},Te.javascriptGenerator[xe]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);let o=Te.javascriptGenerator.valueToCode(e,"val4",Te.javascriptGenerator.ORDER_ATOMIC);const i=e.getFieldValue("drop1"),s=e.getFieldValue("num1");return 0==t.length||0==n.length||0==r.length||0==o.length?"":(o=o.split(" ").join(","),`\nif(importArea){\n    stagelist.push(\`load ${i} \${${t}} ${s} \${${n}} \${${r}} [\${${o}}]\`);\n}\n`)};let Ne="b_autotime";const Le={type:`${Ne}`,message0:"设置自动播放的间隔为 %1 秒",args0:[{type:"field_number",name:"num1",min:0,value:1,max:1e3,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[Ne]={init:function(){this.jsonInit(Le)}},Te.javascriptGenerator[Ne]=function(e){return`stagelist.push(\`auto ${e.getFieldValue("num1")}\`);`};let De="b_changetxt";const Pe={type:`${De}`,message0:"执行脚本文件 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[De]={init:function(){this.jsonInit(Pe)}},Te.javascriptGenerator[De]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`ChangeTxt \${${t}}\`);`};let $e="b_comment";const Be={type:`${$e}`,message0:"注释 [ %1 ]",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[$e]={init:function(){this.jsonInit(Be)}},Te.javascriptGenerator[$e]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`//\${${t}}\`);`};let Fe="b_jump";const Ue={type:`${Fe}`,message0:"跳到标记点 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[Fe]={init:function(){this.jsonInit(Ue)}},Te.javascriptGenerator[Fe]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`jump \${${t}}\`);`};let Ge="b_target";const je={type:`${Ge}`,message0:"设为标记点 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[Ge]={init:function(){this.jsonInit(je)}},Te.javascriptGenerator[Ge]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`target \${${t}}\`);`};let He="b_waitclick";const Ve={type:`${He}`,message0:"等待点击",args0:[],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[He]={init:function(){this.jsonInit(Ve)}},Te.javascriptGenerator[He]=function(e){return"stagelist.push(`==等待点击`);"};let We="b_waittime";const ze={type:`${We}`,message0:"等待 %1 秒",args0:[{type:"field_number",name:"num1",min:0,value:1,max:1e3,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:330,tooltip:"",helpUrl:""};Ee.Blocks[We]={init:function(){this.jsonInit(ze)}},Te.javascriptGenerator[We]=function(e){return`stagelist.push(\`wait ${e.getFieldValue("num1")}\`);`};const Ze=(window.numinbigfunc||(window.numinbigfunc=0),function(){return window.numinbigfunc+=1,"tstamp"+window.numinbigfunc});let Xe="b_one_button";const Ye={type:`${Xe}`,message0:"%1 单个按钮，内容：[ %2 ] 执行 %3",args0:[{type:"field_dropdown",name:"drop1",options:[["出现按钮","0"],["自动选择按钮1","1"]]},{type:"input_value",name:"val1",check:"String"},{type:"input_statement",name:"sta1"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:20,tooltip:"",helpUrl:""};Ee.Blocks[Xe]={init:function(){this.jsonInit(Ye)}},Te.javascriptGenerator[Xe]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";const n=Te.javascriptGenerator.statementToCode(e,"sta1"),r=e.getFieldValue("drop1"),o="0"!==r?"S":"",i=o?" "+r:"",s=Ze();return`\nstagelist.push(\`button${o}${i} '\${${t}}' '${s+"caseA"}'\`);\n\nstagelist.push(\`target ${s+"caseA"}\`)\n${n.trim()}\n\n`};let Ke="b_two_button";const Je={type:`${Ke}`,message0:"%1 第一个按钮，内容：[ %2 ] 执行 %3 第二个按钮，内容：[ %4 ] 执行 %5",args0:[{type:"field_dropdown",name:"drop1",options:[["出现按钮","0"],["自动选择按钮1","1"],["自动选择按钮2","2"]]},{type:"input_value",name:"val1",check:"String"},{type:"input_statement",name:"sta1"},{type:"input_value",name:"val2",check:"String"},{type:"input_statement",name:"sta2"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:20,tooltip:"",helpUrl:""};Ee.Blocks[Ke]={init:function(){this.jsonInit(Je)}},Te.javascriptGenerator[Ke]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length||0==n.length)return"";const r=Te.javascriptGenerator.statementToCode(e,"sta1"),o=Te.javascriptGenerator.statementToCode(e,"sta2"),i=e.getFieldValue("drop1"),s="0"!==i?"S":"",a=s?" "+i:"",l=Ze();return`\nstagelist.push(\`button${s}${a} '\${${t}}' '${l+"caseA"}' '\${${n}}' '${l+"caseB"}'\`);\n\nstagelist.push(\`target ${l+"caseA"}\`)\n${r.trim()}\nstagelist.push(\`jump ${l+"IfFinal"}\`)\n\nstagelist.push(\`target ${l+"caseB"}\`)\n${o.trim()}\nstagelist.push(\`jump ${l+"IfFinal"}\`)\n\nstagelist.push(\`target ${l+"IfFinal"}\`)\n\n`};let qe="b_three_button";const Qe={type:`${qe}`,message0:"%1 第一个按钮，内容： [ %2 ] 执行 %3 第二个按钮，内容： [ %4 ] 执行 %5 第三个按钮，内容：[ %6 ] 执行 %7",args0:[{type:"field_dropdown",name:"drop1",options:[["出现按钮","0"],["自动选择按钮1","1"],["自动选择按钮2","2"],["自动选择按钮3","3"]]},{type:"input_value",name:"val1",check:"String"},{type:"input_statement",name:"sta1"},{type:"input_value",name:"val2",check:"String"},{type:"input_statement",name:"sta2"},{type:"input_value",name:"val3",check:"String"},{type:"input_statement",name:"sta3"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:20,tooltip:"",helpUrl:""};Ee.Blocks[qe]={init:function(){this.jsonInit(Qe)}},Te.javascriptGenerator[qe]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length||0==n.length||0==r.length)return"";const o=Te.javascriptGenerator.statementToCode(e,"sta1"),i=Te.javascriptGenerator.statementToCode(e,"sta2"),s=Te.javascriptGenerator.statementToCode(e,"sta3"),a=e.getFieldValue("drop1"),l="0"!==a?"S":"",c=l?" "+a:"",u=Ze();return`\nstagelist.push(\`button${l}${c} '\${${t}}' '${u+"caseA"}' '\${${n}}' '${u+"caseB"}' '\${${r}}' '${u+"caseC"}'\`);\n\nstagelist.push(\`target ${u+"caseA"}\`)\n${o.trim()}\nstagelist.push(\`jump ${u+"IfFinal"}\`)\n\nstagelist.push(\`target ${u+"caseB"}\`)\n${i.trim()}\nstagelist.push(\`jump ${u+"IfFinal"}\`)\n\nstagelist.push(\`target ${u+"caseC"}\`)\n${s.trim()}\nstagelist.push(\`jump ${u+"IfFinal"}\`)\n\nstagelist.push(\`target ${u+"IfFinal"}\`)\n\n`};let et="b_banner_both";const tt={type:`${et}`,message0:"标题 [ 大标题 %1 小标题 %2 ]",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[et]={init:function(){this.jsonInit(tt)}},Te.javascriptGenerator[et]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length?"":`stagelist.push(\`banner2 '\${${n}}' '\${${t}}' \`);`};let nt="b_banner_main";const rt={type:`${nt}`,message0:"标题 [ 大标题 %1 ]",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[nt]={init:function(){this.jsonInit(rt)}},Te.javascriptGenerator[nt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`banner '\${${t}}'\`);`};let ot="b_label_title";const it={type:`${ot}`,message0:"左侧场景标题 [ %1 ]",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[ot]={init:function(){this.jsonInit(it)}},Te.javascriptGenerator[ot]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`label '\${${t}}'\`);`};let st="b_text_hide";const at={type:`${st}`,message0:"隐藏对话框",args0:[],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[st]={init:function(){this.jsonInit(at)}},Te.javascriptGenerator[st]=function(e){return"stagelist.push(`text hide`);"};let lt="b_text_hl";const ct={type:`${lt}`,message0:"高亮学生 %1 并展示对话 [ 说话人姓名 %2 部门/社团 %3 说话内容 %4 ] 并等待点击",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"},{type:"input_value",name:"val4",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[lt]={init:function(){this.jsonInit(ct)}},Te.javascriptGenerator[lt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC),o=Te.javascriptGenerator.valueToCode(e,"val4",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length||0==r.length||0==o.length?"":`stagelist.push(\`th \${${t}} '\${${n}}' '\${${r}}' '\${${o}}'\`);`};let ut="b_text_interval";const ht={type:`${ut}`,message0:"文字打字机效果间隔 %1 秒",args0:[{type:"field_number",name:"num1",min:0,value:.02,max:1e3,precision:.01}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[ut]={init:function(){this.jsonInit(ht)}},Te.javascriptGenerator[ut]=function(e){return`stagelist.push(\`text interval ${e.getFieldValue("num1")}\`);`};let dt="b_text_set";const pt={type:`${dt}`,message0:"显示对话 [ 说话人姓名 %1 部门/社团 %2 说话内容 %3 ]并等待点击",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[dt]={init:function(){this.jsonInit(pt)}},Te.javascriptGenerator[dt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length||0==r.length?"":`stagelist.push(\`t '\${${t}}' '\${${n}}' '\${${r}}'\`);`};let ft="b_text_display";const gt={type:`${ft}`,message0:"对话 [ 说话人姓名 %1 部门/社团 %2 说话内容 %3 ]无等待",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[ft]={init:function(){this.jsonInit(gt)}},Te.javascriptGenerator[ft]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length||0==r.length?"":`stagelist.push(\`tc '\${${t}}' '\${${n}}' '\${${r}}'\`);`};let mt="b_text_setandwait";const _t={type:`${mt}`,message0:"显示说话 [ 说话人姓名 %1 部门/社团 %2 说话内容 %3 ]并等待 %4 秒",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"input_value",name:"val3",check:"String"},{type:"field_number",name:"num1",min:0,value:1,max:1e3,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[mt]={init:function(){this.jsonInit(_t)}},Te.javascriptGenerator[mt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=Te.javascriptGenerator.valueToCode(e,"val3",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length||0==n.length||0==r.length)return"";return`\nstagelist.push(\`t '\${${t}}' '\${${n}}' '\${${r}}'\`);\nstagelist.push(\`wait ${e.getFieldValue("num1")}\`);\n`};let vt="b_text_size";const bt={type:`${vt}`,message0:"文字大小 %1",args0:[{type:"field_dropdown",name:"drop1",options:[["小","small"],["中","medium"],["大","big"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[vt]={init:function(){this.jsonInit(bt)}},Te.javascriptGenerator[vt]=function(e){return`stagelist.push(\`text size ${e.getFieldValue("drop1")}\`);`};let Et="b_text_setfont";const yt={type:`${Et}`,message0:"设置文字字体 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Et]={init:function(){this.jsonInit(yt)}},Te.javascriptGenerator[Et]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`text font \${${t}}\`);`};let Tt="b_bgpic_change";const wt={type:`${Tt}`,message0:"背景图片瞬间切换为 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Tt]={init:function(){this.jsonInit(wt)}},Te.javascriptGenerator[Tt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`bg change \${${t}}\`);`};let St="b_bgpic_changesmoth";const Ct={type:`${St}`,message0:"当前背景缓慢退出  然后背景设置为 %1 并 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["不显示","//"],["逐渐显示","bg show"],["直接显示","bg showD"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[St]={init:function(){this.jsonInit(Ct)}},Te.javascriptGenerator[St]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`\nstagelist.push(\`bg hide\`);\nstagelist.push(\`wait 1\`);\nstagelist.push(\`bg change \${${t}}\`);\nstagelist.push(\`${e.getFieldValue("drop1")}\`)\n`};let It="b_bgpic_display";const kt={type:`${It}`,message0:"当前背景 %1",args0:[{type:"field_dropdown",name:"drop1",options:[["逐渐出现","show"],["逐渐隐藏","hide"],["直接出现","showD"],["直接隐藏","hideD"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[It]={init:function(){this.jsonInit(kt)}},Te.javascriptGenerator[It]=function(e){return`stagelist.push(\`bg ${e.getFieldValue("drop1")}\`);`};let Rt="b_bgpic_set";const Mt={type:`${Rt}`,message0:"设置背景为 %1 并逐渐显示",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Rt]={init:function(){this.jsonInit(Mt)}},Te.javascriptGenerator[Rt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`\nstagelist.push(\`bg set \${${t}}\`);\n`};let Ot="b_bgpic_shake";const xt={type:`${Ot}`,message0:"背景按 %1 震动 速度 %2 幅度 %3 震动 %4 次",args0:[{type:"field_dropdown",name:"drop1",options:[["x轴","shakeX"],["y轴","shakeY"]]},{type:"field_number",name:"num1",min:0,value:10,max:1e3,precision:.1},{type:"field_number",name:"num2",min:-1e3,value:1,max:1e3,precision:.1},{type:"field_number",name:"num3",min:0,value:1,max:1e7,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Ot]={init:function(){this.jsonInit(xt)}},Te.javascriptGenerator[Ot]=function(e){return`stagelist.push(\`bg ${e.getFieldValue("drop1")} ${e.getFieldValue("num1")} ${e.getFieldValue("num2")} ${e.getFieldValue("num3")}\`);`};let At="b_ftpic_display";const Nt={type:`${At}`,message0:"设置覆盖图为 %1 并显示",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[At]={init:function(){this.jsonInit(Nt)}},Te.javascriptGenerator[At]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`cover set \${${t}}\`);`};let Lt="b_ftpic_set";const Dt={type:`${Lt}`,message0:"覆盖图片 %1",args0:[{type:"field_dropdown",name:"drop1",options:[["显示","show"],["隐藏","hide"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Lt]={init:function(){this.jsonInit(Dt)}},Te.javascriptGenerator[Lt]=function(e){return`stagelist.push(\`cover ${e.getFieldValue("drop1")}\`);`};let Pt="b_curtain_alpha";const $t={type:`${Pt}`,message0:"设置幕布透明度 %1",args0:[{type:"field_number",name:"num1",min:0,value:.5,max:1,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Pt]={init:function(){this.jsonInit($t)}},Te.javascriptGenerator[Pt]=function(e){return`stagelist.push(\`curtain a ${e.getFieldValue("num1")}\`);`};let Bt="b_curtain_color";const Ft={type:`${Bt}`,message0:"设置幕布颜色 %1",args0:[{type:"field_dropdown",name:"drop1",options:[["黑","black"],["白","white"],["红","red"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Bt]={init:function(){this.jsonInit(Ft)}},Te.javascriptGenerator[Bt]=function(e){return`stagelist.push(\`curtain ${e.getFieldValue("drop1")}\`);`};let Ut="b_curtain_def_color";const Gt={type:`${Ut}`,message0:"设置幕布颜色 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Ut]={init:function(){this.jsonInit(Gt)}},Te.javascriptGenerator[Ut]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`curtain color \${${t}}\`);`};let jt="b_curtain_display";const Ht={type:`${jt}`,message0:"幕布 %1",args0:[{type:"field_dropdown",name:"drop1",options:[["逐渐显示","show"],["逐渐隐藏","hide"],["直接显示","showD"],["直接隐藏","hideD"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[jt]={init:function(){this.jsonInit(Ht)}},Te.javascriptGenerator[jt]=function(e){return`stagelist.push(\`curtain ${e.getFieldValue("drop1")}\`);`};let Vt="b_end_clear";const Wt={type:`${Vt}`,message0:"清除所有动画",args0:[],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Vt]={init:function(){this.jsonInit(Wt)}},Te.javascriptGenerator[Vt]=function(e){return"stagelist.push(`end clear`);"};let zt="b_end_continue";const Zt={type:`${zt}`,message0:"播放继续动画",args0:[],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[zt]={init:function(){this.jsonInit(Zt)}},Te.javascriptGenerator[zt]=function(e){return"stagelist.push(`end continue`);"};let Xt="b_end_finish";const Yt={type:`${Xt}`,message0:"播放结束动画 文字[ %1 ]",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Xt]={init:function(){this.jsonInit(Yt)}},Te.javascriptGenerator[Xt]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`end finish '\${${t}}'\`);`};let Kt="b_screen_set";const Jt={type:`${Kt}`,message0:"场景特效 %1 %2",args0:[{type:"field_dropdown",name:"drop1",options:[["速度线","speedline"],["烟雾","smoke"],["沙尘","dust"],["下雨","rain"],["下雪","snow"]]},{type:"field_dropdown",name:"drop2",options:[["显示","show"],["隐藏","hide"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Kt]={init:function(){this.jsonInit(Jt)}},Te.javascriptGenerator[Kt]=function(e){return`stagelist.push(\`screen ${e.getFieldValue("drop1")} ${e.getFieldValue("drop2")}\`);`};let qt="b_screen_settime";const Qt={type:`${qt}`,message0:"场景特效 %1 显示 %2 秒",args0:[{type:"field_dropdown",name:"drop1",options:[["速度线","speedline"]]},{type:"field_number",name:"num1",min:0,value:1,max:1e3,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[qt]={init:function(){this.jsonInit(Qt)}},Te.javascriptGenerator[qt]=function(e){return`stagelist.push(\`screen ${e.getFieldValue("drop1")} s ${e.getFieldValue("num1")}\`);`};let en="b_bgm_control";const tn={type:`${en}`,message0:"设置 %1 为 %2 并 %3 %4",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["背景音乐","bgm"],["音效","se"]]},{type:"field_dropdown",name:"drop2",options:[["(一次播放)","once"],["(循环播放)","loop"]]},{type:"field_dropdown",name:"drop3",options:[["立即播放","play"],["先暂停","pause"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:65,tooltip:"",helpUrl:""};Ee.Blocks[en]={init:function(){this.jsonInit(tn)}},Te.javascriptGenerator[en]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";const n=e.getFieldValue("drop1");return`\nstagelist.push(\`${n} set \${${t}}\`);// 音乐类型\nstagelist.push(\`${n} ${e.getFieldValue("drop2")}\`);// 播放次数\nstagelist.push(\`${n} ${e.getFieldValue("drop3")}\`);// 立刻状态\nstagelist.push(\`${n} v 0.3\`);// 音乐音量\n\n`};let nn="b_bgm_pause";const rn={type:`${nn}`,message0:"%1 %2",args0:[{type:"field_dropdown",name:"drop1",options:[["背景音乐","bgm"],["音效","se"]]},{type:"field_dropdown",name:"drop2",options:[["缓出暂停","down"],["立即暂停","pause"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:65,tooltip:"",helpUrl:""};Ee.Blocks[nn]={init:function(){this.jsonInit(rn)}},Te.javascriptGenerator[nn]=function(e){const t=e.getFieldValue("drop1"),n=e.getFieldValue("drop2");return"down"===t?`\nstagelist.push(\`${t} ${n}\`);\nstagelist.push(\`${t} pause\`);\nstagelist.push(\`${t} v 0.3\`);\n`:`stagelist.push(\`${t} ${n}\`);`};let on="b_bgm_stop";const sn={type:`${on}`,message0:"暂停并将 %1 的时间戳设为0",args0:[{type:"field_dropdown",name:"drop1",options:[["背景音乐","bgm"],["音效","se"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:65,tooltip:"",helpUrl:""};Ee.Blocks[on]={init:function(){this.jsonInit(sn)}},Te.javascriptGenerator[on]=function(e){return`stagelist.push(\`${e.getFieldValue("drop1")} stop\`);`};let an="b_bgm_volumn";const ln={type:`${an}`,message0:"%1 调整音量 %2",args0:[{type:"field_dropdown",name:"drop1",options:[["背景音乐","bgm"],["音效","se"]]},{type:"field_number",name:"num1",min:0,value:.3,max:1,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:65,tooltip:"",helpUrl:""};Ee.Blocks[an]={init:function(){this.jsonInit(ln)}},Te.javascriptGenerator[an]=function(e){return`stagelist.push(\`${e.getFieldValue("drop1")} v ${e.getFieldValue("num1")}\`);`};const cn={type:"b_stu_display",message0:"人物昵称 %1 动作 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["逐渐出现","show"],["逐渐隐藏","hide"],["直接出现","showD"],["直接隐藏","hideD"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks.b_stu_display={init:function(){this.jsonInit(cn)}},Te.javascriptGenerator.b_stu_display=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} ${e.getFieldValue("drop1")}\`);`};const un={type:"b_stu_position",message0:"人物昵称 %1 设置坐标 横轴 %2 纵轴 %3 %4",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_number",name:"num1",min:-1e3,value:0,max:1e3,precision:.1},{type:"field_number",name:"num2",min:-1e3,value:0,max:1e3,precision:.1},{type:"field_dropdown",name:"drop1",options:[["保持隐藏","hideD"],["逐渐出现","show"],["直接出现","showD"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks.b_stu_position={init:function(){this.jsonInit(un)}},Te.javascriptGenerator.b_stu_position=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`\nstagelist.push(\`\${${t}} x ${e.getFieldValue("num1")}\`);\nstagelist.push(\`\${${t}} y ${e.getFieldValue("num2")}\`);\nstagelist.push(\`\${${t}} ${e.getFieldValue("drop1")}\`);\n`};const hn={type:"b_stu_action",message0:"人物昵称 %1 姿态 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["倒地","down"],["升起","up"],["重置姿态","empty"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks.b_stu_action={init:function(){this.jsonInit(hn)}},Te.javascriptGenerator.b_stu_action=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} ${e.getFieldValue("drop1")}\`);`};let dn="b_stu_face";const pn={type:`${dn}`,message0:"人物昵称 %1 面部表情 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[dn]={init:function(){this.jsonInit(pn)}},Te.javascriptGenerator[dn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length?"":`\nstagelist.push(\`\${${t}} state \${${n}}\`);\n`};let fn="b_stu_light";const gn={type:`${fn}`,message0:"人物昵称 %1 亮度 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["暗","0.5"],["亮","1"],["黑","0"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[fn]={init:function(){this.jsonInit(gn)}},Te.javascriptGenerator[fn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} hl ${e.getFieldValue("drop1")}\`);`};let mn="b_stu_move";const _n={type:`${mn}`,message0:"人物昵称 %1 动作 %2 (位置%3 速度 %4)",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["靠近(忽略右侧参数)","close"],["后退(忽略右侧参数)","back"],["往x轴","moveX"],["往y轴","moveY"],["点头(忽略参数)","nod"],["小跳(忽略参数)","jump"],["小颤抖(忽略参数)","sshake"],["大颤抖(忽略参数)","bshake"]]},{type:"field_number",name:"num1",min:-1e3,value:0,max:1e3,precision:.1},{type:"field_number",name:"num2",min:-1e3,value:0,max:1e3,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[mn]={init:function(){this.jsonInit(_n)}},Te.javascriptGenerator[mn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";const n=e.getFieldValue("drop1"),r=e.getFieldValue("num1"),o=e.getFieldValue("num2");return"close"===n||"back"===n?`\nstagelist.push(\`\${${t}} ${n}\`);\n`:"moveX"===n||"moveY"===n?`\nstagelist.push(\`\${${t}} ${n} ${r} ${o}\`);\n`:"nod"===n?`\nstagelist.push(\`\${${t}} shakeY 10 -5 1\`);\n`:"jump"===n?`\nstagelist.push(\`\${${t}} shakeY 10 4 1\`);\n`:"sshake"===n?`\nstagelist.push(\`\${${t}} shakeX 15 1 6\`);\n`:"bshake"===n?`\nstagelist.push(\`\${${t}} shakeX 20 2 6\`);\n`:void 0};let vn="b_stu_emo";const bn={type:`${vn}`,message0:"人物昵称 %1 角色心情 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["引起注意","Action"],["生气","Aggro"],["胡思乱想","Anxiety"],["谈话","Chat"],["!","E"],["?!","EQ"],["?","Q"],["爱心","Heart"],["...","Idea"],["哼歌","Note"],["害羞","Shy"],["流汗","Sweat"],["闪闪发光","Twinkle"],["亮灯泡","Bulb"],["伤心","Sad"],["叹气","Sigh"],["流泪","Tear"],["吹气","Steam"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[vn]={init:function(){this.jsonInit(bn)}},Te.javascriptGenerator[vn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} emo ${e.getFieldValue("drop1")}\`);`};let En="b_stu_def_emo";const yn={type:`${En}`,message0:"人物昵称 %1 角色心情 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[En]={init:function(){this.jsonInit(yn)}},Te.javascriptGenerator[En]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length||0==n.length?"":`stagelist.push(\`\${${t}} emo \${${t}}\`);`};let Tn="b_stu_emoinit";const wn={type:`${Tn}`,message0:"人物昵称 %1 重置心情位置",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[Tn]={init:function(){this.jsonInit(wn)}},Te.javascriptGenerator[Tn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";e.getFieldValue("drop1");return`\nstagelist.push(\`\${${t}} emoInit\`);\n`};let Sn="b_stu_cover";const Cn={type:`${Sn}`,message0:"人物昵称 %1 移动到图层 %2",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"5是最靠近屏幕，1是最远离屏幕",helpUrl:""};Ee.Blocks[Sn]={init:function(){this.jsonInit(Cn)}},Te.javascriptGenerator[Sn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} z ${e.getFieldValue("drop1")}\`);`};let In="b_stu_shake";const kn={type:`${In}`,message0:"人物昵称 %1 按 %2 抖动 速度 %3 振幅 %4 震动 %5 次",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["横轴","shakeX"],["纵轴","shakeY"]]},{type:"field_number",name:"num1",min:.1,value:10,max:1e3,precision:.1},{type:"field_number",name:"num2",min:-1e3,value:.1,max:1e3,precision:.1},{type:"field_number",name:"num3",min:0,value:5,max:1e7,precision:.1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[In]={init:function(){this.jsonInit(kn)}},Te.javascriptGenerator[In]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} ${e.getFieldValue("drop1")} ${e.getFieldValue("num1")} ${e.getFieldValue("num2")} ${2*e.getFieldValue("num3")}\`);`};let Rn="b_stu_stopshake";const Mn={type:`${Rn}`,message0:"人物昵称 %1 的 %2 停止抖动",args0:[{type:"input_value",name:"val1",check:"String"},{type:"field_dropdown",name:"drop1",options:[["横轴","shakeX"],["纵轴","shakeY"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[Rn]={init:function(){this.jsonInit(Mn)}},Te.javascriptGenerator[Rn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);if(0==t.length)return"";return`stagelist.push(\`\${${t}} ${e.getFieldValue("drop1")} 1 0 0\`);`};let On="b_stu_speak";const xn={type:`${On}`,message0:"人物昵称 %1 表情 %2 心情 %3 动作 %4",args0:[{type:"input_value",name:"val1",check:"String"},{type:"input_value",name:"val2",check:"String"},{type:"field_dropdown",name:"drop1",options:[["无","none"],["引起注意","Action"],["生气","Aggro"],["胡思乱想","Anxiety"],["谈话","Chat"],["!","E"],["?!","EQ"],["?","Q"],["爱心","Heart"],["...","Idea"],["哼歌","Note"],["害羞","Shy"],["流汗","Sweat"],["闪闪发光","Twinkle"],["亮灯泡","Bulb"],["伤心","Sad"],["叹气","Sigh"],["流泪","Tear"],["吹气","Steam"]]},{type:"field_dropdown",name:"drop2",options:[["无","none"],["倒地","down"],["升起","up"],["重置姿态","empty"],["靠近","close"],["后退","back"],["点头","nod"],["小跳","jump"],["小颤抖","sshake"],["大颤抖","bshake"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:120,tooltip:"",helpUrl:""};Ee.Blocks[On]={init:function(){this.jsonInit(xn)}},Te.javascriptGenerator[On]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC),n=Te.javascriptGenerator.valueToCode(e,"val2",Te.javascriptGenerator.ORDER_ATOMIC),r=e.getFieldValue("drop1"),o=e.getFieldValue("drop2");let i="";return t?("none"!==r&&(i+=`\nstagelist.push(\`\${${t}} emo ${r}\`);\n`),"down"===o?i+=`\nstagelist.push(\`\${${t}} down\`);\n`:"up"===o?i+=`\nstagelist.push(\`\${${t}} up\`);\n`:"empty"===o?i+=`\nstagelist.push(\`\${${t}} empty\`);\n`:"close"===o?i+=`\nstagelist.push(\`\${${t}} close\`);\n`:"back"===o?i+=`\nstagelist.push(\`\${${t}} back\`);\n`:"nod"===o?i+=`\nstagelist.push(\`\${${t}} shakeY 10 -5 1\`);\n`:"jump"===o?i+=`\nstagelist.push(\`\${${t}} shakeY 10 4 1\`);\n`:"sshake"===o?i+=`\nstagelist.push(\`\${${t}} shakeX 15 1 6\`);\n`:"bshake"===o&&(i+=`\nstagelist.push(\`\${${t}} shakeX 20 2 6\`);\n`),"''"!==n&&(i+=`\nstagelist.push(\`\${${t}} state \${${n}}\`);\n`),i):""};const An={type:"b_stage",message0:"主线块(唯一) %1 %2",args0:[{type:"field_number",name:"num1",value:1,min:1,max:100},{type:"input_statement",name:"sta1"}],colour:230,tooltip:"",helpUrl:""};Ee.Blocks.b_stage={init:function(){this.jsonInit(An)}},Te.javascriptGenerator.b_stage=function(e){const t=e.getFieldValue("num1");return`\n// 阶段${t}代码\nstagelist=[];\n${Te.javascriptGenerator.statementToCode(e,"sta1").trim()}\nif(resmap.has(${t})){\n    errorset.add(${t});\n}else{\n    resmap.set(${t},stagelist.join("\\n")+"\\n");\n}\n// 阶段${t}代码结束\n`};const Nn={type:"b_case",message0:"定义代码块(唯一) %1 %2",args0:[{type:"field_number",name:"num1",value:201,min:201,max:300,precision:1},{type:"input_statement",name:"sta1"}],colour:290,tooltip:"",helpUrl:""};Ee.Blocks.b_case={init:function(){this.jsonInit(Nn)}},Te.javascriptGenerator.b_case=function(e){const t=e.getFieldValue("num1");return`\n// 支线${t}代码\nstagelist=[];\n${Te.javascriptGenerator.statementToCode(e,"sta1").trim()}\nif(resmap.has(${t})){\n    errorset.add(${t});\n}else{\n    resmap.set(${t},stagelist.join("\\n")+"\\n");\n}\n// 支线${t}代码结束\n`};let Ln="b_case_jump";const Dn={type:`${Ln}`,message0:"运行代码块 %1",args0:[{type:"field_number",name:"num1",min:201,value:201,max:300,precision:1}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:"",helpUrl:""};Ee.Blocks[Ln]={init:function(){this.jsonInit(Dn)}},Te.javascriptGenerator[Ln]=function(e){const t=e.getFieldValue("num1"),n=Ze();return`\n// 把 支线块被哪个时间戳的跳转使用 push到case_jump_dict的该id的value（一个列表）里\nif(case_jump_dict.has(${t})){\n  case_jump_dict.get(${t}).push('${n}');\n}else{\n  case_jump_dict.set(${t},['${n}']);\n}\nstagelist.push(\`jump ${t}${n}PathStart\`);\nstagelist.push(\`target ${t}${n}PathBack\`);\n`};let Pn="b_user_write";const $n={type:`${Pn}`,message0:"脚本 %1",args0:[{type:"input_value",name:"val1",check:"String"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"",helpUrl:""};Ee.Blocks[Pn]={init:function(){this.jsonInit($n)}},Te.javascriptGenerator[Pn]=function(e){const t=Te.javascriptGenerator.valueToCode(e,"val1",Te.javascriptGenerator.ORDER_ATOMIC);return 0==t.length?"":`stagelist.push(\`\${${t}}\`);`};const Bn={};function Fn(){return(0,t.jsx)(ue.ZP,{readOnly:!1,sounds:!1,trashcan:!0,maxBlocks:"Infinity",zoom:{controls:!1,wheel:!0,startScale:1.1,maxScale:1.5,minScale:.2,scaleSpeed:1.1},move:{scrollbars:!0,drag:!0,wheel:!0},initialXml:'\n<xml xmlns="http://www.w3.org/1999/xhtml">\n</xml>\n      ',children:(0,t.jsx)(be,{})})}ye().dialog.setAlert((function(e,t){console.log("Alert: "+e),Bn.show("Alert",e,{onCancel:t})})),ye().dialog.setConfirm((function(e,t){console.log("Confirm: "+e),Bn.show("Confirm",e,{showOkay:!0,onOkay:function(){t(!0)},showCancel:!0,onCancel:function(){t(!1)}})})),ye().dialog.setPrompt((function(e,t,n){console.log("Prompt: "+e),Bn.show("Prompt",e,{showInput:!0,showOkay:!0,onOkay:function(){n(Bn.inputField.value)},showCancel:!0,onCancel:function(){n(null)}}),Bn.inputField.value=t})),Bn.hide=function(){Bn.backdropDiv_&&(Bn.backdropDiv_.style.display="none",Bn.dialogDiv_.style.display="none")},Bn.show=function(e,t,n){var r=Bn.backdropDiv_,o=Bn.dialogDiv_;o||((r=document.createElement("div")).id="customDialogBackdrop",r.style.cssText="position: absolute;top: 0; left: 0; right: 0; bottom: 0;background-color: rgba(0, 0, 0, .7);z-index: 100;",document.body.appendChild(r),(o=document.createElement("div")).id="customDialog",o.style.cssText="background-color: #fff;width: 400px;margin: 20px auto 0;padding: 10px;",r.appendChild(o),o.onclick=function(e){e.stopPropagation()},Bn.backdropDiv_=r,Bn.dialogDiv_=o),r.style.display="block",o.style.display="block",o.innerHTML='<header class="customDialogTitle"></header><p class="customDialogMessage"></p>'+(n.showInput?'<div><input id="customDialogInput"></div>':"")+'<div class="customDialogButtons">'+(n.showCancel?'<button id="customDialogCancel">Cancel</button>':"")+(n.showOkay?'<button id="customDialogOkay">OK</button>':"")+"</div>",o.getElementsByClassName("customDialogTitle")[0].appendChild(document.createTextNode(e)),o.getElementsByClassName("customDialogMessage")[0].appendChild(document.createTextNode(t));var i=function(e){Bn.hide(),n.onOkay&&n.onOkay(),e&&e.stopPropagation()},s=function(e){Bn.hide(),n.onCancel&&n.onCancel(),e&&e.stopPropagation()},a=document.getElementById("customDialogInput");if(Bn.inputField=a,a)a.focus(),a.onkeyup=function(e){return 13==e.keyCode?(i(),!1):27==e.keyCode?(s(),!1):void 0};else{var l=document.getElementById("customDialogOkay");l&&l.focus()}n.showOkay&&document.getElementById("customDialogOkay").addEventListener("click",i),n.showCancel&&document.getElementById("customDialogCancel").addEventListener("click",s),r.onclick=s};const Un=document.getElementById("root");(0,n.s)(Un).render((0,t.jsx)((function(){return(0,t.jsx)(re,{children:(0,t.jsx)(se,{children:(0,t.jsx)(oe,{path:"/",element:(0,t.jsx)(Fn,{})})})})}),{}))})(),__webpack_exports__})()));
//# sourceMappingURL=renderer.js.map